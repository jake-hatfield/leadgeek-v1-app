(this["webpackJsonpleadgeek-client"]=this["webpackJsonpleadgeek-client"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var r,n,l,i,s,c=a(0),o=a.n(c),d=a(32),u=a.n(d),m=a(65),p=a.n(m),f=a(12),g=a(14),h=a(66),v=a(67),b=a(40),y=a(10),x={id:"",title:"",message:"",alertType:null},E=Object(y.c)({name:"alert",initialState:x,reducers:{removeAlert:function(){return x},setAlert:{reducer:function(e,t){var a=t.payload,r=a.id,n=a.title,l=a.message,i=a.alertType;e.id=r,e.title=n,e.message=l,e.alertType=i},prepare:function(e){var t=e.title,a=e.message,r=e.alertType;return{payload:{id:Object(y.d)(),title:t,message:a,alertType:r,visible:!0}}}}}}),w=E.actions,k=w.removeAlert,N=w.setAlert,O=E.reducer,j=a(4),C=a.n(j),L=a(6),S=a(7),I=a.n(S),P=a(11),M={headers:{"Content-Type":"application/json"}},B=function(e){return e[0].toUpperCase()+e.slice(1)},z=function(e,t){return e.length>t?e.substr(0,t-1)+"...":e},T=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},R=function(e){var t,a;return(a=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n?=]+)/im))&&(a=(t=a[1]).match(/^[^.]+\.(.+\..+)$/))&&(t=a[1]),t},W=function(e,t){var a;return"Appliances"===t?a=616462:t.includes("Arts")?a=7498354:"Automotive"===t?a=22271330:t.includes("Baby")?a=2969134:t.includes("Beauty")?a=8918802:"Books"===t?a=63513871:t.includes("CDs")?a=5768853:t.includes("Phone")?a=23560255:t.includes("Clothing")?a=115990329:t.includes("Collectibles")?a=5319325:t.includes("Electronics")?a=13436282:t.includes("Grocery")?a=2871202:t.includes("Handmade")?a=1515790:t.includes("Health")?a=7528676:t.includes("Home")?a=59108947:t.includes("Industrial")?a=9915828:t.includes("Dining")?a=59108947:t.includes("Movies")?a=3426934:t.includes("Musical")?a=1455860:t.includes("Office")?a=7746679:t.includes("Patio")?a=8107431:t.includes("Pet")?a=4996454:t.includes("Software")?a=160164:t.includes("Sports")?a=29519885:t.includes("Tools")?a=17564272:t.includes("Toys")?a=8933993:"Video Games"===t&&(a=730691),a?(e/a*100).toFixed(3):"-"},V=function(e,t){window.open(e),window.open(t)},F=function(e,t,a,r){Object(c.useEffect)((function(){var n=function(n){var l;(null===(l=e.current)||void 0===l?void 0:l.contains(n.target))&&!r||(t(!1),a&&a(!1))};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t,a,r])},H=function(e,t,a){Object(c.useEffect)((function(){function r(r){var n;(null===(n=e.current)||void 0===n?void 0:n.contains(r.target))||(t(!1),a&&a(!1))}return document.addEventListener("mouseup",r),function(){document.removeEventListener("mouseup",r)}}),[e,t,a])},A=function(e){return 12900===e?"Grow":18900===e?"Pro":26300===e?"Bundle":"Leadgeek"},D=function(e){return.25*e/100},_=function(e,t){var a=new Date(1e3*e).toJSON();return t?P.DateTime.fromISO(a).toFormat("LLL dd, yyyy"):P.DateTime.fromISO(a).toFormat("LLLL dd")},G=function(e){var t=P.DateTime.now(),a=Number(t.toFormat("dd")),r=t.set({day:15,hour:23,minute:59,second:59});return a>=15?1===e?r.plus({months:1}):r.plus({months:-1}):r},q=function(e){var t=new Date(1e3*e).toJSON(),a=P.DateTime.fromISO(t).plus({months:2}),r=Number(a.toFormat("dd")),n=a.set({hour:23,minute:59,second:59});return r>=15?n.set({day:15}).plus({months:1}):n.set({day:15})},U=["123456","password","12345678","qwerty","123456789","12345","1234","111111","1234567","dragon","123123","baseball","abc123","football","monkey","letmein","696969","shadow","master","666666","qwertyuiop","123321","mustang","1234567890","michael","654321","pussy","superman","1qaz2wsx","7777777","fuckyou","121212","000000","qazwsx","123qwe","killer","trustno1","jordan","jennifer","zxcvbnm","asdfgh","hunter","buster","soccer","harley","batman","andrew","tigger","sunshine","iloveyou","fuckme","2000","charlie","robert","thomas","hockey","ranger","daniel","starwars","klaster","112233","george","asshole","computer","michelle","jessica","pepper","1111","zxcvbn","555555","11111111","131313","freedom","777777","pass","fuck","maggie","159753","aaaaaa","ginger","princess","joshua","cheese","amanda","summer","love","ashley","6969","nicole","chelsea","biteme","matthew","access","yankees","987654321","dallas","austin","thunder","taylor","matrix","minecraft"],J=a(28),Y=function(){var e=localStorage.getItem("filters");return e?JSON.parse(e):[]},K=Y(),$=Object(y.b)("filters/setItemLimit",function(){var e=Object(L.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z={count:K.length||0,filters:K,prep:{unit:+localStorage.getItem("unitFee")||null,lb:+localStorage.getItem("lbFee")||null},itemLimit:+localStorage.getItem("itemLimit")||20,dateLimits:{min:null,max:null,selected:null}},X=Object(y.c)({name:"filters",initialState:Z,reducers:{clearFilter:function(e,t){e.filters=e.filters.filter((function(e){return e.id!==t.payload.id})),e.count=e.filters.length;var a=Y();if(a.length>0){var r=a.filter((function(e){return e.id!==t.payload.id}));r.length>0?localStorage.setItem("filters",JSON.stringify(r)):localStorage.removeItem("filters")}},clearFilters:function(e){e.count=0,e.filters=[],localStorage.removeItem("filters")},createFilter:{reducer:function(e,t){var a=t.payload,r=a.id,n=a.format,l=a.type,i=a.title,s=a.operator,c=a.value,o={id:r,format:n,type:l,title:i,operator:s,value:"roi"===l?+c/100:c};if("numeric"===n){var d=e.filters.findIndex((function(e){return e.type===o.type&&e.operator===o.operator}));d<0?e.filters.push(o):e.filters[d]=o}else e.filters.push(o);e.count=e.filters.length;var u=Y(),m=u.findIndex((function(e){return e.type===o.type&&e.operator===o.operator}));return m<0?localStorage.setItem("filters",JSON.stringify([].concat(Object(J.a)(u),[o]))):(u[m]=o,localStorage.setItem("filters",JSON.stringify(u)))},prepare:function(e,t,a,r,n){return{payload:{id:Object(y.d)(),format:e,type:t,title:a,operator:r,value:n}}}},setDateLimit:function(e,t){e.dateLimits.min=t.payload.min,e.dateLimits.max=t.payload.max,e.dateLimits.selected=t.payload.selected},setItemLimit:function(e,t){localStorage.setItem("itemLimit",t.payload.itemLimit.toString()),e.itemLimit=+t.payload.itemLimit}},extraReducers:function(e){e.addCase($.fulfilled,(function(e,t){localStorage.setItem("itemLimit",t.payload.itemLimit.toString()),e.itemLimit=+t.payload.itemLimit}))}}),Q=X.actions,ee=Q.clearFilter,te=Q.clearFilters,ae=Q.createFilter,re=Q.setDateLimit,ne=X.reducer,le=Object(y.b)("leads/addComment",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,e.prev=1,n=t.comment,l=t.userId,i=t.leadId,s=JSON.stringify({comment:n,userId:l,leadId:i}),e.next=6,I.a.post("/api/leads/add-comment",s,M);case 6:if(c=e.sent,"Comment was added"!==(o=c.data).message){e.next=12;break}return e.abrupt("return",o.comments);case 12:r(N({title:"Something went wrong",message:"Your comment couldn't be added right now",alertType:"danger"}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a){return e.apply(this,arguments)}}()),ie=Object(y.b)("leads/getAllLeads",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,n=t.userId,l=t.filters,i=t.type,s=t.query,c=JSON.stringify({userId:n,filters:l,type:i,query:s}),e.next=5,I.a.post("/api/leads/all",c,M);case 5:return o=e.sent,(d=o.data).totalByIds.length>0&&r(N({title:"Data ready for export",message:'Please click "confirm" to save as a .csv file',alertType:"success"})),e.abrupt("return",{totalByIds:d.totalByIds,type:d.type});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),se=Object(y.b)("leads/getArchivedLeads",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,n=t.leads,l=t.page,i=t.filters,s=JSON.stringify({leads:n,page:l,filters:i}),e.next=6,I.a.post("/api/leads/archived",s,M);case 6:return c=e.sent,o=c.data,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),ce=Object(y.b)("leads/getFeedLeads",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o,d,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,n=t.user,l=n.id,i=n.role,s=t.page,c=t.filters,o=JSON.stringify({_id:l,role:i,page:s,filters:c}),e.next=6,I.a.post("/api/leads",o,M);case 6:return d=e.sent,u=d.data,e.abrupt("return",u);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),oe=Object(y.b)("leads/getLikedLeads",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,n=t.leads,l=t.page,i=t.filters,s=JSON.stringify({leads:n,page:l,filters:i}),e.next=6,I.a.post("/api/leads/liked",s,M);case 6:return c=e.sent,o=c.data,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),de=Object(y.b)("leads/getSearchResults",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.rejectWithValue,e.prev=1,n=t.userId,l=t.query,i=t.page,s=t.filters,l){e.next=5;break}return e.abrupt("return",{data:{leads:[],page:1,hasNextPage:!1,hasPreviousPage:!1,nextPage:2,previousPage:0,totalItems:0},query:l});case 5:return c=JSON.stringify({userId:n,query:l,page:i,filters:s}),e.next=8,I.a.post("/api/leads/search",c,M);case 8:return o=e.sent,d=o.data,e.abrupt("return",{data:d,query:l});case 13:return e.prev=13,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),ue=Object(y.b)("leads/handleArchiveLead",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o,d,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,e.prev=1,n=t.userId,l=t.leadId,i=JSON.stringify({userId:n,leadId:l}),e.next=6,I.a.post("/api/leads/handle-archive-lead",i,M);case 6:if(200!==(s=e.sent).status){e.next=11;break}return c=s.data,o=c.message,d=c.leads,u=c.title,r(N({title:z(u,50),message:o,alertType:"success"})),e.abrupt("return",{leadId:l,leads:d});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),me=Object(y.b)("leads/handleLikeLead",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o,d,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,e.prev=1,n=t.userId,l=t.leadId,i=JSON.stringify({userId:n,leadId:l}),e.next=6,I.a.post("/api/leads/handle-like-lead",i,M);case 6:if(200!==(s=e.sent).status){e.next=11;break}return c=s.data,o=c.message,d=c.leads,u=c.title,r(N({title:z(u,50),message:o,alertType:"success"})),e.abrupt("return",{leadId:l,leads:d});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),pe=Object(y.c)({name:"leads",initialState:{status:"loading",feed:{totalByIds:[],totalAllIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null}},liked:{totalByIds:[],totalAllIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null}},archived:{totalByIds:[],totalAllIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null}},search:{totalByIds:[],totalAllIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null},searchValue:null,newSearch:!1},currentLead:null,currentLeadStatus:"loading",lastUpdated:null},reducers:{setCurrentLead:function(e,t){e.currentLead=t.payload},clearCurrentLead:function(e){e.currentLead=null},setLeadIdle:function(e){e.status="idle"},setLeadLoading:function(e){e.status="loading"},setPage:function(e,t){var a=t.payload,r=a.page;e[a.type].pagination.page=r},setSearchValue:function(e,t){e.search.newSearch=!0,e.search.searchValue=t.payload}},extraReducers:function(e){e.addCase(ie.fulfilled,(function(e,t){var a=t.payload,r=a.totalByIds,n=a.type;e[n].totalByIds||(e[n].totalByIds=[]),e[n].totalByIds=r})).addCase(se.fulfilled,(function(e,t){var a=t.payload,r=a.archivedLeads,n=a.page,l=a.hasNextPage,i=a.hasPreviousPage,s=a.nextPage,c=a.previousPage,o=a.totalItems;e.status="idle",e.archived.pageByIds=r,e.archived.pagination.page=n,e.archived.pagination.hasNextPage=l,e.archived.pagination.hasPreviousPage=i,e.archived.pagination.nextPage=s,e.archived.pagination.previousPage=c,e.archived.pagination.totalItems=o})).addCase(se.rejected,(function(e){e.status="failed"})).addCase(ce.pending,(function(e){e.status="loading",e.currentLeadStatus="loading"})).addCase(ce.fulfilled,(function(e,t){var a=t.payload,r=a.feed,n=a.page,l=a.hasNextPage,i=a.hasPreviousPage,s=a.nextPage,c=a.previousPage,o=a.lastPage,d=a.totalItems,u=a.filteredItems,m=a.lastUpdated;e.status="idle",e.currentLeadStatus="idle",e.feed.pageByIds=r,e.feed.pagination.page=n,e.feed.pagination.hasNextPage=l,e.feed.pagination.hasPreviousPage=i,e.feed.pagination.nextPage=s,e.feed.pagination.previousPage=c,e.feed.pagination.lastPage=o,e.feed.pagination.totalItems=d,e.feed.pagination.filteredItems=u,e.lastUpdated=m})).addCase(ce.rejected,(function(e){e.status="failed"})).addCase(oe.fulfilled,(function(e,t){var a=t.payload,r=a.likedLeads,n=a.page,l=a.hasNextPage,i=a.hasPreviousPage,s=a.nextPage,c=a.previousPage,o=a.totalItems;e.status="idle",e.liked.pageByIds=r,e.liked.pagination.page=n,e.liked.pagination.hasNextPage=l,e.liked.pagination.hasPreviousPage=i,e.liked.pagination.nextPage=s,e.liked.pagination.previousPage=c,e.liked.pagination.totalItems=o})).addCase(oe.rejected,(function(e){e.status="failed"})).addCase(de.pending,(function(e){e.status="loading"})).addCase(de.fulfilled,(function(e,t){var a=t.payload,r=a.data,n=r.leads,l=r.page,i=r.hasNextPage,s=r.hasPreviousPage,c=r.nextPage,o=r.previousPage,d=r.totalItems,u=a.query;e.status="idle",e.search.pageByIds=n,e.search.pagination.page=l,e.search.pagination.page=l,e.search.pagination.hasNextPage=i,e.search.pagination.hasPreviousPage=s,e.search.pagination.nextPage=c,e.search.pagination.previousPage=o,e.search.pagination.totalItems=d,e.search.searchValue=u,e.search.newSearch=!1})).addCase(de.rejected,(function(e){e.status="failed"})).addCase(ue.fulfilled,(function(e,t){var a=e.archived.pageByIds.filter((function(e){var a;return e._id!==(null===(a=t.payload)||void 0===a?void 0:a.leadId)}));e.archived.pageByIds=a})).addCase(me.fulfilled,(function(e,t){var a=e.liked.pageByIds.filter((function(e){var a;return e._id!==(null===(a=t.payload)||void 0===a?void 0:a.leadId)}));e.liked.pageByIds=a})).addCase($.fulfilled,(function(e,t){e[t.payload.type].pagination.page=1}))}}),fe=pe.actions,ge=fe.setCurrentLead,he=fe.clearCurrentLead,ve=fe.setLeadIdle,be=fe.setLeadLoading,ye=fe.setPage,xe=fe.setSearchValue,Ee=pe.reducer,we={status:"loading",token:localStorage.getItem("token"),isAuthenticated:!1,user:null,validatedResetPwToken:!1},ke=Object(y.b)("auth/authenticateUser",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,n=a.rejectWithValue,e.prev=1,l=t.email,i=t.password,s=l.toLowerCase(),c=JSON.stringify({email:s,password:i}),e.next=7,I.a.post("/api/auth",c,M);case 7:if(!(o=e.sent).data.token){e.next=10;break}return e.abrupt("return",o.data.token);case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),console.log(e.t0),r(N({title:"Login error",message:"Email & password combination aren't correct",alertType:"danger"})),e.abrupt("return",n(e.t0));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}()),Ne=Object(y.b)("auth/clearNotification",function(){var e=Object(L.a)(C.a.mark((function e(t){var a,r,n,l,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.notificationId,r=t.userId,n=JSON.stringify({notificationId:a,userId:r}),e.next=4,I.a.put("/api/users/clear-notification",n,M);case 4:return l=e.sent,i=l.data,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Oe=Object(y.b)("auth/getUserData",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,I.a.get("/api/auth");case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),je=Object(y.b)("auth/surrogateUser",function(){var e=Object(L.a)(C.a.mark((function e(t){var a,r,n,l,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.userId,r=t.surrogateId,n=JSON.stringify({userId:a,surrogateId:r}),e.next=5,I.a.post("/api/auth/surrogate-user",n,M);case 5:return l=e.sent,i=l.data,e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),Ce=Object(y.b)("auth/updatePassword",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s,c,o,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.dispatch,n=a.rejectWithValue,e.prev=1,l=t.email,i=t.password,s=t.redirect,l&&i){e.next=6;break}return r(N({title:"Error",message:"Required information is missing",alertType:"danger"})),e.abrupt("return",n("Required information is missing"));case 6:return c=l.toLowerCase(),o=JSON.stringify({email:c,password:i}),e.next=10,I.a.put("/api/auth/update-password",o,M);case 10:if(d=e.sent,"Password was successfully updated"!==d.data){e.next=22;break}if(r(N({title:"Reset success",message:"Your password was successfully updated",alertType:"success"})),localStorage.removeItem("resetPwToken"),localStorage.removeItem("email"),!s){e.next=20;break}return e.next=19,r(ke({email:l,password:i}));case 19:return e.abrupt("return",r(Oe()));case 20:e.next=23;break;case 22:return e.abrupt("return",r(N({title:"Error resetting password",message:"Please contact support",alertType:"danger"})));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.log(e.t0);case 28:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(t,a){return e.apply(this,arguments)}}()),Le=Object(y.b)("auth/validateResetPwToken",function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,l,i,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,n=a.rejectWithValue,e.prev=1,l=JSON.stringify({resetPwToken:t.resetPwToken}),e.next=5,I.a.post("/api/auth/reset-password-validation",l,M);case 5:if(i=e.sent,"Password reset link was validated"!==(s=i.data).message){e.next=12;break}return localStorage.setItem("email",s.user),e.abrupt("return");case 12:return r(N({title:"Password couldn't be reset",message:"Please request a new email link or contact support.",alertType:"danger"})),e.abrupt("return",n(s.message));case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,a){return e.apply(this,arguments)}}()),Se=Object(y.c)({name:"auth",initialState:we,reducers:{removeUserData:function(e){localStorage.removeItem("token"),e.token=null,e.status="idle",e.isAuthenticated=!1,e.user=null,e.validatedResetPwToken=!1}},extraReducers:function(e){e.addCase(le.fulfilled,(function(e,t){e.user&&(e.user.comments=t.payload)})).addCase(ke.pending,(function(e){e.status="loading"})).addCase(ke.fulfilled,(function(e,t){e.status="idle",e.token=t.payload,e.isAuthenticated=!0})).addCase(ke.rejected,(function(e){e.status="idle",e.token=null,e.isAuthenticated=!1,e.user=null,e.validatedResetPwToken=!1})).addCase(Ne.fulfilled,(function(e,t){var a;(null===(a=e.user)||void 0===a?void 0:a.notifications)&&(e.user.notifications=t.payload)})).addCase(Oe.pending,(function(e){e.status="loading"})).addCase(Oe.fulfilled,(function(e,t){e.status="idle",e.isAuthenticated=!0,e.user=t.payload})).addCase(Oe.rejected,(function(e){e.status="idle",e.token=null,e.isAuthenticated=!1,e.user=null,e.validatedResetPwToken=!1})).addCase(me.fulfilled,(function(e,t){var a;e.user.likedLeads=null===(a=t.payload)||void 0===a?void 0:a.leads})).addCase(ue.fulfilled,(function(e,t){var a;e.user.archivedLeads=null===(a=t.payload)||void 0===a?void 0:a.leads})).addCase(je.fulfilled,(function(e,t){var a=t.payload,r=a.token,n=a.user;e.token=r,e.user=n})).addCase(Ce.fulfilled,(function(e){e.validatedResetPwToken=!1})).addCase(Le.pending,(function(e){e.status="loading"})).addCase(Le.fulfilled,(function(e){e.status="idle",e.validatedResetPwToken=!0})).addCase(Le.rejected,(function(e,t){e.status="idle",e.validatedResetPwToken=!1}))}}),Ie=Se.actions.removeUserData,Pe=Se.reducer,Me=Object(y.a)({reducer:{alert:O,auth:Pe,filters:ne,leads:Ee},middleware:function(e){return e({serializableCheck:!1})}}),Be=a(20),ze=a(5),Te=a(2),Re=function(){return Object(b.b)()},We=b.c,Ve=function(){var e=Object(c.useState)(localStorage.getItem("theme")||"light"),t=Object(Te.a)(e,2),a=t[0],r=t[1],n="light"===a?"dark":"light";return Object(c.useEffect)((function(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[a,n]),[n,r]},Fe=function(e){var t=e.text,a=e.onClick,r=e.width,n=e.margin,l=e.size,i=e.cta,s=e.path,c=e.conditional,d=e.conditionalDisplay,u=e.lightOnly;return o.a.createElement("button",{onClick:a,className:"".concat(r||"w-auto"," ").concat(n?"ml-4":""," flex items-center relative py-2 px-3 rounded-main shadow-sm hover:shadow-md border border-300 ").concat("sm"===l?"text-sm":"text-xs"," font-semibold ").concat(i?u?"cs-purple-light":"cs-purple":"text-100 group hover:text-purple-500 dark:hover:text-purple-300 dark:bg-darkGray-300 dark:hover:bg-darkGray-200"," transition-main ring-purple")},s&&o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"svg-sm"},s),o.a.createElement("span",{className:"".concat(s?"ml-2":""," ").concat(i?"":"text-100 group-hover:text-purple-500 dark:group-hover:text-purple-300"," mx-auto")},t),c&&d)},He=a(16),Ae=[{title:"danger",path:o.a.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})},{title:"warning",path:o.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})},{title:"success",path:o.a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}],De=function(){var e=Re(),t=We((function(e){return e.alert})),a=t.id,r=t.title,n=t.message,l=t.alertType,i=Object(c.useState)(!1),s=Object(Te.a)(i,2),d=s[0],u=s[1];Object(c.useEffect)((function(){t.id&&u(!0)}),[t.id]);var m=function(){if(d)return d&&u(!1),e(k())};Object(c.useEffect)((function(){if(d){var e=window.setTimeout((function(){m()}),4e3);return function(){window.clearTimeout(e)}}}));var p=Object(He.useSpring)({transform:d?"translateY(-40%) translateX(-50%)":"translateY(200%) translateX(-50%)",config:{duration:200}});return o.a.createElement(He.animated.div,{key:a,style:p,className:"fixed bottom-0 left-1/2 z-40 w-full max-w-3xl py-4 px-6 rounded-main shadow-lg bg-gray-900 dark:bg-darkGray-200 border border-gray-700 dark:border-darkGray-100"},o.a.createElement("div",{className:"w-full flex items-center justify-between"},o.a.createElement("div",{className:"flex item-center"},o.a.createElement("div",{className:"".concat("success"===l?"text-teal-300":"warning"===l?"text-purple-300":"danger"===l?"text-red-300":"text-gray-700"," flex items-center")},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor"},l&&function(e){var t=Ae.find((function(t){return t.title===e}));return t?t.path:o.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}(l))),o.a.createElement("div",{className:"ml-2 flex items-center text-white"},o.a.createElement("p",{className:"font-semibold flex-none"},r),o.a.createElement("p",{className:"ml-2 pl-4 mr-8 text-gray-200 truncate"},n))),o.a.createElement("button",{onClick:function(){return m()},className:"ml-6 p-1 hover:bg-gray-800 rounded-md text-gray-300 ring-gray"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-base",viewBox:"0 0 20 20",fill:"currentColor"},o.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))))},_e=function(){return o.a.createElement("footer",{className:"mt-6 xl:mt-0 mb-6 container"},o.a.createElement("span",{className:"bg-white"},"\xa9 2020 - ",(new Date).getFullYear()," Leadgeek. All rights reserved."))};function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ue(e,t){var a=e.title,o=e.titleId,d=qe(e,["title","titleId"]);return c.createElement("svg",Ge({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 397",fill:"currentColor",ref:t,"aria-labelledby":o},d),a?c.createElement("title",{id:o},a):null,r||(r=c.createElement("polygon",{className:"cls-1",points:"800 198 832 198 832 166 864 166 864 134 832 134 800 134 800 166 768 166 768 198 768 230 800 230 800 198"})),n||(n=c.createElement("path",{className:"cls-1",d:"M416,134V70H384V38H352V6H128V38H96V70H64v96H32V134H0v64H32v64H64v64H96v32h32v32H352V358h32V326h32V230h32V166H416Zm-64,32V294H320v32H160V294H128V102h32V70H320v32h32v64Z"})),l||(l=c.createElement("path",{className:"cls-1",d:"M992,134v32H960V70H928V38H896V6H672V38H640V70H608v96H576v64h32v96h32v32h32v32H896V358h32V326h32V262h32V198h32V134ZM672,294V102h32V70H864v32h32V294H864v32H672Z"})),i||(i=c.createElement("polygon",{className:"cls-1",points:"192 102 192 134 160 134 160 166 160 198 192 198 192 166 224 166 224 134 256 134 256 102 224 102 192 102"})),s||(s=c.createElement("polygon",{className:"cls-1",points:"576 102 544 102 512 102 480 102 448 102 448 134 448 166 480 166 512 166 544 166 576 166 576 134 576 102"})))}var Je,Ye,Ke=c.forwardRef(Ue),$e=(a.p,function(e){var t=e.children;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"flex flex-col justify-between h-screen bg-splatter"},o.a.createElement("div",{className:"fixed z-10 inset-x-0 top-0 h-3 bg-gray-900"}),o.a.createElement("header",{className:"mt-8 hidden md:block container"},o.a.createElement(f.c,{to:"/"},o.a.createElement(Ke,{className:"default-logo-lg text-purple-500"}))),o.a.createElement("main",{className:"relative h-full"},t),o.a.createElement(_e,null)),o.a.createElement(De,null))}),Ze=function(e){var t=e.label,a=e.type,r=e.name,n=e.placeholder,l=e.value,i=e.onChange,s=e.required,c=e.styles,d=(e.disabled,e.lightOnly);return o.a.createElement("div",{className:"pt-4 ".concat(c||""," flex-col items-center")},o.a.createElement("label",{htmlFor:r,className:d?"form-field-label-light":"form-field-label"},t),o.a.createElement("input",{id:r,name:r,type:a,value:l,placeholder:n,required:s,onChange:i,className:"mt-1 ".concat(d?"form-field-light":"form-field")}))};function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function et(e,t){var a=e.title,r=e.titleId,n=Qe(e,["title","titleId"]);return c.createElement("svg",Xe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":r},n),a?c.createElement("title",{id:r},a):null,Je||(Je=c.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"})),Ye||(Ye=c.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})))}var tt,at,rt=c.forwardRef(et);a.p;function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function it(e,t){var a=e.title,r=e.titleId,n=lt(e,["title","titleId"]);return c.createElement("svg",nt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":r},n),a?c.createElement("title",{id:r},a):null,tt||(tt=c.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"})),at||(at=c.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})))}var st,ct=c.forwardRef(it),ot=(a.p,function(e){var t=e.label,a=e.placeholder,r=e.name,n=e.value,l=e.onChange,i=e.required,s=e.styles,d=e.lightOnly,u=Object(c.useState)(!1),m=Object(Te.a)(u,2),p=m[0],f=m[1];return o.a.createElement("div",{className:"pt-4 ".concat(s||""," flex-col items-center")},o.a.createElement("label",{htmlFor:r,className:d?"form-field-label-light":"form-field-label"},t),o.a.createElement("div",{className:"relative"},o.a.createElement("input",{id:r,name:r,type:p?"text":"password",value:n,placeholder:a,required:i,onChange:l,className:"mt-1 ".concat(d?"form-field-light":"form-field")}),o.a.createElement("button",{onClick:function(){f(!p)},type:"button",className:"mt-3 mr-4 absolute right-0 rounded-md text-gray-400 focus:outline-none focus:shadow-outline"},p?o.a.createElement(ct,{className:"mt-2 h-4"}):o.a.createElement(rt,{className:"mt-2 h-4"}))))}),dt=function(e){e?(I.a.defaults.headers.common["x-auth-token"]=e,localStorage.setItem("token",e)):(delete I.a.defaults.headers.common["x-auth-token"],localStorage.removeItem("token"))},ut={card:"max-w-md w-full mt-12 md:mt-0 mx-auto card-200 card-padding-y bg-white",content:"h-full w-full md:flex md:flex-col md:justify-center container",contentHeader:"mt-8 hidden md:block container",logoLg:"default-logo-lg text-purple-500",logoSm:"default-logo-sm",signup:"flex items-center mt-4 card-padding-x text-sm",subheaderLink:"block md:inline-block ml-2 link-light",title:"card-padding-x font-bold text-xl text-gray-900"},mt=function(){var e=Re(),t=We((function(e){return e.auth.status})),a=We((function(e){return e.auth.isAuthenticated})),r=We((function(e){return e.auth.token})),n=Object(c.useState)({email:"",password:""}),l=Object(Te.a)(n,2),i=l[0],s=l[1],d=i.email,u=i.password,m=function(e){return s(Object(ze.a)(Object(ze.a)({},i),{},Object(Be.a)({},e.target.name,e.target.value)))},p=function(){var a=Object(L.a)(C.a.mark((function a(r){var n;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.next=3,e(ke({email:d,password:u}));case 3:if("rejected"===(n=a.sent).meta.requestStatus||"idle"!==t){a.next=8;break}return dt(n.payload),e(k()),a.abrupt("return",e(Oe()));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return a&&r?o.a.createElement(g.a,{to:"/leads/"}):o.a.createElement($e,null,o.a.createElement("section",{className:ut.content},o.a.createElement("article",{className:ut.card},o.a.createElement("header",{className:"pb-4 border-b border-gray-200"},o.a.createElement("h1",{className:ut.title},"Log in")),o.a.createElement("form",{className:"card-padding-x"},o.a.createElement(Ze,{label:"Email",type:"email",name:"email",placeholder:"dsaunders@gmail.com",value:d,onChange:m,required:!0,styles:null,lightOnly:!0}),o.a.createElement(ot,{label:"Password",name:"password",placeholder:"Enter your password...",value:u,onChange:m,required:!0,styles:null,lightOnly:!0}),o.a.createElement("div",{className:"mt-4"},o.a.createElement(f.b,{to:"/reset/forgot-password/",className:"link-light"},"Forgot password?")),o.a.createElement("div",{className:"mt-4"},o.a.createElement(Fe,{text:"Log in",onClick:p,width:"w-full",margin:!1,path:null,conditional:null,conditionalDisplay:null,size:"sm",cta:!0,lightOnly:!0}))),o.a.createElement("aside",{className:ut.signup},o.a.createElement("p",{className:"inline-block"},"Need a LeadGeek account?"),o.a.createElement("a",{href:"https://leadgeek.io/pricing/",className:ut.subheaderLink},"Join now")))))},pt=a(49),ft=function(e){var t=e.divWidth,a=e.center,r=e.spinnerWidth,n=e.margin,l=e.text,i=Ve(),s=Object(Te.a)(i,1)[0];return o.a.createElement("div",{className:"".concat(t||""," ").concat(a?"absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2":""," flex flex-col items-center justify-center ").concat(n?"mt-16 mb-8":"")},o.a.createElement(pt.Preloader,{use:pt.Oval,size:"sm"===r?20:"md"===r?35:45,strokeWidth:6,strokeColor:"dark"===s?"#5d55fa":"#A2A5FC",duration:500}),l&&o.a.createElement("div",{className:"mt-8 font-semibold text-100"},l||"Loading results..."))},gt={card:"max-w-md w-full mt-12 md:mt-0 mx-auto card-200 card-padding-y bg-white",content:"h-full w-full md:flex md:flex-col md:justify-center container",contentHeader:"mt-8 hidden md:block container",logoLg:"default-logo-lg text-purple-500",logoSm:"default-logo-sm",signup:"flex items-center mt-4 card-padding-x text-sm",subheaderLink:"block md:inline-block ml-2 link",title:"card-padding-x font-bold text-xl text-gray-900"},ht=function(){var e=Re(),t=Object(c.useState)({email:""}),a=Object(Te.a)(t,2),r=a[0],n=a[1],l=Object(c.useState)("idle"),i=Object(Te.a)(l,2),s=i[0],d=i[1],u=r.email,m=function(){var t=Object(L.a)(C.a.mark((function t(a){var r,n,l,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d("loading"),r=a.toLowerCase(),n=JSON.stringify({email:r}),t.prev=3,t.next=6,I.a.post("/api/auth/forgot-password",n,M);case 6:if(l=t.sent,"Password recovery email sent successfully"!==(i=l.data).message){t.next=14;break}return d("idle"),e(N({title:"Success",message:"An email sent to ".concat(a," if an account is associated"),alertType:"success"})),t.abrupt("return",void((s=i.token)?(I.a.defaults.headers.common["x-auth-token"]=s,localStorage.setItem("resetPwToken",s)):(delete I.a.defaults.headers.common["x-auth-token"],localStorage.removeItem("resetPwToken"))));case 14:return d("idle"),t.abrupt("return",e(N({title:"Email send failure",message:i.message,alertType:"danger"})));case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),"Email not found in database"===(null===t.t0||void 0===t.t0?void 0:t.t0.response.data)?(d("idle"),e(N({title:"Success",message:"An email has been sent to ".concat(a," if an account is associated."),alertType:"success"}))):(d("idle"),e(N({title:"Error sending email",message:"Please contact support",alertType:"danger"})));case 22:case"end":return t.stop()}var s}),t,null,[[3,18]])})));return function(e){return t.apply(this,arguments)}}(),p=function(t){t.preventDefault(),""===u?e(N({title:"Required field missing",message:"Please enter your email",alertType:"danger"})):m(u)};return o.a.createElement($e,null,o.a.createElement("section",{className:gt.content},o.a.createElement("article",{className:"mt-12 md:mt-0 mx-auto w-full max-w-md card-300 bg-white card-padding-y"},o.a.createElement("header",{className:"pb-4 border-b border-gray-200"},o.a.createElement("h1",{className:"card-padding-x font-bold text-xl text-gray-900"},"Reset password")),o.a.createElement("div",{className:"card-padding-x"},o.a.createElement("div",{className:"mt-4"},o.a.createElement("p",{className:"inline-block"},"Don't worry, it happens to the best of us."),o.a.createElement("p",{className:"mt-2 inline-block"},"Receive password reset instructions to the email below.")),o.a.createElement("form",{onSubmit:function(e){return p(e)}},o.a.createElement(Ze,{label:"Email",type:"email",placeholder:"dsaunders@gmail.com",name:"email",value:u,onChange:function(e){return n(Object(ze.a)(Object(ze.a)({},r),{},Object(Be.a)({},e.target.name,e.target.value)))},required:!0,styles:null,lightOnly:!0}),o.a.createElement("div",{className:"mt-4"},"idle"===s?o.a.createElement(Fe,{text:"Send email",onClick:p,width:"w-full",margin:!1,size:"sm",path:null,cta:!0,conditional:null,conditionalDisplay:null,lightOnly:!0}):o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:"sm",margin:!1,text:null})),o.a.createElement("div",{className:"mt-4 text-sm text-gray-400"},o.a.createElement(f.c,{exact:!0,to:"/login",className:"link-light"},"Back to log in")))))))},vt={card:"max-w-md w-full mt-12 md:mt-0 mx-auto card-200 card-padding-y bg-white",content:"h-full w-full md:flex md:flex-col md:justify-center container",title:"card-padding-x font-bold text-xl text-gray-900"},bt=function(){var e=Re(),t=We((function(e){return e.auth.status})),a=We((function(e){return e.auth.isAuthenticated})),r=We((function(e){return e.auth.validatedResetPwToken})),n=Object(c.useState)(localStorage.getItem("email")),l=Object(Te.a)(n,2),i=l[0],s=l[1],d=Object(c.useState)(localStorage.resetPwToken),u=Object(Te.a)(d,1)[0],m=Object(c.useState)({password_1:"",password_2:""}),p=Object(Te.a)(m,2),h=p[0],v=p[1],b=h.password_1,y=h.password_2;Object(c.useEffect)((function(){e(Le({resetPwToken:u}))}),[u,e]);var x=function(e){v(Object(ze.a)(Object(ze.a)({},h),{},Object(Be.a)({},e.target.name,e.target.value)))};return a?o.a.createElement(g.a,{to:"/leads"}):"idle"===t?o.a.createElement($e,null,u&&r?o.a.createElement("section",{className:vt.content},o.a.createElement("article",{className:vt.card},o.a.createElement("header",{className:"pb-4 border-b border-gray-200"},o.a.createElement("h1",{className:vt.title},"Reset Password")),o.a.createElement("form",{className:"card-padding-x"},o.a.createElement(ot,{label:"New Password",placeholder:"Create a new password",name:"password_1",value:b,onChange:function(e){return x(e)},required:!0,styles:null,lightOnly:!0}),o.a.createElement(ot,{label:"Confirm Password",placeholder:"Enter the password again",name:"password_2",value:y,onChange:function(e){return x(e)},required:!0,styles:null,lightOnly:!0})),o.a.createElement("div",{className:"mt-4 card-padding-x"},o.a.createElement(Fe,{text:"Reset password",onClick:function(){s(localStorage.getItem("email")),i&&function(t,a,r){if(!t)return e(N({title:"Required information missing",message:"",alertType:"danger"}));if(!a||!r)return e(N({title:"Required field missing",message:"Password field can't be empty",alertType:"danger"}));if(a!==r)return e(N({title:"Passwords don't match",message:"Check spelling or case sensitivity",alertType:"danger"}));if(a.length<7)return e(N({title:"Password is too short",message:"Password must be at least 7 characters",alertType:"danger"}));var n=t.split("@")[0];a.includes(n)?e(N({title:"Password is too similar to your email",message:"Please choose another password",alertType:"danger"})):U.includes(a)?e(N({title:"Password is too common",message:"Please pick a more unique password",alertType:"danger"})):(e(k()),e(Ce({email:t,password:a,redirect:!0})))}(i,b,y)},width:"w-full",margin:!1,size:"sm",cta:!0,path:null,conditional:null,conditionalDisplay:null,lightOnly:!0})))):o.a.createElement("section",{className:vt.content},o.a.createElement("article",{className:vt.card},o.a.createElement("header",{className:"pb-4 border-b border-gray-200"},o.a.createElement("h1",{className:vt.title},"Uh-oh!")),o.a.createElement("div",{className:"mt-4 card-padding-x"},"Your password could not be reset. Please request a"," ",o.a.createElement(f.c,{to:"/reset/forgot-password/",className:"link-light"},"new password reset link")," ","or"," ",o.a.createElement("a",{href:"https://leadgeek.io/contact/",className:"link-light"},"contact support"),".",o.a.createElement(f.c,{to:"/login",className:"block bg-purple-500 mt-4 py-2 w-full rounded-md text-white text-center shadow-md hover:bg-purple-600 transition-colors-main ring-purple"},"Return to log in"))))):o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:null})},yt=a(18),xt=function(e){var t=e.placeholder,a=Re(),r=Object(g.g)(),n=We((function(e){return e.leads.search.searchValue})),l=Object(c.useState)(!1),i=Object(Te.a)(l,2),s=i[0],d=i[1],u=Object(c.useState)(""),m=Object(Te.a)(u,2),p=m[0],f=m[1],h=function(){var e=Object(L.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!p){e.next=10;break}if("/search"!==r.pathname&&d(!0),p!==n){e.next=5;break}return e.abrupt("return",a(N({title:"Already showing results",message:"Results for this query are already showing.",alertType:"danger"})));case 5:return a(k()),a(be()),e.abrupt("return",a(xe(p)));case 10:a(N({title:"No value was entered",message:"Please enter a search value and try again.",alertType:"danger"}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?o.a.createElement(g.a,{to:{pathname:"/search/"}}):o.a.createElement("div",{className:"flex items-center justify-end"},o.a.createElement("div",{className:"w-72 relative z-0"},o.a.createElement("form",{action:"/search/",method:"POST",onSubmit:function(e){return h(e)}},o.a.createElement("input",{type:"text",name:"q",placeholder:t||"Enter a search...",onChange:function(e){return function(e){f(e.target.value)}(e)},className:"py-2 pl-10 w-full rounded-main border border-300 input text-sm placeholder-gray-700 text-300 ring-purple"}),o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mt-2.5 ml-4 absolute top-0 left-0 svg-sm text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})))))},Et=function(){var e=Re(),t=Object(g.g)(),a=We((function(e){return e.auth.user})),r=Object(c.useState)(!1),n=Object(Te.a)(r,2),l=n[0],i=n[1],s=Object(c.useState)([]),d=Object(Te.a)(s,2),u=d[0],m=d[1],p=Object(c.useState)(!1),h=Object(Te.a)(p,2),v=h[0],b=h[1],y=Object(c.useState)("idle"),x=Object(Te.a)(y,2),E=x[0],w=x[1],k=Object(c.useRef)(null);H(k,i,null);var N=Object(c.useRef)(null);H(N,b,null),Object(yt.a)("Escape",(function(){b(!1),i(!1)}),{keyup:!0});var O=Object(c.useMemo)((function(){if(null===a||void 0===a?void 0:a.name)return null===a||void 0===a?void 0:a.name.split(" ").map((function(e){return e[0]}))[0]}),[null===a||void 0===a?void 0:a.name]),j=Object(c.useCallback)(function(){var e=Object(L.a)(C.a.mark((function e(t){var a,r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w("loading"),a=JSON.stringify({ids:t}),e.next=4,I.a.post("/api/users/notifications",a,M);case 4:return r=e.sent,n=r.data,w("idle"),e.abrupt("return",m(n.notifications));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);Object(c.useEffect)((function(){(null===a||void 0===a?void 0:a.notifications)&&(null===a||void 0===a?void 0:a.notifications.length)>0&&l&&j(a.notifications)}),[null===a||void 0===a?void 0:a.notifications,l,j]);return o.a.createElement("header",{className:"w-full cs-light-400 text-300 shadow-sm border-b border-300"},o.a.createElement("nav",{className:"container"},o.a.createElement("div",{className:"center-between py-1.5"},o.a.createElement(f.c,{to:"/leads/",onClick:function(){"/leads/"!==t.pathname&&e(be()),e(he())}},o.a.createElement(Ke,{className:"h-6 text-purple-500 dark:text-purple-300"})),o.a.createElement(xt,{placeholder:"Enter a search..."}),o.a.createElement("aside",{className:"flex items-center"},o.a.createElement("div",{className:"relative text-gray-400"},o.a.createElement("button",{className:"relative p-1 rounded-lg group text-gray-500 hover:text-gray-600 dark:text-gray-700 dark:hover:text-gray-300 transition-main ring-gray",onClick:function(){b(!1),i(!l)}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})),(null===a||void 0===a?void 0:a.notifications)&&(null===a||void 0===a?void 0:a.notifications.length)>0&&o.a.createElement("div",{className:"absolute top-0 right-0 h-2.5 w-2.5 bg-pink-600 dark:bg-pink-100 rounded-full  border-2 border-white dark:border-darkGray-400 transform translate-y-1 -translate-x-0.5"})),l&&o.a.createElement("article",{ref:k,className:"absolute top-0 right-0 z-30 w-80 pt-4 pb-2 cs-light-400 card-200 text-300 break-words transform translate-y-12"},o.a.createElement("header",{className:"pb-2 px-4 border-b border-200"},o.a.createElement("h4",{className:"font-bold text-lg"},"Notifications")),"loading"===E?o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:"md",margin:!0,text:null}):u.length>0?o.a.createElement("ul",{className:"w-full text-sm text-200"},u.slice(0,4).map((function(e,t){return o.a.createElement(kt,{key:t,item:e,userId:null===a||void 0===a?void 0:a._id,setNotifications:m})}))):o.a.createElement("div",{className:"py-6 px-4 font-semibold text-sm text-gray-700 dark:text-gray-400"},o.a.createElement("p",null,"Notifications for your account will show up here, but you're all caught up for now!"," ",o.a.createElement("span",{role:"img","aria-label":"Party emoji"},"\ud83c\udf89"))))),o.a.createElement("div",{className:"relative ml-4 text-gray-400"},o.a.createElement("button",{onClick:function(){i(!1),b(!v)},className:"p-2 h-8 w-8 all-center cs-purple rounded-full shadow-sm transition-main ring-purple"},o.a.createElement("span",{className:"text-lg font-bold"},O)),v&&o.a.createElement("div",{className:"relative"},o.a.createElement("article",{ref:N,className:"absolute top-0 right-0 z-30 w-64 pt-4 pb-2 rounded-main cs-light-400 card-200 text-300 transform translate-y-4"},o.a.createElement("div",{className:"relative"},o.a.createElement("header",{className:"pb-2 px-4 flex items-center justify-between border-b border-200"},o.a.createElement("div",null,o.a.createElement("h5",{className:"inline-block font-bold text-lg"},o.a.createElement("span",{role:"img","aria-label":"Waving emoji",className:"mr-1"},"\ud83d\udc4b"),"Hi, ",(null===a||void 0===a?void 0:a.name.split(" ")[0])||"Account"))),o.a.createElement("nav",null,Nt.dropdownItems.map((function(e,t){return o.a.createElement(wt,{key:t,item:e})})),("admin"===(null===a||void 0===a?void 0:a.role)||"master"===(null===a||void 0===a?void 0:a.role))&&Nt.adminLinks.map((function(e,t){return o.a.createElement(wt,{key:t,item:e})})),o.a.createElement("button",{key:"logout",onClick:function(){return e(Ie()),void b(!1)},className:"w-full py-2 px-4 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-darkGray-100 group transition-colors-main focus:outline-none"},o.a.createElement("span",{className:"font-semibold text-sm text-200"},"Logout")))))))))))},wt=function(e){var t=e.item;return o.a.createElement(f.c,{to:"/".concat(t.link,"/"),className:"w-full py-2 px-4 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-darkGray-100 transition-main focus:outline-none"},o.a.createElement("span",{className:"font-semibold text-sm text-200"},t.title))},kt=function(e){var t=e.item,a=e.userId,r=e.setNotifications,n=Re(),l=Object(c.useState)(!1),i=Object(Te.a)(l,2),s=i[0],d=i[1],u=Object(c.useState)(!1),m=Object(Te.a)(u,2),p=m[0],g=m[1];return o.a.createElement("li",{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},className:"py-2 pl-4 pr-3 hover:bg-gray-100 dark:hover:bg-darkGray-100 transition-main focus:outline-none border-b border-100 last:border-none"},o.a.createElement("div",{className:"center-between mb-1"},o.a.createElement("header",{className:"flex items-center"},o.a.createElement("h5",{className:"mr-4 font-semibold text-base"},t.title)),s&&t.clearable&&o.a.createElement("button",{onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},onClick:function(){r((function(e){return e.filter((function(e){return e._id!==t._id}))})),a&&n(Ne({notificationId:t._id,userId:a}))},className:"relative icon-button"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-sm",viewBox:"0 0 20 20",fill:"currentColor"},o.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})),p&&o.a.createElement("div",{className:"absolute top-0 right-0 z-10 min-w-max p-2 rounded-md shadow-md bg-gray-900 text-left text-white text-xs transform -translate-y-1 -translate-x-8"},"Clear notification"))),o.a.createElement("time",{dateTime:P.DateTime.fromISO(t.date.toString()).toFormat("yyyy-LL-d")},P.DateTime.fromISO(t.date.toString()).toFormat("LLL dd @ t")),o.a.createElement("p",{className:"pt-2 text-100"},t.description),t.externalLink&&o.a.createElement("a",{href:t.externalLink,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 link transition-main"},o.a.createElement("span",{className:"flex items-center"},o.a.createElement("span",null,"View"),o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 svg-sm",viewBox:"0 0 20 20",fill:"currentColor"},o.a.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),o.a.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})))),t.internalLink&&o.a.createElement(f.c,{to:"/".concat(t.internalLink,"/"),className:"flex items-center mt-2 link transition-main"},"View",o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 svg-sm",viewBox:"0 0 20 20",fill:"currentColor"},o.a.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),o.a.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))))},Nt={primaryLinks:[{title:"Leads",link:"leads"}],secondaryLinks:[],adminLinks:[{title:"Admin",link:"admin"}],dropdownItems:[{title:"Settings",link:"settings/account"}]},Ot=o.a.memo(Et),jt=function(e){var t=e.children,a=We((function(e){return e.auth.status})),r=We((function(e){return e.auth.isAuthenticated})),n=We((function(e){return e.auth.user}));return o.a.createElement(c.Fragment,null,"idle"===a&&r&&n?o.a.createElement("div",{className:"min-h-screen w-full relative cs-bg overflow-hidden"},o.a.createElement(Ot,null),o.a.createElement("main",{className:"h-full w-full "},t)):o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading account..."}),o.a.createElement(De,null))},Ct=a(33),Lt=function(e){var t=e.type,a=e.date,r=e.setDate,n=e.dateCreated,l=e.lastUpdated,i=Re(),s=Object(c.useRef)(null);F(s,r,null),Object(yt.a)("Escape",(function(){a&&r(!1)}),{keyup:!0});var d=Ct.DateTime.fromISO(l||Ct.DateTime.now()),u=d.minusBusiness({days:1}),m=d.minusBusiness({days:5}),p=d.minusBusiness({days:10}),f=d.minusBusiness({days:21}),g=Ct.DateTime.fromISO(n),h=[{title:d.startOf("day")>=Ct.DateTime.now().startOf("day")?"Today":"Most recent day",dateString:d.toFormat("LLL dd"),min:d,onClick:function(){i(re({min:d.startOf("day"),max:d.endOf("day"),selected:d.toFormat("LLL dd, yyyy")}))}},{title:u.startOf("day")<=Ct.DateTime.now().minusBusiness({days:1}).startOf("day")?"Previous day":"Yesterday",dateString:u.toFormat("LLL dd"),min:u,onClick:function(){i(re({min:u.startOf("day"),max:u.endOf("day"),selected:u.toFormat("LLL dd, yyyy")}))}},{title:"Last 7 days",dateString:"".concat(m.toFormat("LLL dd")," - ").concat(d.toFormat("LLL dd")),min:m,onClick:function(){i(re({min:m.startOf("day"),max:d.endOf("day"),selected:"".concat(m.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd"))}))}},{title:"Last 14 days",dateString:"".concat(p.toFormat("LLL dd")," - ").concat(d.toFormat("LLL dd")),min:p,onClick:function(){i(re({min:p.startOf("day"),max:d.endOf("day"),selected:"".concat(p.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd"))}))}},{title:"Last 30 days",dateString:"".concat(f.toFormat("LLL dd")," - ").concat(d.toFormat("LLL dd")),min:f,onClick:function(){i(re({min:f.startOf("day"),max:d.endOf("day"),selected:"".concat(f.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd"))}))}},{title:"All time",dateString:"".concat(g.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd")),min:g,onClick:function(){i(re({min:g.startOf("day"),max:d.endOf("day"),selected:"".concat(g.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd"))}))}}],v=function(e,t){return Ct.DateTime.fromISO(e).startOf("day")<=Ct.DateTime.fromISO(t).startOf("day")};return o.a.createElement("article",{ref:s,className:"absolute top-0 right-0 z-10 w-64 pt-4 pb-2 cs-light-400 card-200 text-300 transform translate-y-12 -translate-x-56"},o.a.createElement("div",{className:"relative"},o.a.createElement("header",{className:"pb-2 px-4 center-between border-b border-200"},o.a.createElement("div",null,o.a.createElement("h5",{className:"inline-block font-bold text-lg"},"Date picker"))),o.a.createElement("ul",null,h.map((function(e,a){return o.a.createElement("li",{key:a,className:"list-none"},o.a.createElement("button",{onClick:function(){!function(e,a,n){if(v(e,a))return n(),i(ye({page:1,type:t})),r(!1);i(N({title:"Invalid date range",message:"This date range is older than your Leadgeek account",alertType:"danger"}))}(n,e.min,e.onClick)},className:"".concat(v(n,e.min)?"hover:bg-gray-100 dark:hover:bg-darkGray-100":"opacity-25 cursor-default"," w-full py-2 px-4 center-between transition-colors-main focus:outline-none")},o.a.createElement("span",{className:"font-semibold text-sm text-200"},e.title),o.a.createElement("span",{className:"text-sm text-100"},e.dateString)))})))))},St=a(73),It=function(e){var t=e.title,a=e.description,r=e.alignment,n=e.edge;return o.a.createElement("div",{className:"absolute z-40 ".concat("left"===n?"left-0":"right"===n?"right-0":"left-1/2"," flex items-center p-2 cs-darkGray rounded-main shadow-md text-xs whitespace-nowrap transform ").concat("top"===r?"":"bottom"===r?" translate-y-3":""," ").concat(null===n?"-translate-x-1/2":"")},o.a.createElement("span",null,t),a&&o.a.createElement("span",{className:"ml-2 py-0.5 px-1 bg-gray-100 rounded-md font-semibold text-gray-600 text-xs"},a))},Pt=function(e){var t=e.title,a=e.value,r=e.utility;return o.a.createElement("div",{className:"relative flex items-center pb-2 last:pb-0 border-b border-100 last:border-none card-padding-x"},o.a.createElement("dt",{className:"w-2/5 text-100"},t),o.a.createElement("div",{className:"flex items-center w-3/5 text-300"},o.a.createElement("dd",null,a),r&&r))},Mt=function(e){var t=e.activePath,a=e.inactivePath,r=e.disabled,n=e.onClick,l=e.state,i=e.title,s=e.description,d=e.edge,u=Object(c.useState)(!1),m=Object(Te.a)(u,2),p=m[0],f=m[1];return o.a.createElement("button",{onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onClick:function(){return!r&&n()},disabled:!!r,className:"relative ml-2 first:ml-0 p-1 hover:bg-gray-100 dark:hover:bg-darkGray-100 rounded-main ".concat(l&&"text-purple-500"," ").concat(r?"pointer-events-none bg-gray-200 dark:bg-gray-900 opacity-50":""," text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 ring-gray transition-main")},l||!a?o.a.createElement("div",{className:"flex items-center justify-center"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",stroke:l?"currentColor":"",className:"svg-base"},t)):o.a.createElement("div",{className:"flex items-center justify-center"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",stroke:"currentColor",className:"svg-base"},a)),p&&o.a.createElement(It,{title:i,description:s,alignment:"bottom",edge:d}))},Bt=function(e){var t=e.title,a=e.value;return o.a.createElement("div",{className:"first:mt-0 mt-2 flex items-end justify-between"},o.a.createElement("dt",{className:"text-sm text-100"},t),o.a.createElement("dd",{className:"py-1 px-2 cs-darkGray rounded-main font-semibold text-xs transition-main"},a))},zt=function(e){var t=e.text,a=e.path,r=e.link,n=e.handleClick,l=e.disabled,i=Object(c.useState)(!1),s=Object(Te.a)(i,2),d=s[0],u=s[1];return l?null:o.a.createElement("div",{className:"relative ml-0.5"},r?o.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},className:"inline-block ml-2 button-gray-100 rounded-sm transition-main ring-gray"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},a)):o.a.createElement("button",{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onClick:function(){n&&n(),u(!1)},className:"ml-2 button-gray-100 rounded-sm transition-main ring-gray"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},a)),d&&o.a.createElement(It,{title:t,alignment:"bottom",edge:null}))},Tt=function(e){var t=e.currentValue,a=e.compareValue,r=e.scale,n=e.lowerIsBetter,l=e.type,i=e.value,s=Object(c.useState)(!1),d=Object(Te.a)(s,2),u=d[0],m=d[1],p=Object(c.useState)(!1),f=Object(Te.a)(p,2),g=f[0],h=f[1],v=Object(c.useState)(null),b=Object(Te.a)(v,2),y=b[0],x=b[1],E=!!(a&&t>a);Object(c.useEffect)((function(){t===a?x("same"):E?(x("up"),h(!n)):(x("down"),h(!!n))}),[t,a,E,n]);var w={up:o.a.createElement("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"}),down:o.a.createElement("path",{fillRule:"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z",clipRule:"evenodd"}),same:o.a.createElement("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})};if(!a)return null;var k=(100*+Math.abs(1-t/a)).toFixed(0);return o.a.createElement("div",{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},className:"relative flex items-center ml-2 py-0.5 pl-2 pr-1 ".concat(g?"cs-teal":"bg-gray-100 dark:bg-gray-900 text-200"," text-xs font-semibold rounded-main")},o.a.createElement("span",null,r," day"),o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-0.5",viewBox:"0 0 20 20",fill:"currentColor"},null!==y&&w[y]),o.a.createElement("span",{className:"ml-1"},k,"%"),u&&o.a.createElement("div",{className:"absolute z-40 left-1/2 flex items-center p-2 shadow-md cs-darkGray rounded-main text-xs whitespace-nowrap transform -translate-y-8 -translate-x-1/2"},"The ".concat(l," ").concat(i," is ").concat(k,"% ").concat(E?"higher":"lower"," than the ").concat(r," day average")))},Rt=function(e){var t=e.currentValue,a=e.compareData,r=e.lowerIsBetter,n=e.type,l=e.value;return o.a.createElement("div",{className:"ml-2 flex items-center"},a.map((function(e,a){return o.a.createElement(Tt,{key:a,currentValue:t,compareValue:e.value,scale:e.scale,lowerIsBetter:r,type:n,value:l})})))},Wt=function(e){var t=e.user,a=e.type,r=e.currentLead,n=e.showDetails,l=e.setShowDetails,i=e.animationStyle,s=Re(),d=We((function(e){return e.leads[a].pageByIds})),u=We((function(e){return e.leads.currentLeadStatus})),m=We((function(e){return e.filters.itemLimit})),p=We((function(e){return e.filters.prep.unit})),f=We((function(e){return e.filters.prep.lb})),g=We((function(e){return e.leads[a].pagination.page})),h=We((function(e){return e.leads[a].pagination.lastPage})),v=Object(c.useState)(""),b=Object(Te.a)(v,2),y=b[0],x=b[1],E=Object(c.useState)(!1),w=Object(Te.a)(E,2),k=w[0],N=w[1],O=Object(c.useState)(!1),j=Object(Te.a)(O,2),C=j[0],L=j[1],S=Object(c.useState)(""),I=Object(Te.a)(S,2),M=I[0],B=I[1],H=Object(c.useState)(!1),A=Object(Te.a)(H,2),D=A[0],_=A[1],G=Object(c.useState)(0),q=Object(Te.a)(G,2),U=q[0],J=q[1],Y=Object(c.useState)(!1),K=Object(Te.a)(Y,2),$=K[0],Z=K[1];Object(c.useEffect)((function(){l(!!r)}),[r,l]);var X=r.data,Q=P.DateTime.fromISO(X.date).toFormat("LLL dd @ H:mm"),ee=Object(c.useRef)(null);F(ee,Z,null);var te=Object(c.useState)(!!t.likedLeads.some((function(e){return e._id===r._id}))),ae=Object(Te.a)(te,2),re=ae[0],ne=ae[1];Object(c.useEffect)((function(){t.likedLeads.some((function(e){return e._id===r._id}))?ne(!0):ne(!1)}),[t.likedLeads,r._id]);var ie=Object(c.useState)(!!t.archivedLeads.some((function(e){return e._id===r._id}))),se=Object(Te.a)(ie,2),ce=se[0],oe=se[1];Object(c.useEffect)((function(){t.archivedLeads.some((function(e){return e._id===r._id}))?oe(!0):oe(!1)}),[t.archivedLeads,r._id]),Object(c.useEffect)((function(){var e=t.comments.filter((function(e){return e.leadId===r._id}));e.length>0?x(e[0].comment):x("")}),[null===t||void 0===t?void 0:t.comments,r]);var de=function(e){var t=d.indexOf(r)+e;return s(t===m||-1===t?ye({page:g+e,type:a}):ge(d[t]))};Object(c.useEffect)((function(){return 0===d.indexOf(r)&&1===g?N(!0):d.indexOf(r)===d.length-1&&g===h?_(!0):(N(!1),_(!1))}),[d,r,g,h]),Object(yt.a)("Escape",(function(){n&&pe()}),{keyup:!0}),Object(yt.a)("s",(function(){s(me({userId:t._id,leadId:r._id}))}),{keyup:!0},[r]),Object(yt.a)("a",(function(){s(ue({userId:t._id,leadId:r._id}))}),{keyup:!0},[r]),Object(yt.a)("t",(function(){V(X.retailerLink,X.amzLink)}),{keyup:!0},[r]),Object(yt.a)("d",(function(){"idle"===u&&!k&&de(-1)}),{keyup:!0},[r,u,k]),Object(yt.a)("f",(function(){"idle"===u&&!D&&de(1)}),{keyup:!0},[r,u,D]);var pe=function(){return l(!1),setTimeout((function(){s(he())}),251)},fe=[{activePath:o.a.createElement("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"}),inactivePath:null,disabled:1===g&&0===d.indexOf(r)||"loading"===u,onClick:function(){return de(-1)},state:!1,title:"Previous lead",description:"D",edge:"left"},{activePath:o.a.createElement("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}),inactivePath:null,disabled:g===h&&d.indexOf(r)===d.length-1||"loading"===u,onClick:function(){return de(1)},state:!1,title:"Next lead",description:"F",edge:null}],ve=[{activePath:o.a.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}),inactivePath:o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}),disabled:!1,onClick:function(){return s(me({userId:t._id,leadId:r._id}))},state:re,title:re?"Unlike lead":"Like lead",description:"S",edge:null},{activePath:o.a.createElement("path",{fillRule:"evenodd",d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z",clipRule:"evenodd"}),inactivePath:o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z",clipRule:"evenodd"}),disabled:!1,onClick:function(){return s(ue({userId:t._id,leadId:r._id}))},state:ce,title:ce?"Unarchive lead":"Archive lead",description:"A",edge:null},{activePath:o.a.createElement("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"}),disabled:!1,inactivePath:null,onClick:function(){return V(X.retailerLink,X.amzLink)},state:null,title:"Open links",description:"T",edge:null},{activePath:o.a.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}),inactivePath:null,onClick:function(){pe()},disabled:!1,state:null,title:"Close details",description:"Esc",edge:"right"}],be=[{title:"Net profit",value:"$".concat((X.netProfit-(p||(f?f*X.weight:0))).toFixed(2))},{title:"Return on investment",value:"".concat(((+X.netProfit.toFixed(2)-(p||(f?f*X.weight:0)))/+X.buyPrice.toFixed(2)*100).toFixed(0),"%")},{title:"Estimated sales / mo.",value:"".concat(T(X.monthlySales))}],xe=[{text:X.cashback,path:o.a.createElement("path",{fillRule:"evenodd",d:"M5 2a2 2 0 00-2 2v14l3.5-2 3.5 2 3.5-2 3.5 2V4a2 2 0 00-2-2H5zm2.5 3a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm6.207.293a1 1 0 00-1.414 0l-6 6a1 1 0 101.414 1.414l6-6a1 1 0 000-1.414zM12.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3z",clipRule:"evenodd"}),link:"https://www.rakuten.com/".concat(R(X.retailerLink)),handleClick:null,disabled:!X.cashback},{text:"Copy promo code: ".concat(X.promo),path:o.a.createElement("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}),link:null,handleClick:function(){navigator.clipboard.writeText(X.promo)},disabled:!X.promo}],Ee=[{text:"Copy text",path:o.a.createElement("g",null,o.a.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),o.a.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})),link:null,handleClick:function(){navigator.clipboard.writeText(X.asin)},disabled:!1},{text:"Open Seller Central",path:o.a.createElement("g",null,o.a.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),o.a.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})),link:"https://sellercentral.amazon.com/product-search/search?q=".concat(X.asin),handleClick:null,disabled:!1}],we=[{title:"Source",value:o.a.createElement("a",{href:X.retailerLink,target:"_blank",rel:"noopener noreferrer",className:"link"},X.source||"-"),utility:o.a.createElement("div",{className:"flex items-center"},xe.map((function(e,t){return o.a.createElement(zt,{key:t,text:e.text,path:e.path,link:e.link,handleClick:e.handleClick,disabled:e.disabled})})))},{title:M,value:o.a.createElement("a",{href:"https://amazon.com/gp/product/".concat(X.asin),target:"_blank",rel:"noopener noreferrer",className:"link"},X.asin),utility:o.a.createElement("div",{className:"flex items-center"},Ee.map((function(e,t){return o.a.createElement(zt,{key:t,text:e.text,path:e.path,link:e.link,handleClick:e.handleClick,disabled:e.disabled})})))},{title:"Buy price",value:o.a.createElement("div",null,"$".concat(X.buyPrice.toFixed(2)||"-"))},{title:"Sell price",value:o.a.createElement("div",null,"$".concat(X.sellPrice.toFixed(2)||"-")),utility:o.a.createElement(Rt,{currentValue:X.sellPrice,compareData:[{value:X.price30,scale:"30"},{value:X.price90,scale:"90"}],lowerIsBetter:!1,type:"recommended",value:"sell price"})},{title:"Current BSR",value:o.a.createElement("div",null,T(X.bsrCurrent)||"-"),utility:o.a.createElement(Rt,{currentValue:X.bsrCurrent,compareData:[{value:X.bsr30,scale:"30"},{value:X.bsr90,scale:"90"}],lowerIsBetter:!0,type:"current",value:"BSR"})},{title:"BSR %",value:o.a.createElement("div",null,X.bsrCurrent&&X.category&&o.a.createElement("span",null,W(X.bsrCurrent,X.category),"%"))},{title:"Competition",value:o.a.createElement("div",null,X.competitorCount>0&&o.a.createElement("span",{className:"text-100"},"(".concat(X.competitorCount,")")),o.a.createElement("span",{className:X.competitorCount>0?"ml-1":""},X.competitorType||"-"))},{title:"Weight",value:o.a.createElement("div",null,X.weight?o.a.createElement("span",null,X.weight.toFixed(2),o.a.createElement("span",{className:"ml-1 text-100"},"lb")):o.a.createElement("span",null,"-"))}],ke=[{title:"Shipping notes",value:o.a.createElement("div",null,X.shipping?X.shipping:"None")},{title:"Seller notes",value:o.a.createElement("div",null,X.notes?X.notes:"None")},{title:"Variation notes",value:o.a.createElement("div",null,X.variations?X.variations:"None")}],Ne=Object(c.useCallback)((function(){var e=[X.variations,X.notes,X.shipping];J(e.filter((function(e){return""!==e})).length)}),[X.variations,X.notes,X.shipping]);Object(c.useEffect)((function(){r&&Ne()}),[r,Ne]),Object(c.useEffect)((function(){X.asin.startsWith("B",0)?B("ASIN"):B("ISBN")}),[X.asin]);var Oe=Object(He.useSpring)({height:$?"8rem":"4rem"}),je=Object(He.useSpring)({opacity:$?1:0});return o.a.createElement(c.Fragment,null,o.a.createElement(He.animated.section,{style:i,className:"fixed top-0 bottom-0 right-0 z-20 w-full max-w-3xl"},o.a.createElement("div",{className:"relative cs-bg border-l border-300 shadow-2xl"},o.a.createElement("header",{className:"pr-2 cs-light-400 border-b border-300 shadow-sm"},o.a.createElement("div",{className:"center-between py-3 px-6 text-100"},o.a.createElement("div",{className:"flex items-center"},fe.map((function(e,t){return o.a.createElement(Mt,{key:t,activePath:e.activePath,inactivePath:e.inactivePath,disabled:e.disabled,onClick:e.onClick,state:e.state,title:e.title,description:e.description,edge:e.edge})}))),o.a.createElement("div",{className:"flex items-center"},ve.map((function(e,t){return o.a.createElement(Mt,{key:t,activePath:e.activePath,inactivePath:e.inactivePath,disabled:e.disabled,onClick:e.onClick,state:e.state,title:e.title,description:e.description,edge:e.edge})}))))),o.a.createElement("div",{className:"h-screen overflow-x-hidden overflow-y-scroll minimal-scrollbar"},o.a.createElement("section",{className:"mb-48 pl-6 pr-8"},o.a.createElement("article",{className:"flex justify-between mt-4 py-4 card-padding-x cs-light-300 card-200"},o.a.createElement("div",{className:"w-2/5 h-56 z-10"},o.a.createElement(St.a,{smallImage:{alt:X.title,isFluidWidth:!1,src:X.img,width:225,height:225},largeImage:{alt:X.title,src:X.img,width:600,height:600},enlargedImageContainerDimensions:{width:"200%",height:"200%"},className:"bg-white bg-contain",enlargedImageContainerClassName:"bg-white card-400"})),o.a.createElement("header",{className:"relative w-3/5 ml-8"},o.a.createElement("h3",{onMouseEnter:function(){return L(!0)},onMouseLeave:function(){return L(!1)},className:"inline-block font-bold text-lg text-gray-900 dark:text-white"},z(X.title,35)),C&&o.a.createElement("div",{className:"absolute top-0 mt-2 mr-6 p-2 rounded-md shadow-md cs-darkGray text-xs transform translate-y-6"},X.title),o.a.createElement("aside",{className:"flex items-center mt-2 text-sm text-200"},o.a.createElement("div",null,Q),o.a.createElement("span",{className:"h-1 w-1 ml-2 rounded-full bg-gray-400 dark:bg-gray-700"}),o.a.createElement("div",{className:"ml-2"},X.category)),o.a.createElement("article",{className:"mt-6"},o.a.createElement("header",{className:"mt-4 pb-2 border-b border-200"},o.a.createElement("h4",{className:"font-semibold text-300"},"Primary metrics")),be.map((function(e,t){return o.a.createElement(Bt,{key:t,title:e.title,value:e.value})}))))),o.a.createElement("article",{className:"mt-4 py-4 cs-light-300 card-200"},o.a.createElement("header",{className:"card-padding-x pb-4 border-b border-200"},o.a.createElement("h4",{className:"font-semibold text-gray-900 dark:text-white"},"Detailed information")),o.a.createElement("dl",{className:"grid grid-cols-1 grid-rows-4 gap-y-2 gap-x-6 mt-4 text-sm text-gray-800"},we.map((function(e,t){return o.a.createElement(Pt,{key:t,title:e.title,value:e.value,utility:e.utility&&e.utility})})))),o.a.createElement("article",{className:"my-4 py-4 cs-light-300 card-200"},o.a.createElement("header",{className:"flex items-center pb-4 card-padding-x border-b border-200"},o.a.createElement("h4",{className:"font-semibold text-300"},"Notes")," ",o.a.createElement("span",{className:"ml-2 py-1 px-2 bg-gray-100 dark:bg-gray-900 text-300 rounded-main text-xs font-semibold"},U)),o.a.createElement("dl",{className:"grid grid-cols-1 grid-rows-3 gap-y-2 gap-x-6 mt-4 text-sm text-200"},ke.map((function(e,t){return o.a.createElement(Pt,{key:t,title:e.title,value:e.value})}))))),o.a.createElement("article",{className:"fixed bottom-0 w-full max-w-3xl text-300 cs-light-400 border-t border-300"},o.a.createElement("div",{className:"pt-1 pb-4 pl-4 pr-12"},o.a.createElement("form",{ref:ee,className:"relative mt-3 text-sm"},o.a.createElement(He.animated.textarea,{name:"comment",placeholder:"Add a comment to this lead...",onChange:function(e){x(e.target.value)},onClick:function(){return!$&&Z((function(e){return!e}))},value:y,className:"w-full input rounded-main border border-300 text-sm placeholder-gray-700 ring-purple resize-none",style:Oe}),$&&o.a.createElement(He.animated.div,{className:"absolute bottom-0 right-0 transform -translate-y-4 -translate-x-4",style:je},o.a.createElement(Fe,{text:y?"Save comment":"Add comment",onClick:function(e){e.preventDefault(),y&&s(le({comment:y,userId:t._id,leadId:r._id})),Z(!1)},width:null,margin:!1,size:null,cta:!0,path:null,conditional:null,conditionalDisplay:null})))))))))},Vt=a(72),Ft=function(e){var t=e.user,a=e.leads,r=e.setExportLeads,n=P.DateTime.now().setLocale("el").toLocaleString();return o.a.createElement(Vt.CSVLink,{data:a,headers:[{label:"Source",key:"data.source"},{label:"Title",key:"data.title"},{label:"Brand",key:"data.brand"},{label:"Category",key:"data.category"},{label:"Retailer Source",key:"data.retailerLink"},{label:"Amazon Link",key:"data.amzLink"},{label:"Promo Code",key:"data.promo"},{label:"Buy Price",key:"data.buyPrice"},{label:"Sell Price",key:"data.sellPrice"},{label:"Profit",key:"data.netProfit"},{label:"ROI",key:"data.roi"},{label:"Current BSR",key:"data.bsrCurrent"},{label:"Avg Mo. Sales",key:"data.monthlySales"},{label:"30 Day BSR",key:"data.bsr30"},{label:"90 Day BSR",key:"data.bsr90"},{label:"Seller competition",key:"data.competitorType"},{label:"Seller count",key:"data.competitorCount"},{label:"30 Day Price",key:"data.price30"},{label:"90 Day Price",key:"data.price90"},{label:"Variation Suggestions",key:"data.variations"},{label:"Cashback Discounts",key:"data.cashback"},{label:"Item Weight (lb)",key:"data.weight"},{label:"ASIN",key:"data.asin"},{label:"Shipping Notes",key:"data.shipping"},{label:"Seller Notes",key:"data.notes"},{label:"Date",key:"data.date"}],onClick:function(){return r(!1)},filename:"".concat(t.role||"leadgeek","_plan_leads_").concat(n,".csv"),target:"_blank",className:"ml-4 py-2 px-3 flex items-center rounded-main cs-purple shadow-sm hover:shadow-md text-sm font-semibold transition-main ring-purple"},o.a.createElement("span",null,o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-4 w-4"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))),o.a.createElement("span",{className:"ml-2"},"Confirm"))},Ht=function(e){var t=e.title,a=e.options,r=e.selectedOption,n=e.openState,l=e.setOpenState,i=e.handleClick,s=Object(c.useRef)(null);return F(s,l,null),o.a.createElement("div",{ref:s,className:"relative flex items-center shadow-sm rounded-main text-sm"},o.a.createElement("div",{className:"w-16 flex-none p-2 cs-bg-light rounded-l-lg text-sm font-semibold text-center text-100 border border-200"},t),o.a.createElement("button",{type:"button",className:"overflow-x-hidden relative w-full pl-2 pr-10 py-2 cs-light-500 border-t border-b border-r border-200 rounded-r-lg text-left cursor-default ring-purple ring-inset","aria-haspopup":"listbox","aria-expanded":"true","aria-labelledby":"listbox-label",onClick:function(){return l(!n)}},o.a.createElement("span",{className:"flex items-center"},o.a.createElement("span",{className:"ml-2 block truncate"},r)),o.a.createElement("span",{className:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none border-l border-200 pl-2"},o.a.createElement("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.a.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})))),n&&o.a.createElement("ul",{className:"absolute top-0 right-0 z-10 max-h-56 w-full mt-1 py-1 cs-light-300 card-200 text-sm overflow-auto focus:outline-none transform translate-y-10 minimal-scrollbar",tabIndex:-1,role:"listbox","aria-labelledby":"listbox-label","aria-activedescendant":"listbox-option-3"},a.map((function(e,t){return o.a.createElement("li",{key:t,className:"py-2 pl-3 pr-9 cursor-default select-none relative ".concat(r===e.title?"cs-purple":"hover:bg-gray-100 dark:hover:bg-darkGray-100 text-300"),id:"listbox-option-".concat(t),role:"option","aria-selected":"true",onClick:function(){i(e),l(!1)}},e.title)}))))},At=function(e){var t,a=e.filter,r=Re(),n=Object(c.useState)(!1),l=Object(Te.a)(n,2),i=l[0],s=l[1];return o.a.createElement("li",{className:"first:mt-0 mt-2 w-full py-2 pl-4 pr-3 center-between cs-bg-light border border-200 shadow-sm rounded-main text-200 transition-colors-main focus:outline-none"},o.a.createElement("div",{className:"flex items-center truncate mr-2"},o.a.createElement("span",{className:"flex-none"},a.title),o.a.createElement("span",{className:"ml-1"},"gte"===a.operator?">":"lte"===a.operator?"<":"eq"===a.operator?"=":"is"),o.a.createElement("span",{className:"ml-1 overflow-ellipsis"},"".concat((t=a.type,"netProfit"===t||"buyPrice"===t||"sellPrice"===t?"$":"")).concat(function(e,t){return"roi"===e?T(100*+t):"bsrCurrent"===e?T(+t):t}(a.type,a.value)).concat(function(e){return"roi"===e?"%":"weight"===e?" lb":""}(a.type)))),o.a.createElement("button",{onClick:function(){return r(ee({id:a.id}))},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},className:"relative icon-button"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"svg-sm"},o.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})),i&&o.a.createElement("div",{className:"absolute top-0 right-0 z-10 min-w-max p-2 rounded-md shadow-md bg-gray-900 text-left text-white text-xs transform -translate-y-1 -translate-x-8"},"Clear filter")))},Dt=[{type:"numeric",title:"Profit",value:"netProfit"},{type:"numeric",title:"Buy price",value:"buyPrice"},{type:"numeric",title:"Sell price",value:"sellPrice"},{type:"numeric",title:"Return on investment",value:"roi"},{type:"numeric",title:"Best seller's rank",value:"bsrCurrent"},{type:"numeric",title:"Monthly sales",value:"monthlySales"},{type:"numeric",title:"Weight",value:"weight"},{type:"text",title:"Category",value:"category"},{type:"text",title:"Source",value:"source"}],_t=[{type:"numeric",title:"Greater than",value:"gte"},{type:"numeric",title:"Less than",value:"lte"}],Gt=[{type:"text",title:"Equals",value:"eq"}],qt=[{title:"Appliances"},{title:"Arts, Crafts, & Sewing"},{title:"Automotive Parts & Accessories"},{title:"Baby"},{title:"Beauty & Personal Care"},{title:"Books"},{title:"CDs & Vinyl"},{title:"Cell Phones & Accessories"},{title:"Clothing, Shoes & Jewelry"},{title:"Computers"},{title:"Electronics"},{title:"Garden & Outdoor"},{title:"Grocery & Gourmet Food"},{title:"Handmade"},{title:"Health, Household & Baby Care"},{title:"Home & Kitchen"},{title:"Industrial & Scientific"},{title:"Luggage & Travel Gear"},{title:"Movies & TV"},{title:"Musical Instruments"},{title:"Office Products"},{title:"Pet Supplies"},{title:"Sports & Outdoors"},{title:"Tools & Home Improvement"},{title:"Toys & Games"},{title:"Video Games"}],Ut=[{title:"511 Tactical"},{title:"6 PM"},{title:"Academy"},{title:"Ace Hardware"},{title:"American Eagle"},{title:"Albee Baby"},{title:"Amazon"},{title:"American Apparel"},{title:"Art Supply Warehouse"},{title:"Backcountry"},{title:"Barnes and Noble"},{title:"Bath and Body Works"},{title:"BB Toy Store"},{title:"Beall's Florida"},{title:"Beauty Brands"},{title:"Bed, Bath, and Beyond"},{title:"Belk"},{title:"Belkin"},{title:"Bergner's"},{title:"Best Buy"},{title:"Big 5 Sporting Goods"},{title:"Big Bad Toy Store"},{title:"Big Lots"},{title:"Bits and Pieces"},{title:"BJ's"},{title:"Bloomingdale's"},{title:"Body Building"},{title:"Books-a-Million"},{title:"Boscov's"},{title:"Buy Buy Baby"},{title:"Century 21"},{title:"Camping World"},{title:"Carter's"},{title:"Chewy"},{title:"Christian Book"},{title:"Claire's"},{title:"Columbia"},{title:"Costco"},{title:"Crayola"},{title:"DC Shoes"},{title:"Dickies"},{title:"Dick's Sporting Goods"},{title:"Dillard's"},{title:"Dollar General"},{title:"Dollar Tree"},{title:"Drug Supply Store"},{title:"DSW"},{title:"Easton"},{title:"Element Outfitters"},{title:"Eastern Mountain Sports"},{title:"Entirely Pets"},{title:"Everything Kitchens"},{title:"eVitamins"},{title:"Fat Brain Toys"},{title:"Fleet Farm"},{title:"FootSmart"},{title:"Forbidden Planet"},{title:"Fun"},{title:"FYE"},{title:"Game Nerdz"},{title:"Gamestop"},{title:"GNC"},{title:"Guitar Center"},{title:"Hasbro Pulse"},{title:"Healthy Pets"},{title:"Herberger's"},{title:"Hobby Lobby"},{title:"Home Depot"},{title:"Hot Topic"},{title:"iHerb"},{title:"JCPenney"},{title:"Journey's"},{title:"KatVonD Beauty"},{title:"Keurig"},{title:"Kmart"},{title:"Kohl's"},{title:"Lakeside"},{title:"LEGO"},{title:"Logitech"},{title:"Lowe's"},{title:"LTD Commodities"},{title:"Lucky Brand"},{title:"Macy's"},{title:"Marvel"},{title:"Mattel"},{title:"Mernards"},{title:"Merrell"},{title:"Michaels"},{title:"Michaels Kids"},{title:"Micro Center"},{title:"Miniature Market"},{title:"Moosejaw"},{title:"NBC Store"},{title:"Netrition"},{title:"Newegg"},{title:"Nike"},{title:"Nordstrom Rack"},{title:"Office Depot"},{title:"Office Supply"},{title:"Oriental Trading"},{title:"OshKosh"},{title:"Overstock"},{title:"Pampered Chef"},{title:"Party City"},{title:"PishPosh Baby"},{title:"Puma"},{title:"Quiksilver"},{title:"RadioShack"},{title:"REI"},{title:"Restaurant Supply"},{title:"Rogan's Shoes"},{title:"Sally Beauty"},{title:"Sam's Club"},{title:"Saucony"},{title:"Sears"},{title:"Sears Outlet"},{title:"Sephora"},{title:"Shoe Carnival"},{title:"Shop Bop"},{title:"Shop Disney"},{title:"Sierra"},{title:"Spencer's"},{title:"Sperry"},{title:"Staples"},{title:"Steep and Cheap"},{title:"Sun & Ski"},{title:"Sur La Table"},{title:"Target"},{title:"Tin Toy Arcade"},{title:"Too Faced"},{title:"Tower Hobbies"},{title:"Toy Tokyo"},{title:"Toy Wiz"},{title:"True Value"},{title:"Uncle Dan's"},{title:"Ulta"},{title:"US Toy"},{title:"Vitacost"},{title:"Vitamin Shoppe"},{title:"Vitamin World"},{title:"Walgreens"},{title:"Walmart"},{title:"Williams-Sonoma"},{title:"World Market"},{title:"Zappos"},{title:"Zumiez"}],Jt=function(e){var t=e.filterActive,a=e.setFilterActive,r=Re(),n=We((function(e){return e.alert})),l=We((function(e){return e.auth.user})),i=We((function(e){return e.filters})),s=Object(c.useState)(!1),d=Object(Te.a)(s,2),u=d[0],m=d[1],p=Object(c.useState)(!1),f=Object(Te.a)(p,2),g=f[0],h=f[1],v=Object(c.useState)(!1),b=Object(Te.a)(v,2),y=b[0],x=b[1],E=Object(c.useState)({typeIs:{type:Dt[0].type,title:Dt[0].title,value:Dt[0].value},valueIs:{type:"",title:"numeric"===Dt[0].type?_t[0].title:Gt[0].title,value:"numeric"===Dt[0].type?_t[0].value:Gt[0].value},value:""}),w=Object(Te.a)(E,2),O=w[0],j=w[1],C=Object(c.useState)(!1),L=Object(Te.a)(C,2),S=L[0],I=L[1],P=Object(c.useState)(!1),M=Object(Te.a)(P,2),B=M[0],z=M[1],T=Object(c.useState)(!1),R=Object(Te.a)(T,2),W=R[0],V=R[1],H=Object(c.useRef)(null);F(H,a,null),Object(yt.a)("Escape",(function(){t&&a(!1)}),{keyup:!0});return l?o.a.createElement("article",{ref:H,className:"absolute top-0 right-0 z-30 w-80 pt-4 pb-1 cs-light-400 card-200 text-300 transform translate-y-12 -translate-x-32"},o.a.createElement("div",{className:"relative"},o.a.createElement("header",{className:"pb-2 px-4 center-between border-b border-200"},o.a.createElement("div",{className:"flex items-center"},o.a.createElement("h5",{className:"inline-block font-bold text-lg"},"Filters"),i.count>0&&o.a.createElement("div",{className:"ml-4 py-1 px-2 cs-teal rounded-main text-xs font-semibold"},o.a.createElement("span",null,i.count),o.a.createElement("span",{className:"ml-1"},"active"))),o.a.createElement("button",{onClick:function(e){e.stopPropagation(),m(!0)},onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},className:"relative icon-button"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4"},o.a.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})),S&&o.a.createElement("div",{className:"absolute top-0 right-0 z-10 min-w-max p-2 transform -translate-y-1.5 -translate-x-8 rounded-md shadow-md bg-gray-900 text-left text-white text-xs"},"Add filter"))),i.filters.length>0||u?o.a.createElement("div",null,u&&o.a.createElement("div",{className:"pt-6 pb-2 px-4"},o.a.createElement("div",null,o.a.createElement(Ht,{title:"Type",options:Dt,selectedOption:O.typeIs.title,openState:B,setOpenState:z,handleClick:function(e){return j(Object(ze.a)(Object(ze.a)({},O),{},{typeIs:{type:e.type,title:e.title,value:e.value},valueIs:{type:e.type,title:"numeric"===e.type?_t[0].title:Gt[0].title,value:"numeric"===e.type?_t[0].value:Gt[0].value},value:"category"===e.value?"Appliances":"source"===e.value?"511 Tactical":"number"===typeof O.value?O.value:""}))}})),o.a.createElement("div",{className:"mt-2"},o.a.createElement(Ht,{title:"Value",options:"numeric"===O.typeIs.type?_t:Gt,selectedOption:O.valueIs.title,openState:W,setOpenState:V,handleClick:function(e){return j(Object(ze.a)(Object(ze.a)({},O),{},{valueIs:{type:e.type,title:e.title,value:e.value}}))}})),"category"===O.typeIs.value?o.a.createElement("div",{className:"mt-2"},o.a.createElement(Ht,{title:"Item",options:qt,selectedOption:O.value,openState:g,setOpenState:h,handleClick:function(e){return j(Object(ze.a)(Object(ze.a)({},O),{},{value:e.title}))}})):"source"===O.typeIs.value?o.a.createElement("div",{className:"mt-2"},o.a.createElement(Ht,{title:"Item",options:Ut,selectedOption:O.value,openState:y,setOpenState:x,handleClick:function(e){return j(Object(ze.a)(Object(ze.a)({},O),{},{value:e.title}))}})):o.a.createElement("input",{type:"text",className:"mt-2 form-field input",onChange:function(e){return j(Object(ze.a)(Object(ze.a)({},O),{},{value:+e.target.value}))},placeholder:"Enter an amount..."}),o.a.createElement("div",{className:"flex items-center justify-end"},o.a.createElement("div",{className:"mt-2"},o.a.createElement(Fe,{text:"Cancel",onClick:function(){m(!1)},width:"w-20",margin:!1,path:null,conditional:null,conditionalDisplay:null,size:"xs",cta:!1})),o.a.createElement("div",{className:"mt-2 ml-4"},o.a.createElement(Fe,{text:"Apply",onClick:function(){!function(e){if(!O.value)return r(N({title:"Error creating filter",message:"Please enter a valid number",alertType:"danger"}));var t=function(e,t){var a=i.filters.filter((function(a){return a.type===e&&a.operator===t}))[0];return a?a.value:null};if("numeric"===O.typeIs.type)if("lte"===O.valueIs.value){var a=t(O.typeIs.value,"gte");if(a&&a>=O.value)return r(N({title:"Error creating filter",message:"The max value must be larger than the min value",alertType:"danger"}))}else{var l=t(O.typeIs.value,"lte");if(l&&l<=O.value)return r(N({title:"Error creating filter",message:"The minimum filter can't be larger than the current maximum filter",alertType:"danger"}))}n&&r(k()),r(ae(O.typeIs.type,O.typeIs.value,O.typeIs.title,O.valueIs.value,O.value)),j(Object(ze.a)(Object(ze.a)({},O),{},{typeIs:{type:Dt[0].type,title:Dt[0].title,value:Dt[0].value},valueIs:{type:"",title:"numeric"===Dt[0].type?_t[0].title:Gt[0].title,value:"numeric"===Dt[0].type?_t[0].value:Gt[0].value}})),ce({user:{id:e._id,role:e.role},page:1,filters:i})}(l)},width:"w-20",margin:!1,path:null,conditional:null,conditionalDisplay:null,size:"xs",cta:!0})))),i.filters.length>0&&o.a.createElement("div",{className:"font-semibold text-sm text-gray-700"},o.a.createElement("ul",{className:"py-2 px-4"},i.filters.map((function(e,t){return o.a.createElement(At,{key:t,filter:e})})))),o.a.createElement("div",{className:"border-t border-200"},o.a.createElement("div",{className:"flex justify-end py-2 px-4"},o.a.createElement("button",{onClick:function(){["netProfitMin","netProfitMax","buyPriceMin","buyPriceMax","sellPriceMin","sellPriceMax","roiMin","roiMax","bsrMin","bsrMax","monthlySalesMin","monthlySalesMax","weightMin","weightMax","filterCount"].forEach((function(e){return localStorage.removeItem(e)})),r(te()),a(!1),l&&r(ce({user:{id:l._id,role:l.role},page:1,filters:Object(ze.a)(Object(ze.a)({},i),{},{count:0,filters:[]})})),r(N({title:"All filters were removed",message:"Unfiltered leads are now showing.",alertType:"success"}))},className:"py-1 px-2 font-semibold text-sm hover:bg-red-100 dark:hover:bg-red-400 text-red-500 dark:text-red-300 hover:text-red-600 dark:hover:text-white rounded-main transition-main ring-red"},"Clear all")))):o.a.createElement("div",{className:"py-6 px-4 font-semibold text-sm text-gray-700 dark:text-gray-400"},'You haven\'t added any filters. Click the "+" in the top right corner to get started.'))):o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:null,margin:!1,text:""})},Yt=a(45),Kt=a(31),$t={heart:o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}),image:o.a.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"}),competition:o.a.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}),dots:o.a.createElement("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}),eye:o.a.createElement("g",null,o.a.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})),link:o.a.createElement("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})},Zt=function(e){var t,a,r=e.lead,n=e.user,l=e.liked,i=e.archived,s=e.setShowDetails,d=Re(),u=We((function(e){return e.leads.currentLead})),m=Object(c.useState)(!1),p=Object(Te.a)(m,2),f=p[0],g=p[1],h=Object(c.useState)(!1),v=Object(Te.a)(h,2),b=v[0],y=v[1],x=Object(c.useState)(!1),E=Object(Te.a)(x,2),w=E[0],k=E[1],N=Object(c.useState)(!1),O=Object(Te.a)(N,2),j=O[0],C=O[1],L=Object(c.useState)(!1),S=Object(Te.a)(L,2),I=S[0],M=S[1],B=Object(c.useState)(!1),R=Object(Te.a)(B,2),H=R[0],A=R[1],D=Object(c.useState)(!1),_=Object(Te.a)(D,2),G=_[0],q=_[1],U=r.data,J=Object(c.useRef)(null);F(J,M,g);var Y=Object(c.useState)(!!l.some((function(e){return e._id===r._id}))),K=Object(Te.a)(Y,2),$=K[0],Z=K[1];Object(c.useEffect)((function(){for(var e=0;e<n.likedLeads.length;e++)if(n.likedLeads[e]._id===r._id){Z(!0);break}}),[n,r._id]),Object(c.useEffect)((function(){l.some((function(e){return e._id===r._id}))?Z(!0):Z(!1)}),[l,r._id]);var X=Object(c.useState)(!!i.some((function(e){return e._id===r._id}))),Q=Object(Te.a)(X,2),ee=Q[0],te=Q[1];Object(c.useEffect)((function(){i.some((function(e){return e._id===r._id}))?te(!0):te(!1)}),[i,r._id]);var ae=P.DateTime.fromISO(U.date).toFormat("LLL dd"),re=function(){u?(s(!0),d(ge(r))):(s((function(e){return!e})),d(ge(r))),M(!1),g(!1)},ne=function(e){e.stopPropagation(),Z((function(e){return!e})),d(me({userId:n._id,leadId:r._id}))},le=Object(He.useSpring)({opacity:G?1:0}),ie=Object(He.useSpring)({x:f?1:0}),se=Object(He.useSpring)({opacity:I?1:0}),ce={bsrCellWrapper:"p-4 lg:p-3 xl:p-2 w-24",categoryCellWrapper:"p-2 w-56 truncate",competitorCount:"font-semibold",competitionRow:"center-between",competitorType:"font-semibold text-purple-300",competitionWrapper:"w-36 absolute bottom-0 z-10 p-2 rounded-md shadow-md bg-gray-900 dark:bg-darkGray-100 text-white text-sm transform -translate-y-12 translate-x-8",dateCellWrapper:"p-2 w-24 whitespace-nowrap",defaultCellWrapper:"p-2",defaultSvg:"svg-base",detailsCellButton:"p-1 rounded-md text-gray-500 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 transition-main ring-gray",detailsCellSvg:"svg-base",detailsCellImage:"max-h-56 max-w-xs",detailsCellImageWrapper:"absolute z-10 p-2 bg-white shadow-xl rounded-main border border-300 transform lg:-translate-y-1/2 translate-x-16",detailsCellWrapper:"hidden xl:table-cell relative w-20 p-2",expandedViewMenuBottom:"py-2",expandedViewMenuButton:"py-2 px-3 w-full text-left font-semibold text-purple-500 dark:text-purple-300 hover:bg-gray-100 dark:hover:bg-darkGray-100 hover:text-gray-800 transition-colors-main ring-gray ring-inset",expandedViewMenuButtonSvg:function(){return this.expandedViewMenuButton+" flex items-center"},expandedViewMenuSvg:"ml-2 svg-sm",expandedViewWrapper:"absolute right-0 z-20 w-48 mr-3 mt-1 py-2 cs-light-400 card-200",eyeIconWrapper:"relative p-2 rounded-l-lg border-r border-200 ring-gray ring-inset",likeCellActive:"svg-base hover:text-purple-400 transition-colors-main",likeCellButton:"p-1 rounded-md ring-purple align-middle",likeCellNull:"p-2 px-4 svg-base",likeCellWrapper:"pl-6 pr-2 w-9 text-center text-gray-400",linkIconWrapper:"relative p-2 border-r border-200 ring-gray ring-inset",monthlySalesCellWrapper:"p-2 w-24",profitCellWrapper:"w-36 p-2 uppercase",quickViewCellWrapper:I?"py-4 pl-4 pr-12":"py-2 pl-2 pr-10 w-12",quickViewExpandedWrapper:"absolute transform -translate-x-14 rounded-l-lg border-l border-t border-b border-300 cs-light-400 text-100",quickViewMenu:I?"absolute z-10 p-2 cs-light-400 shadow-sm rounded-r-lg border-r border-t border-b border-300 ring-gray ring-inset":"rounded-main ring-gray",quickViewMenuHover:"w-24 mt-2 p-2 absolute top-0 left-1/2 z-20 bg-gray-900 rounded-main shadow-md text-white text-sm transform -translate-y-12 -translate-x-1/2",quickViewNull:"p-2 svg-base",quickViewWrapper:"all-center rounded-r-lg text-100 hover:text-gray-700 dark:hover-text-gray-200",roiCellWrapper:"p-2 w-24",rowWrapper:"relative px-1 border-b last:border-none border-100 dark:border-darkGray-200 hover:bg-gray-100 dark:hover:bg-darkGray-300 cursor-pointer",titleCellWrapper:"p-2 pr-12 w-32 md:w-48 lg:w-64 xl:w-112 font-semibold truncate",titleHover:"absolute z-10 left-0 p-2 transform -translate-y-10 lg:translate-x-12 rounded-md shadow-md bg-gray-900 text-white text-sm",valueIndicator:"ml-1 text-100"},oe=Ve(),de=Object(Te.a)(oe,1)[0];return o.a.createElement("tr",{className:ce.rowWrapper,onMouseEnter:function(){return C(!0)},onMouseLeave:function(){return C(!1)},onClick:function(e){e.stopPropagation(),re()},id:"lead-row"},o.a.createElement("td",{className:ce.likeCellWrapper},j||$?o.a.createElement("button",{onClick:function(e){ne(e)},className:ce.likeCellButton},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"".concat($?"dark"===de?"#7069FA":"#A2A5FC":"none"),viewBox:"0 0 24 24",stroke:"".concat($?"dark"===de?"#7069FA":"#A2A5FC":"currentColor"),className:ce.likeCellActive},$t.heart)):o.a.createElement("div",{className:ce.likeCellNull})),o.a.createElement("td",{className:ce.titleCellWrapper},o.a.createElement("div",null,z(U.title,60))),o.a.createElement("td",{className:ce.categoryCellWrapper},z(U.category,28)),o.a.createElement("td",{className:ce.detailsCellWrapper},o.a.createElement("button",{onMouseEnter:function(){return q(!0)},onMouseLeave:function(){return q(!1)},onClick:function(e){e.stopPropagation(),q((function(e){return!e}))},className:ce.detailsCellButton},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:ce.detailsCellSvg,viewBox:"0 0 20 20",fill:"currentColor"},$t.image)),o.a.createElement("button",{onMouseEnter:function(){return A(!0)},onMouseLeave:function(){return A(!1)},onClick:function(e){e.stopPropagation(),A((function(e){return!e}))},className:ce.detailsCellButton},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:ce.detailsCellSvg,viewBox:"0 0 20 20",fill:"currentColor"},$t.competition)),G&&o.a.createElement(He.animated.div,{className:ce.detailsCellImageWrapper,style:le},o.a.createElement("img",{src:U.img,alt:U.title,className:ce.detailsCellImage})),H&&o.a.createElement("div",{className:ce.competitionWrapper},o.a.createElement("div",{className:ce.competitionRow},o.a.createElement("span",null,"Buy box"),o.a.createElement("span",{className:ce.competitorType},U.competitorType)),U.competitorCount>0&&o.a.createElement("div",{className:ce.competitionRow},o.a.createElement("span",null,"# Competitors"),o.a.createElement("span",{className:ce.competitorCount},U.competitorCount)))),o.a.createElement("td",{className:ce.profitCellWrapper},o.a.createElement("span",null,"$"),U.netProfit.toFixed(2),o.a.createElement("span",{className:ce.valueIndicator},"USD")),o.a.createElement("td",{className:ce.roiCellWrapper},(+(null===(t=U.netProfit)||void 0===t?void 0:t.toFixed(2))/+(null===(a=U.buyPrice)||void 0===a?void 0:a.toFixed(2))*100).toFixed(0),o.a.createElement("span",{className:ce.valueIndicator},"%")),o.a.createElement("td",{className:ce.bsrCellWrapper},T(U.bsrCurrent),o.a.createElement("span",{className:ce.valueIndicator},"(",W(U.bsrCurrent,U.category),")",o.a.createElement("span",{className:ce.valueIndicator},"%"))),o.a.createElement("td",{className:ce.monthlySalesCellWrapper},T(U.monthlySales)),o.a.createElement("td",{className:ce.dateCellWrapper},ae),o.a.createElement("td",{className:ce.quickViewCellWrapper},o.a.createElement("div",{ref:J},j||f?o.a.createElement("div",{onMouseEnter:function(){return M(!0)},onMouseLeave:function(){return!f&&M(!1)},className:ce.quickViewWrapper},o.a.createElement("button",{onClick:function(e){e.stopPropagation(),g(!f)},className:ce.quickViewMenu},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:ce.defaultSvg},$t.dots)),I&&o.a.createElement(He.animated.div,{className:ce.quickViewExpandedWrapper,style:se},o.a.createElement("div",{className:"all-center"},o.a.createElement("button",{onClick:function(e){e.stopPropagation(),re(),C(!1)},onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},className:ce.eyeIconWrapper},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:ce.defaultSvg},$t.eye),b&&o.a.createElement("div",{className:ce.quickViewMenuHover},"View details")),o.a.createElement("button",{onClick:function(e){e.stopPropagation(),V(U.retailerLink,U.amzLink),g(!1)},onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},className:ce.linkIconWrapper},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:ce.defaultSvg},$t.link),w&&o.a.createElement("div",{className:ce.quickViewMenuHover},"Open links"))))):o.a.createElement("div",{className:ce.quickViewNull}),f&&o.a.createElement(He.animated.div,{className:ce.expandedViewWrapper,style:{transform:ie.x.to({range:[0,.35,.75,1],output:[1,.98,1.02,1]}).to((function(e){return"scale(".concat(e,")")})),translateY:"1.5rem",translateX:"-1.25rem"}},o.a.createElement("button",{onClick:function(e){ne(e)},className:ce.expandedViewMenuButton},$?"Unlike lead":"Like lead"),o.a.createElement("button",{onClick:function(e){!function(e){e.stopPropagation(),te((function(e){return!e})),d(ue({userId:n._id,leadId:r._id}))}(e)},className:ce.expandedViewMenuButton},ee?"Unarchive lead":"Archive lead"),o.a.createElement("button",{onClick:function(){return V(U.retailerLink,U.amzLink)},className:ce.expandedViewMenuButtonSvg()},o.a.createElement("span",null,"Open links"),o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:ce.expandedViewMenuSvg},$t.link)),o.a.createElement("button",{onClick:function(e){e.stopPropagation(),re(),C(!1)},className:ce.expandedViewMenuButtonSvg()},o.a.createElement("span",null,"View details"),o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:ce.expandedViewMenuSvg},$t.eye))))))},Xt={nullStateWrapper:"w-96 card-padding card-200 cs-light-400",svgWrapper:"h-10 w-10",svg:"p-2 bg-gray-900 rounded-lg text-teal-300 shadow-sm"},Qt=function(e){var t=e.header,a=e.text,r=e.path,n=e.link,l=e.linkText;return o.a.createElement("div",{className:Xt.nullStateWrapper},o.a.createElement("div",{className:Xt.svgWrapper},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:Xt.svg},r)),o.a.createElement("h3",{className:"mt-2 font-bold text-lg text-200"},t),o.a.createElement("p",{className:"text-100"},a),n?o.a.createElement(f.b,{to:n,className:"mt-4 inline-block py-2 px-3 rounded-main shadow-sm hover:shadow-md text-sm font-semibold bg-purple-500 hover:bg-purple-600 text-white transition-main ring-purple"},l):o.a.createElement("div",{className:"mt-4"},o.a.createElement(Fe,{text:"Reload the page",onClick:function(){return window.location.reload()},width:null,margin:!1,size:"sm",cta:!0,path:null,conditional:null,conditionalDisplay:null})))},ea=function(e){var t=e.colorTheme,a=Object(Yt.a)(e,["colorTheme"]),r=25,n="dark"===t?"#F0F4F8":"#1C2936",l="dark"===t?"#E6EBF0":"#1E2C3C";return o.a.createElement("tr",{className:"w-full py-16 border-b last:border-none border-100"},o.a.createElement("td",{className:"w-16 pt-6 pb-5"}),o.a.createElement("td",{className:"w-32 md:w-64 xl:w-112 pl-2"},o.a.createElement(Kt.a,Object.assign({speed:2,height:35,width:"80%",backgroundColor:n,foregroundColor:l},a),o.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"100%",height:r}))),o.a.createElement("td",{className:"px-2 lg:w-40 xl:w-56"},o.a.createElement(Kt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:n,foregroundColor:l},a),o.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"70%",height:r}))),o.a.createElement("td",{className:"hidden xl:table-cell w-20 px-2"},o.a.createElement(Kt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:n,foregroundColor:l},a),o.a.createElement("rect",{x:"4",y:"7.5",rx:"8",ry:"8",width:"22",height:r}),o.a.createElement("rect",{x:"36",y:"7.5",rx:"8",ry:"8",width:"22",height:r}))),o.a.createElement("td",{className:"w-40 px-2"},o.a.createElement(Kt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:n,foregroundColor:l},a),o.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"80",height:r}))),o.a.createElement("td",{className:"px-2 w-24"},o.a.createElement(Kt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:n,foregroundColor:l},a),o.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"40px",height:r}))),o.a.createElement("td",{className:"px-2 w-32"},o.a.createElement(Kt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:n,foregroundColor:l},a),o.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"90",height:r}))),o.a.createElement("td",{className:"px-2 w-24"},o.a.createElement(Kt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:n,foregroundColor:l},a),o.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"40",height:r}))),o.a.createElement("td",{className:"px-2"},o.a.createElement(Kt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:n,foregroundColor:l},a),o.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"60",height:r}))),o.a.createElement("td",{className:"px-2"}))},ta={feed:o.a.createElement("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"}),liked:o.a.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}),archived:o.a.createElement("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}),search:o.a.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})},aa={sectionWrapper:"relative mt-12",tableWrapper:"pb-1 cs-light-400 card-300 overflow-x-auto overflow-y-visible xl:overflow-visible",table:"w-full",tableHeadWrapper:"border-b border-100",tableHead:"text-left font-semibold text-xs cs-bg text-100 uppercase tracking-widest",tableHeadCell:"p-4 lg:p-3 xl:p-2",tableBody:"mx-4 text-sm text-200"},ra=function(e){var t=e.leads,a=e.user,r=e.liked,n=e.archived,l=e.status,i=(e.showDetails,e.setShowDetails),s=e.type,c=e.currentSearchValue,d=Ve(),u=Object(Te.a)(d,1)[0],m=We((function(e){return e.filters})),p=m.dateLimits.min&&P.DateTime.fromISO(m.dateLimits.min).endOf("day"),f=m.dateLimits.max&&P.DateTime.fromISO(m.dateLimits.max).endOf("day");return o.a.createElement("section",{className:aa.sectionWrapper},"failed"===l?o.a.createElement("div",{className:"mt-6 container text-200"},"There was an error making that request. If this issue persists, please"," ",o.a.createElement("a",{href:"mailto:support@leadgeek.io",target:"_blank",rel:"noopener noreferrer",className:"link rounded-main transition-main ring-gray"},"contact Leadgeek support"),"."):"loading"===l&&0===t.length?o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:null,margin:!0,text:"Loading leads..."}):t.length>0?o.a.createElement("div",{className:aa.tableWrapper},o.a.createElement("table",{className:aa.table,id:"leads"},o.a.createElement("thead",{className:aa.tableHeadWrapper},o.a.createElement("tr",{className:aa.tableHead},o.a.createElement("th",{className:"p-2 rounded-tl-lg"}),o.a.createElement("th",{className:aa.tableHeadCell},"Title"),o.a.createElement("th",{className:aa.tableHeadCell},"Category"),o.a.createElement("th",{className:"p-2 hidden xl:table-cell"},"Details"),o.a.createElement("th",{className:aa.tableHeadCell},"Profit"),o.a.createElement("th",{className:aa.tableHeadCell},"ROI"),o.a.createElement("th",{className:aa.tableHeadCell},"BSR"),o.a.createElement("th",{className:aa.tableHeadCell},"Sales"),o.a.createElement("th",{className:aa.tableHeadCell},"Date"),o.a.createElement("th",{className:"p-2 rounded-tr-lg"}))),o.a.createElement("tbody",{className:aa.tableBody},"loading"===l?Object(J.a)(Array(m.itemLimit)).map((function(e,t){return o.a.createElement(ea,{key:t,colorTheme:u})})):t.map((function(e,t){return o.a.createElement(Zt,{key:e._id,lead:e,user:a,liked:r,archived:n,setShowDetails:i})}))))):"feed"===s?o.a.createElement(Qt,{header:"".concat(m.filters.length>0?"Your filters are too strict":"Your Feed is empty"),text:"".concat(m.filters.length>0?"No leads match your applied filters. Maybe try loosening your criteria.":"No leads were found, try refreshing the page."),path:ta.feed,link:"",linkText:""}):"liked"===s?o.a.createElement(Qt,{header:"".concat(m.filters.length>0?"Your filters are too strict":"No liked leads were found"),text:"".concat(m.filters.length>0?"No leads match your applied filters. Maybe try loosening your criteria.":"You haven't liked any leads yet, but you can go to the Feed to check some products out."),path:ta.liked,link:"/leads",linkText:"Go to the Feed"}):"archived"===s?o.a.createElement(Qt,{header:"".concat(m.filters.length>0?"Your filters are too strict":"No archived leads were found"),text:"".concat(m.filters.length>0?"No leads match your applied filters. Maybe try loosening your criteria.":"You haven't archived any leads yet, but you can go to the Feed to check some products out."),path:ta.archived,link:"/leads",linkText:"Go to the Feed"}):"search"!==s||c?o.a.createElement(Qt,{header:"No results were found",text:"There were no results that match these criteria".concat(p&&f?p!==f?" between ".concat(p.toFormat("LLL dd")," - ").concat(f.toFormat("LLL dd")):"today":p?" on ".concat(p.toFormat("LLL dd")):""),path:ta.search,link:"",linkText:""}):o.a.createElement(Qt,{header:"No search results found",text:"Please try a different search query",path:ta.search,link:"/leads",linkText:"Go to the Feed"}))},na=[10,20,50,100],la={button:"py-2 px-3 rounded-lg dark:bg-darkGray-200 dark:hover:bg-darkGray-100 shadow-sm text-sm font-semibold border border-gray-200 dark:border-darkGray-100 text-gray-600 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-400 transition duration-100 ease-in-out ring-purple"},ia=function(e){var t=e.pagination,a=e.type,r=e.itemLimit,n=e.status,l=e.setPage,i=Re(),s=Ve(),d=Object(Te.a)(s,1)[0],u=Object(c.useState)(!1),m=Object(Te.a)(u,2),p=m[0],f=m[1],g=Object(c.useState)(r||15),h=Object(Te.a)(g,2),v=h[0],b=h[1],y=Object(c.useState)(!1),x=Object(Te.a)(y,2),E=x[0],w=x[1],k=t.page,N=t.hasNextPage,O=t.hasPreviousPage,j=t.nextPage,C=t.previousPage,L=t.totalItems,S=t.filteredItems,I=Object(c.useRef)(null);F(I,f,null),Object(yt.a)("Escape",(function(){p&&f(!1)}),{keyup:!0});var P=null!==C?C*(r||15)+1:C&&C+1,M=S&&S<k*(r||15)?S:k*(r||15),B="dark"===d?"#F0F4F8":"#1C2936",z="dark"===d?"#E6EBF0":"#1E2C3C";return o.a.createElement("article",{className:"mt-8"},o.a.createElement("div",{className:"center-between py-2 px-4 cs-light-400 rounded-main shadow-md text-100 border border-300"},L&&L>0?o.a.createElement("div",{className:"relative flex items-center text-sm",ref:I},o.a.createElement("button",{type:"button",className:"overflow-x-hidden relative w-full pl-2 pr-10 py-2 input border border-300 rounded-main text-left cursor-pointer transition-main ring-purple ring-inset","aria-haspopup":"listbox","aria-expanded":"true","aria-labelledby":"listbox-label",onClick:function(){return f(!p)}},o.a.createElement("span",{className:"flex items-center"},o.a.createElement("span",{className:"ml-2 block truncate"},v)),o.a.createElement("span",{className:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},o.a.createElement("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},o.a.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})))),p&&o.a.createElement("ul",{className:"absolute top-0 right-0 z-10 max-h-56 w-full mt-1 py-1 cs-light-300 card-200 text-sm overflow-auto focus:outline-none transform -translate-y-40",tabIndex:-1,role:"listbox","aria-labelledby":"listbox-label","aria-activedescendant":"listbox-option-3"},na.map((function(e,t){return o.a.createElement("li",{key:t,className:"py-2 pl-3 pr-9 cursor-pointer select-none relative ".concat(v===e?"cs-purple":"hover:bg-gray-100 dark:hover:bg-darkGray-100 text-300"),id:"listbox-option-".concat(t),role:"option","aria-selected":"true",onClick:function(){i($({type:a,itemLimit:e})),b(e),f(!1)}},e)})))):o.a.createElement("div",null),o.a.createElement("div",{className:"center-between text-sm"},S?o.a.createElement("div",{className:"relative flex items-center"},S>0&&L&&L>S&&o.a.createElement("button",{onClick:function(){return w((function(e){return!e}))},onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},className:"mr-2 rounded-md text-gray-400 hover:text-gray-600 transition-main ring-gray"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},o.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})),E&&L&&o.a.createElement("div",{className:"absolute z-10 bottom-0 py-2 px-4 transform -translate-y-8 rounded-md shadow-md bg-gray-900 text-left text-white text-sm"},o.a.createElement("p",null,o.a.createElement("span",{className:"font-semibold text-purple-300"},T(L-S))," ","leads aren't showing because of applied filters."))),"idle"===n?S&&o.a.createElement("span",null,"Showing ",P," to ",M," of ",S," results"):o.a.createElement("div",{className:"flex justify-end"},o.a.createElement(Kt.a,{speed:2,height:35,width:"70%",backgroundColor:B,foregroundColor:z},o.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"100%",height:25})))):o.a.createElement("div",null),(O||N)&&o.a.createElement("nav",null,o.a.createElement("button",{onClick:function(){return i(l({page:C,type:a}))},className:"".concat(O?"hover:shadow-md hover:text-gray-700 border border-300":"pointer-events-none bg-gray-200 opacity-50"," ").concat(la.button," ml-8")},"Previous"),o.a.createElement("button",{onClick:function(){return i(l({page:j,type:a}))},className:"".concat(N?"hover:shadow-md hover:text-gray-700 border border-300":"pointer-events-none bg-gray-200 opacity-50"," ").concat(la.button," ml-4")},"Next")))))},sa={calendar:o.a.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"}),filters:o.a.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"}),prep:o.a.createElement("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}),export:o.a.createElement("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})},ca={leadsWrapper:"relative pb-28",navWrapper:"pt-3 pb-2 px-4 lg:px-8 cs-light-400 border-b border-300 shadow-sm",nav:"relative flex items-end justify-between container",navLink:"relative first:ml-0 ml-8 pb-2 font-semibold text-gray-700 dark:text-gray-400 hover:text-purple-500 dark:hover:text-purple-300 hover:border-b-2 hover:border-purple-500 dark:border-purple-200 group transition-colors-main",navLinkActive:"text-purple-500 dark:text-purple-300 border-b-2 border-purple-500 dark:border-purple-200",navLinkCounter:"h-4 w-4 absolute top-0 right-0 all-center py-2.5 px-3 rounded-full cs-purple group-hover:bg-purple-600 dark:group-hover:bg-purple-300 text-xs transform -translate-y-4 translate-x-7",navToolsWrapper:"flex items-center"},oa=function(e){var t=e.leads,a=e.allLeads,r=e.pagination,n=e.type,l=e.itemLimit,i=e.user,s=e.status,d=e.currentSearchValue,u=Re(),m=We((function(e){return e.leads.status})),p=We((function(e){return e.leads.currentLead})),g=We((function(e){return e.leads.lastUpdated})),h=We((function(e){return e.filters})),v=Object(c.useState)(!1),b=Object(Te.a)(v,2),y=b[0],x=b[1],E=Object(c.useState)(!1),w=Object(Te.a)(E,2),k=w[0],O=w[1],j=Object(c.useState)(!1),S=Object(Te.a)(j,2),I=S[0],M=S[1],B=Object(c.useState)(!1),z=Object(Te.a)(B,2),T=z[0],R=z[1],W=i._id,V=i.likedLeads,F=i.archivedLeads,H=h.count,A=h.dateLimits.selected,D=[{title:"Feed",link:"/",count:null},{title:"Liked",link:"/liked/",count:(null===V||void 0===V?void 0:V.length)>0&&V.length},{title:"Archived",link:"/archived/",count:(null===F||void 0===F?void 0:F.length)>0&&F.length}],_=[{text:"Filters",path:sa.filters,onClick:function(){return M((function(e){return!e}))},conditional:H>0,conditionalDisplay:o.a.createElement("span",{className:"svg-sm absolute top-0 right-0 all-center py-2.5 px-3 rounded-full cs-purple transform -translate-y-2 translate-x-3"},H)}],G=function(){var e=Object(L.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.length>0?(u(N({title:"Exporting leads",message:"Hold tight while the data is accumulated.",alertType:"warning"})),u(ie({userId:W,filters:h,type:n,query:d})),O(!0)):u(N({title:"There are no leads to export",message:"Please adjust your export settings and try again",alertType:"danger"}))}catch(a){console.log(a),u(N({title:"Error exporting leads",message:"Please try again or refresh the page.",alertType:"danger"}))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(k){var e=setTimeout((function(){0===a.length&&O(!1)}),18e3);return function(){return clearTimeout(e)}}}),[a,k,O]);var q=Object(He.useSpring)({transform:T?"translateX(0%)":"translateX(100%)",config:{duration:250}});return"idle"===s&&i?o.a.createElement(c.Fragment,null,o.a.createElement("section",{className:ca.leadsWrapper},o.a.createElement("nav",{className:ca.navWrapper},o.a.createElement("div",{className:ca.nav},o.a.createElement("div",null,D.map((function(e,t){return o.a.createElement(f.c,{key:t,exact:!0,to:"/leads".concat(e.link),onClick:function(){u(be()),p&&u(he())},className:ca.navLink,activeClassName:ca.navLinkActive},o.a.createElement("span",null,e.title),e.count&&o.a.createElement("span",{className:ca.navLinkCounter},e.count))}))),o.a.createElement("div",{className:ca.navToolsWrapper},o.a.createElement(Fe,{text:A&&i.dateCreated?A:"".concat(P.DateTime.fromISO(null===i||void 0===i?void 0:i.dateCreated.toString()).toFormat("LLL dd, yyyy")||"Jan 1, 2021"," - ").concat(P.DateTime.now().toFormat("LLL dd, yyyy"))||"All leads",onClick:function(){return x((function(e){return!e}))},width:null,margin:!1,size:null,cta:!1,path:sa.calendar,conditional:null,conditionalDisplay:null}),_.map((function(e,t){return o.a.createElement(Fe,{key:t,text:e.text,onClick:e.onClick,width:null,margin:!0,size:null,cta:!1,path:e.path,conditional:e.conditional,conditionalDisplay:e.conditionalDisplay})})),!k&&o.a.createElement(Fe,{text:"Export",onClick:G,width:null,margin:!0,size:null,cta:!1,path:sa.export,conditional:null,conditionalDisplay:null}),y&&o.a.createElement(Lt,{type:n,date:y,setDate:x,dateCreated:i.dateCreated.toString(),lastUpdated:g}),I&&o.a.createElement(Jt,{filterActive:I,setFilterActive:M}),k&&(a.length>0?o.a.createElement(Ft,{user:i,leads:a,setExportLeads:O}):o.a.createElement(ft,{divWidth:"w-24 ml-1",center:!1,spinnerWidth:"sm",margin:!1,text:null}))))),o.a.createElement("div",{className:"container"},"failed"===m?o.a.createElement("div",{className:"mt-6 container text-200"},"There was an error making that request. If this issue persists, please"," ",o.a.createElement("a",{href:"mailto:support@leadgeek.io",target:"_blank",rel:"noopener noreferrer",className:"link rounded-main transition-main ring-gray"},"contact Leadgeek support"),"."):o.a.createElement(ra,{leads:t,user:i,liked:V,archived:F,status:m,showDetails:T,setShowDetails:R,type:n,currentSearchValue:d}),t.length>0&&r&&o.a.createElement(ia,{status:m,pagination:r,type:n,itemLimit:l,setPage:ye}))),p&&o.a.createElement(Wt,{type:n,user:i,currentLead:p,showDetails:T,setShowDetails:R,animationStyle:q})):"loading"===s?o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading leads..."}):o.a.createElement("div",{className:"mt-6 container text-200"},"There was an error making that request. If this issue persists, please"," ",o.a.createElement("a",{href:"mailto:support@leadgeek.io",target:"_blank",rel:"noopener noreferrer",className:"link rounded-main transition-main ring-gray"},"contact Leadgeek support"),".")},da=function(){var e=Re(),t=We((function(e){return e.auth.status})),a=We((function(e){return e.auth.isAuthenticated})),r=We((function(e){return e.auth.user})),n=We((function(e){return e.leads.feed})),l=We((function(e){return e.filters})),i=n.pagination.page,s=l.itemLimit;return Object(c.useEffect)((function(){"idle"===t&&a&&(null===r||void 0===r?void 0:r._id)&&e(ce({user:{id:r._id,role:r.role},page:i,filters:l}))}),[t,a,null===r||void 0===r?void 0:r._id,null===r||void 0===r?void 0:r.role,i,l,e]),"idle"===t&&r?o.a.createElement(jt,null,o.a.createElement(oa,{leads:n.pageByIds,allLeads:n.totalByIds,pagination:n.pagination,type:"feed",itemLimit:s,user:r,status:t,search:!1,currentSearchValue:null})):o.a.createElement("div",{className:"h-screen dark:bg-darkGray-400"},o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},ua=function(){var e=Re(),t=We((function(e){return e.auth.status})),a=We((function(e){return e.auth.isAuthenticated})),r=We((function(e){return e.auth.user})),n=We((function(e){return e.leads.liked})),l=We((function(e){return e.filters})),i=n.pagination.page;return Object(c.useEffect)((function(){"idle"===t&&a&&r&&e(oe({leads:r.likedLeads,page:i,filters:l}))}),[t,a,r,i,l,e]),"idle"===t&&r?o.a.createElement(jt,null,o.a.createElement(oa,{leads:n.pageByIds,allLeads:n.totalByIds,pagination:n.pagination,type:"liked",itemLimit:l.itemLimit,user:r,status:t,search:!1,currentSearchValue:null})):o.a.createElement("div",{className:"h-screen"},o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},ma=function(){var e=Re(),t=We((function(e){return e.auth.status})),a=We((function(e){return e.auth.isAuthenticated})),r=We((function(e){return e.auth.user})),n=We((function(e){return e.leads.archived})),l=We((function(e){return e.filters})),i=n.pagination.page;return Object(c.useEffect)((function(){"idle"===t&&a&&r&&e(se({leads:r.archivedLeads,page:i,filters:l}))}),[t,a,r,i,l,e]),"idle"===t&&r?o.a.createElement(jt,null,o.a.createElement(oa,{leads:n.pageByIds,allLeads:n.totalByIds,pagination:n.pagination,type:"archived",itemLimit:l.itemLimit,user:r,status:t,search:!1,currentSearchValue:null})):o.a.createElement("div",{className:"h-screen"},o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},pa=function(){var e=Re(),t=We((function(e){return e.auth.status})),a=We((function(e){return e.auth.user})),r=We((function(e){return e.leads.search})),n=We((function(e){return e.filters})),l=r.pagination.page,i=r.searchValue,s=r.newSearch;return Object(c.useEffect)((function(){"idle"===t&&(null===a||void 0===a?void 0:a._id)&&i?e(de({userId:a._id,query:i,page:s?1:l,filters:n})):"idle"===t&&e(ve())}),[t,null===a||void 0===a?void 0:a._id,i,s,l,n,e]),"idle"===t&&a?o.a.createElement(jt,null,o.a.createElement(oa,{leads:r.pageByIds,allLeads:r.totalByIds,pagination:r.pagination,type:"search",itemLimit:n.itemLimit,user:a,status:t,search:!0,currentSearchValue:i})):o.a.createElement("div",{className:"h-screen"},o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},fa=a(34),ga={button:"py-2 px-3 rounded-lg dark:bg-darkGray-200 dark:hover:bg-darkGray-100 shadow-sm text-sm font-semibold border border-gray-200 dark:border-darkGray-100 text-gray-600 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-400 transition duration-100 ease-in-out ring-purple"},ha=function(e){var t=e.items,a=e.pagination,r=e.setItems,n=a.page,l=a.hasNextPage,i=a.hasPreviousPage,s=a.nextPage,c=a.previousPage,d=a.totalItems,u=20,m=null!==c?c*u+1:c&&c+1,p=d&&d<n*u?d:n*u;return o.a.createElement("article",{className:"mt-8"},o.a.createElement("div",{className:"flex items-center justify-end py-2 px-4 cs-light-400 rounded-main shadow-md text-100 border border-300"},o.a.createElement("div",{className:"flex items-center justify-end text-sm"},d?o.a.createElement("div",null,"Showing ",m," to ",p," of ",d," results"):o.a.createElement("div",null),(i||l)&&o.a.createElement("nav",null,o.a.createElement("button",{onClick:function(){return i&&(r((function(e){return Object(ze.a)(Object(ze.a)({},e),{},{pageByIds:c?t.slice(1===c?(c-1)*u:(c-1)*u+1,c*u):[],pagination:{page:c,hasNextPage:!0,hasPreviousPage:c&&c>1,nextPage:n,previousPage:c&&c-1,totalItems:d}})})),void console.log(c&&(c-1)*u,c&&c*u))},className:"".concat(i?"hover:shadow-md hover:text-gray-700 border border-300":"pointer-events-none bg-gray-200 opacity-50"," ").concat(ga.button," ml-8")},"Previous"),o.a.createElement("button",{onClick:function(){return l&&void r((function(e){return Object(ze.a)(Object(ze.a)({},e),{},{pageByIds:s?t.slice(n*u+1,s*u+1):[],pagination:{page:s,hasNextPage:s&&t.length>s*u,hasPreviousPage:s&&s>1,nextPage:s&&s+1,previousPage:n,totalItems:d}})}))},className:"".concat(l?"hover:shadow-md hover:text-gray-700 border border-300":"pointer-events-none bg-gray-200 opacity-50"," ").concat(ga.button," ml-4")},"Next")))))},va=function(e){var t=e.itemLeft,a=e.itemRight,r=e.onChange,n=e.defaultChecked,l=Object(c.useState)(n),i=Object(Te.a)(l,2),s=i[0],d=i[1];return o.a.createElement("label",{htmlFor:"colorTheme",className:"flex items-center cursor-pointer text-sm font-semibold text-100"},t&&t,o.a.createElement("div",{className:"relative mx-2"},o.a.createElement("input",{type:"checkbox",defaultChecked:n,onChange:function(){d((function(e){return!e})),r()},id:"colorTheme",className:"sr-only"}),o.a.createElement("div",{className:"block bg-gray-300 dark:bg-darkGray-200 w-12 h-6 rounded-full border border-300"}),o.a.createElement("div",{className:"absolute left-0.5 top-0.5 w-5 h-5 rounded-full transition transform ".concat(s?"bg-purple-500 dark:bg-purple-300 translate-x-6":"bg-white dark:bg-gray-200"," shadow-md")})),a&&a)};function ba(){return(ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ya(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function xa(e,t){var a=e.title,r=e.titleId,n=ya(e,["title","titleId"]);return c.createElement("svg",ba({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":r},n),a?c.createElement("title",{id:r},a):null,st||(st=c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})))}var Ea,wa=c.forwardRef(xa);a.p;function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Na(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Oa(e,t){var a=e.title,r=e.titleId,n=Na(e,["title","titleId"]);return c.createElement("svg",ka({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":r},n),a?c.createElement("title",{id:r},a):null,Ea||(Ea=c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))}var ja=c.forwardRef(Oa),Ca=(a.p,function(e){var t=e.item,a=e.status;return o.a.createElement("button",{className:"mb-2 -ml-0.5 pl-4 relative flex items-center group ".concat(!1===a?"opacity-25 cursor-default":"opacity-100 hover:text-purple-500 dark:hover:text-purple-300 hover:border-purple-500 dark:hover:border-purple-200"," font-semibold text-base text-gray-800 dark:text-gray-200 border-l-2 border-gray-200 dark:border-darkGray-100  transition-main"),disabled:a,onClick:function(e){!0===a&&t.onClick(e)}},t.title)}),La=function(){var e=Re(),t=We((function(e){return e.auth.status})),a=We((function(e){return e.auth.user})),r=Object(c.useState)(!1),n=Object(Te.a)(r,2),l=n[0],i=n[1],s=Object(fa.useStateIfMounted)({status:"loading",totalByIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null}}),d=Object(Te.a)(s,2),u=d[0],m=d[1],p=function(){var t=Object(L.a)(C.a.mark((function t(a){var r,n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.stopPropagation(),t.prev=1,t.next=4,I.a.get("/api/leads/export");case 4:if(r=t.sent,"Leads were added to the database."!==(n=r.data)){t.next=12;break}return t.next=9,I.a.post("https://api.netlify.com/build_hooks/60f1da8987d39d7d6bceae55");case 9:return t.abrupt("return",e(N({title:"Upload success",message:n,alertType:"success"})));case 12:return t.abrupt("return",e(N({title:"Error uploading leads",message:"Check Google Sheets for missing attributes.",alertType:"danger"})));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),f=Object(c.useCallback)(function(){var t=Object(L.a)(C.a.mark((function t(a){var r,n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("/api/users/all/".concat(a));case 3:if(r=t.sent,!((n=r.data).users.length>0)){t.next=10;break}return 20,t.abrupt("return",m(Object(ze.a)(Object(ze.a)({},u),{},{status:"idle",totalByIds:n.users,pageByIds:n.users.slice(0,20),pagination:Object(ze.a)(Object(ze.a)({},u.pagination),{},{page:1,hasNextPage:n.users.length>20,hasPreviousPage:!1,nextPage:2,previousPage:0,lastPage:Math.ceil(n.users.length/20),totalItems:n.users.length})})));case 10:return m(Object(ze.a)(Object(ze.a)({},u),{},{status:"idle"})),t.abrupt("return",e(N({title:"Something went wrong",message:"There was an error retreiving users.",alertType:"danger"})));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),[u,m,e]);Object(c.useEffect)((function(){"idle"===t&&(null===a||void 0===a?void 0:a._id)&&0===u.totalByIds.length&&f(null===a||void 0===a?void 0:a._id)}),[t,null===a||void 0===a?void 0:a._id,u.totalByIds,f]);var h=[{title:"Export leads",onClick:function(e){return p(e)}}];return a&&"master"!==(null===a||void 0===a?void 0:a.role)&&"admin"!==(null===a||void 0===a?void 0:a.role)?o.a.createElement(g.a,{to:{pathname:"/leads/"}}):o.a.createElement(jt,null,"loading"!==t&&a?o.a.createElement("section",{className:"my-6 container text-300"},o.a.createElement("div",{className:"flex mt-12"},o.a.createElement("nav",{className:"w-1/5 flex flex-col text-100 text-sm"},o.a.createElement("header",{className:"center-between"},o.a.createElement("h3",{className:"text-lg font-bold text-300"},"Tools"),o.a.createElement(va,{itemLeft:null,itemRight:null,onChange:function(){i((function(e){return!e}))},defaultChecked:!1})),o.a.createElement("ol",{className:"mt-4 pb-1 border-l-2 border-200"},h.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(Ca,{item:e,status:l}))})))),o.a.createElement("div",{className:"w-4/5 ml-12 text-300"},o.a.createElement("header",null,o.a.createElement("h2",{className:"text-2xl font-black text-300"},"Admin resources"),o.a.createElement("p",{className:"mt-2 text-200"},"Keep stuff from catching fire, bruh"," ",o.a.createElement("span",{role:"img","aria-label":"Fire emoji"},"\ud83d\udd25"))),o.a.createElement("article",{className:"mt-4 py-2 md:py-4 lg:py-6 cs-light-300 card-200"},o.a.createElement("div",{className:"pb-4 border-b border-200"},o.a.createElement("header",{className:"card-padding-x"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Users"))),"idle"===u.status?o.a.createElement("table",{className:"w-full table-auto"},o.a.createElement("thead",{className:"border-b border-200"},o.a.createElement("tr",{className:"cs-bg text-left font-semibold text-xs text-gray-600 uppercase tracking-widest whitespace-no-wrap"},o.a.createElement("th",{className:"p-3"}),o.a.createElement("th",{className:"p-3"},"Name"),o.a.createElement("th",{className:"p-3"},"Email"),o.a.createElement("th",{className:"p-3"},"Plan"),o.a.createElement("th",{className:"p-3"},"Created"),o.a.createElement("th",{className:"p-3"},"Last login"))),o.a.createElement("tbody",{className:"text-100"},u.pageByIds.map((function(t){return o.a.createElement("tr",{key:t._id,className:"text-sm border-b last:border-none border-100 dark:border-darkGray-200 hover:bg-gray-100 dark:hover:bg-darkGray-300"},o.a.createElement("td",{className:"p-3 all-center"},t.subscription.subIds[0]&&t.subscription.subIds[0].active?o.a.createElement(wa,{className:"inline-block svg-sm text-teal-900 bg-teal-200 rounded-full"}):o.a.createElement(ja,{className:"inline-block svg-sm text-red-500 dark:text-red-600 bg-red-200 dark:bg-red-100 rounded-full"})),o.a.createElement("td",{className:"p-3"},o.a.createElement("button",{onClick:function(){return"master"===(null===a||void 0===a?void 0:a.role)&&e(je({userId:null===a||void 0===a?void 0:a._id,surrogateId:t._id}))},className:"link"},t.name)),o.a.createElement("td",{className:"p-3"},t.email),o.a.createElement("td",{className:"p-3"},B(t.role)),o.a.createElement("td",{className:"p-3"},t.lastLoggedIn?P.DateTime.fromISO(t.dateCreated.toString()).toFormat("LLL dd"):"-"),o.a.createElement("td",{className:"p-3"},t.lastLoggedIn?P.DateTime.fromISO(t.lastLoggedIn.toString()).toFormat("LLL dd @ t"):"-"))})))):o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:null,margin:!1,text:"Loading users..."})),u.totalByIds.length>0&&o.a.createElement(ha,{items:u.totalByIds,pagination:u.pagination,setItems:m})))):o.a.createElement("div",{className:"h-screen"},o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading admin settings..."})))},Sa=function(e){var t=e.link;return o.a.createElement(f.c,{className:"mb-2 -ml-0.5 pl-4 relative flex items-center group font-semibold text-gray-800 dark:text-gray-200 hover:text-purple-500 dark:hover:text-purple-300 border-l-2 border-gray-200 dark:border-darkGray-100 hover:border-purple-500 dark:hover:border-purple-200 transition-main",activeClassName:"border-l-2 border-purple-500 dark:border-purple-300 text-purple-500 dark:text-purple-300",to:"/settings/".concat(t.link,"/")},o.a.createElement("span",{className:"text-base"},t.title),t.new&&o.a.createElement("span",{className:"ml-6 py-0.5 px-1 rounded-main cs-purple text-xs"},"New"))},Ia=function(){return o.a.createElement("nav",{className:"w-1/5 flex flex-col text-100 text-sm"},o.a.createElement("h3",{className:"text-lg font-bold text-300"},"Settings"),o.a.createElement("ol",{className:"mt-4 pb-1 border-l-2 border-200"},[{title:"Account",link:"account",new:!1},{title:"Plan & billing",link:"billing",new:!1}].map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(Sa,{link:e}))}))))},Pa=o.a.memo(Ia),Ma=function(e){var t=e.children,a=e.title,r=e.description;return o.a.createElement("div",{className:"flex flex-row container mt-12"},o.a.createElement(Pa,null),o.a.createElement("section",{className:"w-4/5 max-w-4xl ml-12 text-300"},o.a.createElement("header",null,o.a.createElement("h2",{className:"text-2xl font-black text-300"},a),o.a.createElement("p",{className:"mt-2 text-200"},r)),o.a.createElement("div",null,t)))},Ba=function(){var e=Re(),t=We((function(e){return e.auth.status})),a=We((function(e){return e.auth.user})),r=Ve(),n=Object(Te.a)(r,2),l=n[0],i=n[1],s=Object(c.useState)({name:(null===a||void 0===a?void 0:a.name)||"",password_1:"",password_2:""}),d=Object(Te.a)(s,2),u=d[0],m=d[1],p=u.password_1,f=u.password_2,g=function(e){m(Object(ze.a)(Object(ze.a)({},u),{},Object(Be.a)({},e.target.name,e.target.value)))},h=function(){var t=Object(L.a)(C.a.mark((function t(){var r,n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.name){t.next=2;break}return t.abrupt("return",e(N({title:"Required field missing",message:"Name field can't be empty",alertType:"danger"})));case 2:if(u.name!==(null===a||void 0===a?void 0:a.name)){t.next=4;break}return t.abrupt("return",e(N({title:"Error updating name",message:"The current and updated name are the same",alertType:"warning"})));case 4:return r=JSON.stringify({userId:null===a||void 0===a?void 0:a._id,name:u.name}),t.next=7,I.a.put("/api/auth/update-profile",r,M);case 7:if(n=t.sent,"Profile was successfully updated"!==n.data.message){t.next=14;break}return e(N({title:"Update success",message:"Your profile was successfully updated",alertType:"success"})),t.abrupt("return",e(Oe()));case 14:return t.abrupt("return",e(N({title:"Error updating profile",message:"Please contact support",alertType:"danger"})));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a&&o.a.createElement(jt,null,o.a.createElement(Ma,{title:"Account",description:"Change your account preferences"},o.a.createElement("section",{className:"my-6"},"loading"===t?o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:"sm",margin:!1,text:null}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"pt-2 md:pt-4 lg:pt-6 cs-light-300 card-200"},o.a.createElement("div",{className:"pb-4 border-b border-200"},o.a.createElement("header",{className:"card-padding-x"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Profile"))),o.a.createElement("div",{className:"flex items-center card-padding-x"},o.a.createElement(Ze,{label:"Name",type:"text",name:"name",placeholder:a.name,value:u.name||a.name,onChange:function(e){return g(e)},required:!0,styles:"w-1/2"}),o.a.createElement("div",{className:"w-1/2 ml-16"})),o.a.createElement("div",{className:"flex justify-end mt-4 py-2 card-padding-x cs-bg rounded-b-lg border-t border-300"},o.a.createElement(Fe,{text:"Save",onClick:function(){return h()},width:null,margin:!1,size:"sm",cta:!0,path:null,conditional:null,conditionalDisplay:null}))),o.a.createElement("article",{className:"mt-4 pt-2 md:pt-4 lg:pt-6 cs-light-300 card-200"},o.a.createElement("div",{className:"pb-4 border-b border-200"},o.a.createElement("header",{className:"card-padding-x"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Security"))),o.a.createElement("form",{className:"flex items-center card-padding-x"},o.a.createElement(ot,{label:"New Password",placeholder:"Create a new password",name:"password_1",value:p,onChange:function(e){return g(e)},required:!0,styles:"w-1/2"}),o.a.createElement(ot,{label:"Confirm Password",placeholder:"Enter the password again",name:"password_2",value:f,onChange:function(e){return g(e)},required:!0,styles:"w-1/2 ml-16"})),o.a.createElement("div",{className:"flex justify-end mt-4 py-2 card-padding-x cs-bg rounded-b-lg border-t border-300"},o.a.createElement(Fe,{text:"Save",onClick:function(){return(null===a||void 0===a?void 0:a.email)&&function(t,a,r){if(t){if(!a||!r)return e(N({title:"Required field missing",message:"Password field can't be empty",alertType:"danger"}));if(a!==r)return e(N({title:"Passwords don't match",message:"Check spelling or case sensitivity",alertType:"danger"}));if(a.length<7&&r.length<7)return e(N({title:"Password is too short",message:"Password must be at least 7 characters",alertType:"danger"}));var n=t.split("@")[0];return a.includes(n)||r.includes(n)?e(N({title:"Password is too similar to your email",message:"Please choose another password",alertType:"danger"})):U.includes(a)||U.includes(r)?e(N({title:"Password is too common",message:"Please pick a more unique password",alertType:"danger"})):(e(k()),e(Ce({email:t,password:a,redirect:!1})))}}(null===a||void 0===a?void 0:a.email,p,f)},width:null,margin:!1,size:"sm",cta:!0,path:null,conditional:null,conditionalDisplay:null}))),o.a.createElement("article",{className:"mt-4 py-2 md:py-4 lg:py-6 cs-light-300 card-200"},o.a.createElement("div",{className:"pb-4 border-b border-200"},o.a.createElement("header",{className:"card-padding-x"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Appearance"))),o.a.createElement("div",{className:"mt-4 card-padding-x"},o.a.createElement("div",{className:"center-between text-200"},o.a.createElement("div",null,"Theme"),o.a.createElement(va,{itemLeft:o.a.createElement("span",{"aria-label":"light"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-base",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"}))),itemRight:o.a.createElement("span",{"aria-label":"dark"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-base",viewBox:"0 0 20 20",fill:"currentColor"},o.a.createElement("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"}))),onChange:function(){localStorage.setItem("theme",l),i(l)},defaultChecked:"dark"!==l}))))))))},za=function(){Re();var e=We((function(e){return e.auth.status})),t=We((function(e){return e.auth.user})),a=Object(c.useState)({unitFee:"",stdInventoryFee:"",labelingFee:"",inspectionFee:"",marketingInsertFee:""}),r=Object(Te.a)(a,2),n=r[0],l=r[1],i=Object(c.useState)(!1),s=Object(Te.a)(i,2),d=s[0],u=s[1],m=(n.unitFee,n.stdInventoryFee,n.labelingFee,n.inspectionFee,n.marketingInsertFee,function(e){l(Object(ze.a)(Object(ze.a)({},n),{},Object(Be.a)({},e.target.name,e.target.value)))}),p=[{label:"Standard inventory fee",name:"stdInventoryFee",placeholder:(null===t||void 0===t?void 0:t.name)?t.name:"Eg. 0.50",value:n.stdInventoryFee||(null===t||void 0===t?void 0:t.name)},{label:"Labeling fee",name:"labelingFee",placeholder:"Eg. 0.20",value:n.labelingFee},{label:"Inspection fee",name:"inspectionFee",placeholder:(null===t||void 0===t?void 0:t.name)?t.name:"Eg. 0.20",value:n.inspectionFee||(null===t||void 0===t?void 0:t.name)},{label:"Marketing insert fee",name:"marketingInsertFee",placeholder:(null===t||void 0===t?void 0:t.name)?t.name:"Eg. 0.05",value:n.inspectionFee||(null===t||void 0===t?void 0:t.name)}],f=Object(He.useSpring)({height:d?"10.25rem":"5.125rem",config:{duration:75}});return t&&o.a.createElement(jt,null,o.a.createElement(Ma,{title:"Arbitrage",description:"Manage arbitrage settings and information"},o.a.createElement("section",{className:"my-6"},"loading"===e?o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:"sm",margin:!1,text:null}):o.a.createElement(c.Fragment,null,o.a.createElement("article",{className:"pt-2 md:pt-4 lg:pt-6 cs-light-300 card-200"},o.a.createElement("div",{className:"pb-4 border-b border-200"},o.a.createElement("header",{className:"center-between card-padding-x"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Prep fees"),o.a.createElement(va,{itemLeft:null,itemRight:o.a.createElement("span",null,"Advanced"),onChange:function(){u((function(e){return!e}))},defaultChecked:!1}))),o.a.createElement(He.animated.div,{style:f,className:"grid gap-x-16 grid-flow-row grid-cols-2 card-padding-x"},d?o.a.createElement(c.Fragment,null,p.map((function(e,t){return o.a.createElement(Ze,{key:t,label:e.label,type:"number",name:e.name,placeholder:e.placeholder,value:e.value,onChange:m,required:!1,styles:null})}))):o.a.createElement(c.Fragment,null,o.a.createElement(Ze,{label:"Fee per unit",type:"number",name:"unitFee",placeholder:t.name,value:t.name,onChange:m,required:!0,styles:null}),o.a.createElement("div",null))),o.a.createElement("div",{className:"flex justify-end mt-4 py-2 card-padding-x cs-bg rounded-b-lg border-t border-300"},o.a.createElement(Fe,{text:"Save",onClick:function(){return alert("hello")},width:null,margin:!1,size:"sm",cta:!0,path:null,conditional:null,conditionalDisplay:null})))))))},Ta=function(e){var t=e.title,a=e.value,r=e.isInteractable,n=e.t,l=e.size,i=Object(c.useState)(!1),s=Object(Te.a)(i,2),d=s[0],u=s[1];return o.a.createElement("li",{className:"flex justify-between text-200 ".concat(l?"".concat(l," items-start"):"items-center")},o.a.createElement("header",{className:"flex items-center"},o.a.createElement("h3",{className:"align-bottom"},t),n&&o.a.createElement("div",{className:"relative z-0 flex items-end mt-1 ml-2"},o.a.createElement("div",{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},className:"text-gray-400 rounded-full ring-gray cursor-pointer"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},o.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))),d&&o.a.createElement("div",{className:"absolute left-0 flex items-center p-2 rounded-main shadow-md bg-gray-900 text-white text-xs whitespace-nowrap transform translate-x-6 translate-y-1"},n))),r?a:o.a.createElement("div",null,a))},Ra=function(e){var t=e.title,a=e.code,r=e.clipboard,n=Object(c.useState)(!1),l=Object(Te.a)(n,2),i=l[0],s=l[1],d=Object(c.useState)("Copy code"),u=Object(Te.a)(d,2),m=u[0],p=u[1];return o.a.createElement("div",{className:"mt-6"},o.a.createElement("header",{className:"relative pb-1 border-b border-200"},o.a.createElement("h4",{className:"text-lg font-bold text-300"},t),i&&o.a.createElement("div",{className:"absolute left-1/2 transform -translate-x-1/2 -translate-y-8 p-2 rounded-lg shadow-md bg-gray-900 text-white text-xs whitespace-nowrap"},m)),o.a.createElement("button",{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return"Copy code"===m&&s(!1)},onClick:function(){navigator.clipboard.writeText(r||""),p("Code copied"),s(!0),setTimeout((function(){p("Copy code"),s(!1)}),2e3)},className:"w-full mt-2 rounded-main text-left ring-gray transition-main"},o.a.createElement("pre",{className:"p-4 bg-gray-900 dark:bg-darkGray-100 card-200 text-gray-300 whitespace-pre"},a)))},Wa={payment:o.a.createElement("g",null,o.a.createElement("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})),affiliate:o.a.createElement("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})},Va={tableWrapper:"w-full relative mt-4 card-padding-x",table:"w-full table-auto",tableHeadWrapper:"border-b border-gray-200",tableHead:"text-left font-semibold text-xs text-gray-600 uppercase tracking-widest whitespace-no-wrap",tableHeadCell:"p-2",tableBody:"text-sm text-gray-800",rowWrapper:"relative px-1 border-b border-gray-200 hover:bg-gray-100",defaultCellWrapper:"p-2",defaultSvg:"svg-base",valueIndicator:"ml-1 text-gray-400 font-semibold"},Fa=function(){var e=We((function(e){return e.auth.status})),t=We((function(e){return e.auth.isAuthenticated})),a=We((function(e){return e.auth.user})),r=Object(fa.useStateIfMounted)({paypalEmail:"",paymentHistory:{status:"loading",payments:[]}}),n=Object(Te.a)(r,2),l=n[0],i=n[1],s=Object(c.useState)(!1),d=Object(Te.a)(s,2),u=d[0],m=d[1],p=Object(c.useState)(!1),f=Object(Te.a)(p,2),g=f[0],h=f[1],v=Object(c.useState)("Copy LGID"),b=Object(Te.a)(v,2),y=b[0],x=b[1],E=Object(c.useState)((null===a||void 0===a?void 0:a.referrals.referrer.isReferrer)||!1),w=Object(Te.a)(E,2),k=w[0],N=w[1],O=Object(c.useState)(G(-1)),j=Object(Te.a)(O,1)[0],S=Object(c.useState)(t&&(null===a||void 0===a?void 0:a.referrals.referrer.lgid)),P=Object(Te.a)(S,1)[0],B=Object(c.useState)(!1),z=Object(Te.a)(B,2),T=z[0],R=z[1],W=Object(c.useState)(G(1)),V=Object(Te.a)(W,1)[0],F=l.paypalEmail,H=l.paymentHistory,U=H.status,J=H.payments;Object(c.useEffect)((function(){!0===(null===a||void 0===a?void 0:a.referrals.referrer.isReferrer)?N(!0):N(!1)}),[null===a||void 0===a?void 0:a.referrals.referrer.isReferrer]);var Y=Object(c.useCallback)(function(){var e=Object(L.a)(C.a.mark((function e(t,a){var r,n,s,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}return e.abrupt("return",i(Object(ze.a)(Object(ze.a)({},l),{},{paymentHistory:Object(ze.a)(Object(ze.a)({},l.paymentHistory),{},{status:"idle",payments:[]})})));case 2:return e.prev=2,r=JSON.stringify({clients:t,affCreated:a}),e.next=6,I.a.post("/api/users/affiliate-payments",r,M);case 6:n=e.sent,s=n.data,c=s.message,o=s.affPayments,"Referred clients with valid payments were found."===c&&(console.log(o),i(Object(ze.a)(Object(ze.a)({},l),{},{paymentHistory:Object(ze.a)(Object(ze.a)({},l.paymentHistory),{},{status:"idle",payments:o})}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}(),[l,i]);Object(c.useEffect)((function(){var r;t&&"idle"===e&&"loading"===U&&k&&Y(null===a||void 0===a?void 0:a.referrals.referrer.clients,null===a||void 0===a||null===(r=a.referrals.referrer.dateCreated)||void 0===r?void 0:r.toString())}),[t,e,U,k,null===a||void 0===a?void 0:a.referrals.referrer.clients,null===a||void 0===a?void 0:a.referrals.referrer.dateCreated,Y]),Object(yt.a)("Escape",(function(){R(!1)}),{keyup:!0});var K=function(e){var t=e.reduce((function(e,t){return e+t.amount}),0);return D(t)},$=[{title:o.a.createElement("span",null,"Unique link"),value:o.a.createElement("button",{onClick:function(){return R((function(e){return!e}))},className:"link rounded-main ring-gray transition-main"},"Generate affiliate link"),isInteractable:!0,t:'Generate & copy your unique link in the format "https://leadgeek.io/?lgid=YOUR_LGID"',size:""},{title:o.a.createElement("span",null,"PayPal email address"),value:u?o.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),m(!1)}(e)},className:"flex items-center"},o.a.createElement("input",{name:"paypalEmail",type:"email",placeholder:"Your new PayPal email",required:!0,onChange:function(e){i(Object(ze.a)(Object(ze.a)({},l),{},Object(Be.a)({},e.target.name,e.target.value)))},className:"w-full py-1 px-2 rounded-l-md input ring-purple focus:ring-inset"}),o.a.createElement("button",{className:"py-1 px-2 rounded-r-md cs-purple border-t border-r border-b border-purple-500 dark:border-purple-300 transition-main ring-purple"},"Update")):o.a.createElement("button",{onClick:function(){return m(!0)},className:"font-semibold ".concat(t&&((null===a||void 0===a?void 0:a.referrals.referrer.paypalEmail)||F)?"link":"text-red-400 hover:text-red-500"," hover:text-gray-700 ring-gray rounded-lg transition-main")},t&&((null===a||void 0===a?void 0:a.referrals.referrer.paypalEmail)||F)?F||(null===a||void 0===a?void 0:a.referrals.referrer.paypalEmail):"Add PayPal email for payout"),isInteractable:!0,t:"This is the PayPal email where your commission payments will be sent",size:""},{title:o.a.createElement("span",null,"Est. payout for"," ",o.a.createElement("span",{className:"font-bold"},V.toFormat("LLLL dd"))),value:"idle"===e?o.a.createElement("span",{className:"font-bold"},"$",function(e){var t=e.filter((function(e){return q(e.created)>=j&&q(e.created)<=V}));return K(t)}(J)):o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:"sm",margin:!1,text:null}),isInteractable:!1,t:"On the 15th of each month for commissions > 60 days old",size:""},{title:o.a.createElement("span",null,"Total clients referred"),value:o.a.createElement("span",{className:"font-bold"},t&&(null===a||void 0===a?void 0:a.referrals.referrer.clients)&&a.referrals.referrer.clients.length),isInteractable:!1,t:"",size:""},{title:o.a.createElement("span",null,"Total referral value"),value:"idle"===e?o.a.createElement("span",{className:"font-bold"},"$",K(J)):o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:"sm",margin:!1,text:null}),isInteractable:!1,t:"",size:""}],Z=[{title:"Text link",code:o.a.createElement("code",null,"<",o.a.createElement("span",{className:"code-html-tag"},"a")," ",o.a.createElement("span",{className:"code-html-attribute"},"href"),'="https://leadgeek.io/?lgid=',P||"YOUR_LGID",'"'," ",o.a.createElement("span",{className:"code-html-attribute"},"rel"),'="sponsored">Join Leadgeek now</',o.a.createElement("span",{className:"code-html-tag"},"a"),">"),clipboard:'<a href="https://leadgeek.io/?lgid='.concat(P||"YOUR_LGID",'" rel="sponsored">Join Leadgeek now</a>')},{title:"Image link",code:o.a.createElement("code",null,"<",o.a.createElement("span",{className:"code-html-tag"},"a")," ",o.a.createElement("span",{className:"code-html-attribute"},"href"),'="https://leadgeek.io/?lgid=',P||"YOUR_LGID",'"'," ",o.a.createElement("span",{className:"code-html-attribute"},"rel"),'="sponsored">',o.a.createElement("br",null),"  ","<",o.a.createElement("span",{className:"code-html-tag"},"img")," ",o.a.createElement("span",{className:"code-html-attribute"},"src"),'="https://www.YOUR_WEBSITE.com/YOUR_GRAPHIC.png" />',o.a.createElement("br",null),"</",o.a.createElement("span",{className:"code-html-tag"},"a"),">"),clipboard:'<a href="https://leadgeek.io/?lgid='.concat(P||"YOUR_LGID",'" rel="sponsored"><img src="https://www.YOUR_WEBSITE.com/YOUR_GRAPHIC.png"/></a>')}];return"idle"===e&&a?o.a.createElement(jt,null,o.a.createElement(Ma,{title:"Affiliates",description:"Generate your unique link and review payouts"},o.a.createElement("section",{className:"my-6"},k?o.a.createElement("div",{className:"w-full"},o.a.createElement("section",{className:"pt-2 md:pt-4 lg:pt-6 pb-5 cs-light-300 card-200"},o.a.createElement("div",{className:"pb-4 border-b border-200"},o.a.createElement("header",{className:"flex items-end justify-between card-padding-x"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Basic information"),P&&o.a.createElement("div",{className:"relative"},o.a.createElement("button",{onClick:function(){navigator.clipboard.writeText(P||""),x("LGID copied"),h(!0),setTimeout((function(){h(!1),x("Copy LGID")}),2e3)},onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},className:"py-1 px-2 bg-gray-100 dark:bg-gray-900 text-300 rounded-main text-xs font-semibold transition-main ring-gray"},"Leadgeek ID: ",P),g&&o.a.createElement("div",{className:"absolute top-0 right-0 flex items-center p-2 rounded-lg shadow-md bg-gray-900 text-white text-xs whitespace-nowrap transform -translate-y-10"},y||"Copy LGID")))),o.a.createElement("ul",{className:"grid grid-flow-col grid-rows-5 grid-cols-1 gap-y-3 gap-x-8 mt-4 card-padding-x"},$.map((function(e,t){return o.a.createElement(Ta,{key:t,title:e.title,value:e.value,isInteractable:e.isInteractable,t:e.t,size:e.size})})))),o.a.createElement("section",{className:"mt-4 pt-2 md:pt-4 lg:pt-6 pb-4 cs-light-300 card-200"},o.a.createElement("div",{className:"pb-4 border-b border-200"},o.a.createElement("header",{className:"card-padding-x"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Commission history"))),"loading"===U?o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:null,margin:!0,text:"Loading affiliate payments..."}):J.length>0?o.a.createElement("div",{className:Va.tableWrapper},o.a.createElement("table",{className:Va.table,id:"payments"},o.a.createElement("thead",{className:Va.tableHeadWrapper},o.a.createElement("tr",{className:Va.tableHead},o.a.createElement("th",null,"Transaction ID"),o.a.createElement("th",{className:Va.tableHeadCell},"Plan"),o.a.createElement("th",{className:Va.tableHeadCell},"Amount"),o.a.createElement("th",{className:"pl-2 text-right"},"Date created"),o.a.createElement("th",{className:"pl-2 text-right"},"Est. payout date"))),o.a.createElement("tbody",{className:Va.tableBody},J.map((function(e,t){return o.a.createElement("tr",{key:t,className:Va.rowWrapper},o.a.createElement("td",null,function(e,t){var a=e.slice(3);return a.length>t?a.substr(0,t-1)+"xxxx":e}(e.id,22)),o.a.createElement("td",{className:Va.defaultCellWrapper},A(e.amount)),o.a.createElement("td",{className:Va.defaultCellWrapper},o.a.createElement("span",null,"$"),D(e.amount),o.a.createElement("span",{className:Va.valueIndicator},e.currency.toUpperCase())),o.a.createElement("td",{className:"pl-2 text-right"},_(e.created,!0)),o.a.createElement("td",{className:"pl-2 text-right"},q(e.created).toFormat("LLLL dd, yyyy")))}))))):o.a.createElement("section",{className:"mt-4 card-padding-x"},o.a.createElement(Qt,{header:"No affiliate payments found",text:"No payments have been found for your account.",path:Wa.payment,link:"",linkText:""}))),T&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(){R((function(e){return!e}))},className:"absolute inset-0 z-10 h-full w-full bg-gray-900 opacity-25"}),o.a.createElement("div",{className:"absolute top-1/2 inset-x-0 z-20 max-h-screen max-w-4xl mx-auto pt-2 md:pt-4 lg:pt-6 pb-4 cs-light-200 card-200 transform -translate-y-1/2"},o.a.createElement("div",{className:"relative pb-1 border-b border-200"},o.a.createElement("header",{className:"card-padding-x"},o.a.createElement("h3",{className:"text-xl font-bold text-300"},"Generated affiliate links")),o.a.createElement("button",{onClick:function(){return R((function(e){return!e}))},className:"absolute top-0 right-3 md:right-5 lg:right-7 ml-2 p-1 text-100 hover:bg-gray-100 dark:hover:bg-darkGray-100 rounded-md hover:text-gray-700 dark:hover:text-gray-400 ring-gray transition-main"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-base",viewBox:"0 0 20 20",fill:"currentColor"},o.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),o.a.createElement("div",{className:"card-padding-x"},Z.map((function(e,t){return o.a.createElement(Ra,{key:t,title:e.title,code:e.code,clipboard:e.clipboard})})))))):o.a.createElement("section",{className:"mt-4"},o.a.createElement(Qt,{header:"Become a Leadgeek affiliate",text:"Leadgeek offers 25% lifetime commissions for any new member you refer. Apply @ www.leadgeek.io/affiliates",path:Wa.affiliate,link:"",linkText:""}))))):o.a.createElement("div",{className:"h-screen"},o.a.createElement(ft,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},Ha={payment:o.a.createElement("g",null,o.a.createElement("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})),affiliate:o.a.createElement("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})},Aa={tableWrapper:"w-full relative",table:"w-full table-auto",tableHeadWrapper:"border-t border-b border-200",tableHead:"text-left font-semibold text-xs text-100 uppercase tracking-widest whitespace-no-wrap cs-bg",tableHeadCell:"p-3",tableBody:"text-sm text-200",rowWrapper:"relative px-1 border-b border-100 last:border-none",defaultCellWrapper:"p-3",defaultSvg:"svg-base",valueIndicator:"ml-1 text-gray-400 font-semibold"},Da=function(){var e=We((function(e){return e.auth.status})),t=We((function(e){return e.auth.isAuthenticated})),a=We((function(e){return e.auth.user})),r=Object(fa.useStateIfMounted)({status:"loading",id:null,created:null,cancelAt:null,cancelAtPeriod:null,currentPeriodEnd:null,plan:{id:null,amount:null}}),n=Object(Te.a)(r,2),l=n[0],i=n[1],s=Object(fa.useStateIfMounted)({status:"loading",payments:[],pagination:{page:1,itemLimit:10}}),d=Object(Te.a)(s,2),u=d[0],m=d[1],p=Object(c.useCallback)(function(){var e=Object(L.a)(C.a.mark((function e(t){var a,r,n,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.stringify({subId:t}),e.next=4,I.a.post("/api/users/active-plan-details",a,M);case 4:if(r=e.sent,n=r.data,s=n.message,c=n.subscription,"Subscription data found"!==s){e.next=12;break}return e.abrupt("return",i(Object(ze.a)(Object(ze.a)({},l),{},{status:"idle",id:c.id,created:c.created,cancelAt:c.cancelAt,cancelAtPeriod:c.cancelAtPeriod,currentPeriodEnd:c.currentPeriodEnd,plan:Object(ze.a)(Object(ze.a)({},l.plan),{},{id:c.plan.id,amount:c.plan.amount})})));case 12:return e.abrupt("return",i(Object(ze.a)(Object(ze.a)({},l),{},{status:"idle"})));case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",i(Object(ze.a)(Object(ze.a)({},l),{},{status:"idle"})));case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),[l,i]);Object(c.useEffect)((function(){var r=null===a||void 0===a?void 0:a.subscription.subIds.filter((function(e){return!0===e.active}))[0];t&&"idle"===e&&"loading"===l.status&&(null===r||void 0===r?void 0:r.id)&&p(r.id)}),[t,e,l.status,null===a||void 0===a?void 0:a.subscription.subIds,p]);var f=Object(c.useCallback)(function(){var e=Object(L.a)(C.a.mark((function e(t){var a,r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.stringify({cusId:t}),e.next=4,I.a.post("/api/users/successful-payments/",a,M);case 4:return r=e.sent,n=r.data,e.abrupt("return",m(Object(ze.a)(Object(ze.a)({},u),{},{status:"idle",payments:n.payments})));case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",m(Object(ze.a)(Object(ze.a)({},u),{},{status:"idle"})));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[u,m]);Object(c.useEffect)((function(){t&&"idle"===e&&"loading"===u.status&&(null===a||void 0===a?void 0:a.subscription.cusId)&&f(a.subscription.cusId)}),[t,e,u.status,null===a||void 0===a?void 0:a.subscription.cusId,f]);var g=[{title:"Leadgeek member since",value:o.a.createElement("div",null,t&&(null===a||void 0===a?void 0:a.dateCreated)&&P.DateTime.fromISO(a.dateCreated.toString()).toFormat("LLL dd, yyyy"))},{title:"Current subscription active since",value:o.a.createElement("div",null,l.created&&_(+l.created,!0))},{title:"Current subscription",value:o.a.createElement("div",null,l.plan.amount&&A(l.plan.amount)," ","plan")},{title:"Est. charge for\n           ".concat(!l.cancelAtPeriod&&l.currentPeriodEnd&&_(+l.currentPeriodEnd,!1)),value:o.a.createElement("div",null,l.plan.amount&&o.a.createElement("div",{className:"font-bold"},"$",l.plan.amount/100))},{title:"Default payment method",value:o.a.createElement("div",null,(null===a||void 0===a?void 0:a.billing.brand)&&B(a.billing.brand)," ","\u2022\u2022\u2022\u2022 ",null===a||void 0===a?void 0:a.billing.last4)},{title:"Update subscription",value:o.a.createElement("div",null,o.a.createElement("a",{href:"mailto:support@leadgeek.io",target:"_blank",rel:"noopener noreferrer",className:"link"},"Contact support"))}];return"idle"===e&&a&&o.a.createElement(jt,null,o.a.createElement(Ma,{title:"Plan & billing",description:"Update your plan and view past invoices"},o.a.createElement("section",{className:"my-6"},(null===a||void 0===a?void 0:a.subscription.cusId)?o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"pt-2 md:pt-4 lg:pt-6 pb-5 cs-light-300 card-200"},o.a.createElement("div",{className:"pb-4 border-b border-200"},o.a.createElement("header",{className:"card-padding-x"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Subscription information"))),"loading"===l.status?o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:null,margin:!0,text:"Loading subscription information..."}):l.plan.id?o.a.createElement("dl",{className:"grid grid-flow-row grid-cols-1 gap-y-3 gap-x-8 mt-4 text-200"},g.map((function(e,t){return o.a.createElement(Pt,{key:t,title:e.title,value:e.value})}))):o.a.createElement("div",{className:"mt-4 card-padding-x"},"No active plans were found.")),o.a.createElement("section",{className:"mt-4 pt-2 md:pt-4 lg:pt-6 pb-4 cs-light-300 card-200"},o.a.createElement("header",{className:"pb-4 card-padding-x border-b border-200"},o.a.createElement("h2",{className:"font-bold text-lg text-300"},"Billing history")),"loading"===u.status?o.a.createElement(ft,{divWidth:null,center:!1,spinnerWidth:null,margin:!0,text:"Loading historical payments..."}):u.payments.length>0?o.a.createElement("div",{className:Aa.tableWrapper},o.a.createElement("table",{className:Aa.table,id:"payments"},o.a.createElement("thead",{className:Aa.tableHeadWrapper},o.a.createElement("tr",{className:Aa.tableHead},o.a.createElement("th",{className:"pl-4 md:pl-6 lg:pl-8 pr-2"},"Invoice ID"),o.a.createElement("th",{className:Aa.tableHeadCell},"Plan"),o.a.createElement("th",{className:Aa.tableHeadCell},"Amount"),o.a.createElement("th",{className:Aa.tableHeadCell},"Payment method"),o.a.createElement("th",{className:"pl-2 pr-4 md:pr-6 lg:pr-8 text-right"},"Date"))),o.a.createElement("tbody",{className:Aa.tableBody},u.payments.map((function(e,t){return o.a.createElement("tr",{key:t,className:Aa.rowWrapper},o.a.createElement("td",{className:"pl-4 md:pl-6 lg:pl-8 pr-2"},o.a.createElement("a",{href:e.invoice.pdf,className:"link rounded-sm ring-purple"},z(e.invoice.id,31))),o.a.createElement("td",{className:Aa.defaultCellWrapper},A(e.amount)),o.a.createElement("td",{className:Aa.defaultCellWrapper},o.a.createElement("span",null,"$"),e.amount/100,o.a.createElement("span",{className:Aa.valueIndicator},e.currency.toUpperCase())),o.a.createElement("td",{className:Aa.defaultCellWrapper},(null===a||void 0===a?void 0:a.billing.brand)&&B(a.billing.brand)," ","\u2022\u2022\u2022\u2022"," ","\u2022\u2022\u2022\u2022"," ","\u2022\u2022\u2022\u2022"," ",e.paymentMethod.last4),o.a.createElement("td",{className:"pl-2 pr-4 md:pr-6 lg:pr-8 text-right"},_(e.created,!0)))}))))):o.a.createElement("section",{className:"mt-4 card-padding-x"},o.a.createElement(Qt,{header:"No subscription payments found",text:"No payments have been found for your account.",path:Ha.payment,link:"",linkText:""})))):o.a.createElement("section",{className:"mt-4 card-padding-x"},o.a.createElement(Qt,{header:"No subscription found",text:"There isn't a subscription associated with this account.",path:Ha.affiliate,link:"",linkText:""})))))},_a=function(e){var t=e.component,a=Object(Yt.a)(e,["component"]),r=We((function(e){return e.auth.isAuthenticated})),n=We((function(e){return e.auth.status}));return o.a.createElement(g.b,Object.assign({},a,{render:function(e){return r||"idle"!==n?o.a.createElement(t,e):o.a.createElement(g.a,{to:"/login"})}}))},Ga=function(){return o.a.createElement(c.Fragment,null,o.a.createElement(g.b,{exact:!0,path:"/login/",component:mt}),o.a.createElement(g.b,{exact:!0,path:"/reset/forgot-password/",component:ht}),o.a.createElement(g.b,{exact:!0,path:"/reset/reset-password/:token",component:bt}),o.a.createElement(_a,{exact:!0,path:"/",component:da}),o.a.createElement(_a,{exact:!0,path:"/leads/",component:da}),o.a.createElement(_a,{exact:!0,path:"/leads/liked/",component:ua}),o.a.createElement(_a,{exact:!0,path:"/leads/archived/",component:ma}),o.a.createElement(_a,{exact:!0,path:"/search/",component:pa}),o.a.createElement(_a,{exact:!0,path:"/settings/account/",component:Ba}),o.a.createElement(_a,{exact:!0,path:"/settings/arbitrage/",component:za}),o.a.createElement(_a,{exact:!0,path:"/settings/affiliates/",component:Fa}),o.a.createElement(_a,{exact:!0,path:"/settings/billing/",component:Da}),o.a.createElement(_a,{exact:!0,path:"/admin/",component:La}))},qa=function(){Object(c.useEffect)((function(){localStorage.token&&dt(localStorage.token),Me.dispatch(Oe()),window.addEventListener("storage",(function(){localStorage.token||Me.dispatch(Ie())}))}),[]);var e=Object(v.a)("pk_test_51HF2gpDdWoP4Ck9RZqPhljVm5WMH4cwsMNSeMuevI8lWugnJQryfuvzx6aExHTTVBGU8woKxosaCzH4VXsKAgfsQ00Y7QBWKlc");return o.a.createElement(h.Elements,{stripe:e},o.a.createElement(b.a,{store:Me},o.a.createElement(f.a,null,o.a.createElement(c.Fragment,null,o.a.createElement(g.d,null,o.a.createElement(Ga,null))))))};a(120);p.a.initialize({gtmId:"GTM-M4FPRGJ"}),u.a.render(o.a.createElement(qa,null),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.f0713d29.chunk.js.map