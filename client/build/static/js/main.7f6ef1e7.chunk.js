(this["webpackJsonpleadgeek-client"]=this["webpackJsonpleadgeek-client"]||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(32),i=a.n(l),s=a(64),c=a.n(s),o=a(2),d=a(12),u=a(14),m=a(65),p=a(66),f=a(39),g=a(9),h={id:"",title:"",message:"",alertType:null},v=Object(g.c)({name:"alert",initialState:h,reducers:{removeAlert:function(){return h},setAlert:{reducer:function(e,t){var a=t.payload,r=a.id,n=a.title,l=a.message,i=a.alertType;e.id=r,e.title=n,e.message=l,e.alertType=i},prepare:function(e){var t=e.title,a=e.message,r=e.alertType;return{payload:{id:Object(g.d)(),title:t,message:a,alertType:r,visible:!0}}}}}}),b=v.actions,y=b.removeAlert,x=b.setAlert,E=v.reducer,w=a(4),k=a.n(w),N=a(6),O=a(8),j=a.n(O),L=a(11),C={headers:{"Content-Type":"application/json"}},S=function(e){return e[0].toUpperCase()+e.slice(1)},P=function(e,t){return e.length>t?e.substr(0,t-1)+"...":e},I=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},M=function(e){var t,a;return(a=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im))&&(a=(t=a[1]).match(/^[^\.]+\.(.+\..+)$/))&&(t=a[1]),t},z=function(e,t){var a;return"Appliances"===t?a=616462:t.includes("Arts")?a=7498354:"Automotive"===t?a=22271330:t.includes("Baby")?a=2969134:t.includes("Beauty")?a=8918802:"Books"===t?a=63513871:t.includes("CDs")?a=5768853:t.includes("Phone")?a=23560255:t.includes("Clothing")?a=115990329:t.includes("Collectibles")?a=5319325:t.includes("Electronics")?a=13436282:t.includes("Grocery")?a=2871202:t.includes("Handmade")?a=1515790:t.includes("Health")?a=7528676:t.includes("Home")?a=59108947:t.includes("Industrial")?a=9915828:t.includes("Dining")?a=59108947:t.includes("Movies")?a=3426934:t.includes("Musical")?a=1455860:t.includes("Office")?a=7746679:t.includes("Patio")?a=8107431:t.includes("Pet")?a=4996454:t.includes("Software")?a=160164:t.includes("Sports")?a=29519885:t.includes("Tools")?a=17564272:t.includes("Toys")?a=8933993:"Video Games"===t&&(a=730691),a?(e/a*100).toFixed(3):"-"},T=function(e,t){window.open(e),window.open(t)},B=function(e,t,a,n){Object(r.useEffect)((function(){var r=function(r){var l;(null===(l=e.current)||void 0===l?void 0:l.contains(r.target))&&!n||(t(!1),a&&a(!1))};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[e,t,a])},W=function(e,t,a){Object(r.useEffect)((function(){function r(r){var n;(null===(n=e.current)||void 0===n?void 0:n.contains(r.target))||(t(!1),a&&a(!1))}return document.addEventListener("mouseup",r),function(){document.removeEventListener("mouseup",r)}}),[e,t,a])},R=function(e){return 12900===e?"Grow":18900===e?"Pro":26300===e?"Bundle":"Leadgeek"},H=function(e){return.25*e/100},V=function(e,t){var a=new Date(1e3*e).toJSON();return t?L.DateTime.fromISO(a).toFormat("LLL dd, yyyy"):L.DateTime.fromISO(a).toFormat("LLLL dd")},A=function(e){var t=L.DateTime.now(),a=Number(t.toFormat("dd")),r=t.set({day:15,hour:23,minute:59,second:59});return a>=15?1===e?r.plus({months:1}):r.plus({months:-1}):r},D=function(e){var t=new Date(1e3*e).toJSON(),a=L.DateTime.fromISO(t).plus({months:2}),r=Number(a.toFormat("dd")),n=a.set({hour:23,minute:59,second:59});return r>=15?n.set({day:15}).plus({months:1}):n.set({day:15})},F=["123456","password","12345678","qwerty","123456789","12345","1234","111111","1234567","dragon","123123","baseball","abc123","football","monkey","letmein","696969","shadow","master","666666","qwertyuiop","123321","mustang","1234567890","michael","654321","pussy","superman","1qaz2wsx","7777777","fuckyou","121212","000000","qazwsx","123qwe","killer","trustno1","jordan","jennifer","zxcvbnm","asdfgh","hunter","buster","soccer","harley","batman","andrew","tigger","sunshine","iloveyou","fuckme","2000","charlie","robert","thomas","hockey","ranger","daniel","starwars","klaster","112233","george","asshole","computer","michelle","jessica","pepper","1111","zxcvbn","555555","11111111","131313","freedom","777777","pass","fuck","maggie","159753","aaaaaa","ginger","princess","joshua","cheese","amanda","summer","love","ashley","6969","nicole","chelsea","biteme","matthew","access","yankees","987654321","dallas","austin","thunder","taylor","matrix","minecraft"],_=a(27),G=function(){var e=localStorage.getItem("filters");return e?JSON.parse(e):[]},q=G(),U=Object(g.b)("filters/setItemLimit",function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J={count:q.length||0,filters:q,prep:{unit:+localStorage.getItem("unitFee")||null,lb:+localStorage.getItem("lbFee")||null},itemLimit:+localStorage.getItem("itemLimit")||20,dateLimits:{min:null,max:null,selected:null}},Y=Object(g.c)({name:"filters",initialState:J,reducers:{clearFilter:function(e,t){e.filters=e.filters.filter((function(e){return e.id!==t.payload.id})),e.count=e.filters.length;var a=G();if(a.length>0){var r=a.filter((function(e){return e.id!==t.payload.id}));r.length>0?localStorage.setItem("filters",JSON.stringify(r)):localStorage.removeItem("filters")}},clearFilters:function(e){e.count=0,e.filters=[],localStorage.removeItem("filters")},createFilter:{reducer:function(e,t){var a=t.payload,r=a.id,n=a.format,l=a.type,i=a.title,s=a.operator,c=a.value,o={id:r,format:n,type:l,title:i,operator:s,value:"roi"===l?+c/100:c};if("numeric"===n){var d=e.filters.findIndex((function(e){return e.type===o.type&&e.operator===o.operator}));d<0?e.filters.push(o):e.filters[d]=o}else e.filters.push(o);e.count=e.filters.length;var u=G(),m=u.findIndex((function(e){return e.type===o.type&&e.operator===o.operator}));return m<0?localStorage.setItem("filters",JSON.stringify([].concat(Object(_.a)(u),[o]))):(u[m]=o,localStorage.setItem("filters",JSON.stringify(u)))},prepare:function(e,t,a,r,n){return{payload:{id:Object(g.d)(),format:e,type:t,title:a,operator:r,value:n}}}},setDateLimit:function(e,t){e.dateLimits.min=t.payload.min,e.dateLimits.max=t.payload.max,e.dateLimits.selected=t.payload.selected},setItemLimit:function(e,t){localStorage.setItem("itemLimit",t.payload.itemLimit.toString()),e.itemLimit=+t.payload.itemLimit}},extraReducers:function(e){e.addCase(U.fulfilled,(function(e,t){localStorage.setItem("itemLimit",t.payload.itemLimit.toString()),e.itemLimit=+t.payload.itemLimit}))}}),K=Y.actions,$=K.clearFilter,Z=K.clearFilters,X=K.createFilter,Q=K.setDateLimit,ee=Y.reducer,te=Object(g.b)("leads/addComment",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,e.prev=1,n=t.comment,l=t.userId,i=t.leadId,s=JSON.stringify({comment:n,userId:l,leadId:i}),e.next=6,j.a.post("/api/leads/add-comment",s,C);case 6:if(c=e.sent,"Comment was added"!==(o=c.data).message){e.next=12;break}return e.abrupt("return",o.comments);case 12:r(x({title:"Something went wrong",message:"Your comment couldn't be added right now",alertType:"danger"}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a){return e.apply(this,arguments)}}()),ae=Object(g.b)("leads/getAllLeads",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,n=t.userId,l=t.filters,i=t.type,s=t.query,c=JSON.stringify({userId:n,filters:l,type:i,query:s}),e.next=5,j.a.post("/api/leads/all",c,C);case 5:return o=e.sent,(d=o.data).totalByIds.length>0&&r(x({title:"Data ready for export",message:'Please click "confirm" to save as a .csv file',alertType:"success"})),e.abrupt("return",{totalByIds:d.totalByIds,type:d.type});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),re=Object(g.b)("leads/getArchivedLeads",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,n=t.leads,l=t.page,i=t.filters,s=JSON.stringify({leads:n,page:l,filters:i}),e.next=6,j.a.post("/api/leads/archived",s,C);case 6:return c=e.sent,o=c.data,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),ne=Object(g.b)("leads/getFeedLeads",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o,d,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,n=t.user,l=n.id,i=n.role,s=t.page,c=t.filters,o=JSON.stringify({_id:l,role:i,page:s,filters:c}),e.next=6,j.a.post("/api/leads",o,C);case 6:if(d=e.sent,"There are no leads to show"===(u=d.data).message){e.next=10;break}return e.abrupt("return",u);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}()),le=Object(g.b)("leads/getLikedLeads",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,n=t.leads,l=t.page,i=t.filters,s=JSON.stringify({leads:n,page:l,filters:i}),e.next=6,j.a.post("/api/leads/liked",s,C);case 6:return c=e.sent,o=c.data,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),ie=Object(g.b)("leads/getSearchResults",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.rejectWithValue,e.prev=1,n=t.userId,l=t.query,i=t.page,s=t.filters,l){e.next=5;break}return e.abrupt("return",{data:{leads:[],page:1,hasNextPage:!1,hasPreviousPage:!1,nextPage:2,previousPage:0,totalItems:0},query:l});case 5:return c=JSON.stringify({userId:n,query:l,page:i,filters:s}),e.next=8,j.a.post("/api/leads/search",c,C);case 8:return o=e.sent,d=o.data,e.abrupt("return",{data:d,query:l});case 13:return e.prev=13,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),se=Object(g.b)("leads/handleArchiveLead",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o,d,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,e.prev=1,n=t.userId,l=t.leadId,i=JSON.stringify({userId:n,leadId:l}),e.next=6,j.a.post("/api/leads/handle-archive-lead",i,C);case 6:if(200!==(s=e.sent).status){e.next=11;break}return c=s.data,o=c.message,d=c.leads,u=c.title,r(x({title:P(u,50),message:o,alertType:"success"})),e.abrupt("return",{leadId:l,leads:d});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),ce=Object(g.b)("leads/handleLikeLead",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o,d,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,e.prev=1,n=t.userId,l=t.leadId,i=JSON.stringify({userId:n,leadId:l}),e.next=6,j.a.post("/api/leads/handle-like-lead",i,C);case 6:if(200!==(s=e.sent).status){e.next=11;break}return c=s.data,o=c.message,d=c.leads,u=c.title,r(x({title:P(u,50),message:o,alertType:"success"})),e.abrupt("return",{leadId:l,leads:d});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,a){return e.apply(this,arguments)}}()),oe=Object(g.c)({name:"leads",initialState:{status:"loading",feed:{totalByIds:[],totalAllIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null}},liked:{totalByIds:[],totalAllIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null}},archived:{totalByIds:[],totalAllIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null}},search:{totalByIds:[],totalAllIds:[],pageByIds:[],pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null},searchValue:null,newSearch:!1},currentLead:null,currentLeadStatus:"loading",lastUpdated:null},reducers:{setCurrentLead:function(e,t){e.currentLead=t.payload},clearCurrentLead:function(e){e.currentLead=null},setLeadIdle:function(e){e.status="idle"},setLeadLoading:function(e){e.status="loading"},setPage:function(e,t){var a=t.payload,r=a.page;e[a.type].pagination.page=r},setSearchValue:function(e,t){e.search.newSearch=!0,e.search.searchValue=t.payload}},extraReducers:function(e){e.addCase(ae.fulfilled,(function(e,t){var a=t.payload,r=a.totalByIds,n=a.type;e[n].totalByIds||(e[n].totalByIds=[]),e[n].totalByIds=r})).addCase(re.fulfilled,(function(e,t){var a=t.payload,r=a.archivedLeads,n=a.page,l=a.hasNextPage,i=a.hasPreviousPage,s=a.nextPage,c=a.previousPage,o=a.totalItems;e.status="idle",e.archived.pageByIds=r,e.archived.pagination.page=n,e.archived.pagination.hasNextPage=l,e.archived.pagination.hasPreviousPage=i,e.archived.pagination.nextPage=s,e.archived.pagination.previousPage=c,e.archived.pagination.totalItems=o})).addCase(re.rejected,(function(e){e.status="failed"})).addCase(ne.pending,(function(e){e.status="loading",e.currentLeadStatus="loading"})).addCase(ne.fulfilled,(function(e,t){var a=t.payload,r=a.feed,n=a.page,l=a.hasNextPage,i=a.hasPreviousPage,s=a.nextPage,c=a.previousPage,o=a.lastPage,d=a.totalItems,u=a.filteredItems,m=a.lastUpdated;e.status="idle",e.currentLeadStatus="idle",e.feed.pageByIds=r,e.feed.pagination.page=n,e.feed.pagination.hasNextPage=l,e.feed.pagination.hasPreviousPage=i,e.feed.pagination.nextPage=s,e.feed.pagination.previousPage=c,e.feed.pagination.lastPage=o,e.feed.pagination.totalItems=d,e.feed.pagination.filteredItems=u,e.lastUpdated=m})).addCase(ne.rejected,(function(e){e.status="failed"})).addCase(le.fulfilled,(function(e,t){var a=t.payload,r=a.likedLeads,n=a.page,l=a.hasNextPage,i=a.hasPreviousPage,s=a.nextPage,c=a.previousPage,o=a.totalItems;e.status="idle",e.liked.pageByIds=r,e.liked.pagination.page=n,e.liked.pagination.hasNextPage=l,e.liked.pagination.hasPreviousPage=i,e.liked.pagination.nextPage=s,e.liked.pagination.previousPage=c,e.liked.pagination.totalItems=o})).addCase(le.rejected,(function(e){e.status="failed"})).addCase(ie.pending,(function(e){e.status="loading"})).addCase(ie.fulfilled,(function(e,t){var a=t.payload,r=a.data,n=r.leads,l=r.page,i=r.hasNextPage,s=r.hasPreviousPage,c=r.nextPage,o=r.previousPage,d=r.totalItems,u=a.query;e.status="idle",e.search.pageByIds=n,e.search.pagination.page=l,e.search.pagination.page=l,e.search.pagination.hasNextPage=i,e.search.pagination.hasPreviousPage=s,e.search.pagination.nextPage=c,e.search.pagination.previousPage=o,e.search.pagination.totalItems=d,e.search.searchValue=u,e.search.newSearch=!1})).addCase(ie.rejected,(function(e){e.status="failed"})).addCase(se.fulfilled,(function(e,t){var a=e.archived.pageByIds.filter((function(e){var a;return e._id!==(null===(a=t.payload)||void 0===a?void 0:a.leadId)}));e.archived.pageByIds=a})).addCase(ce.fulfilled,(function(e,t){var a=e.liked.pageByIds.filter((function(e){var a;return e._id!==(null===(a=t.payload)||void 0===a?void 0:a.leadId)}));e.liked.pageByIds=a})).addCase(U.fulfilled,(function(e,t){e[t.payload.type].pagination.page=1}))}}),de=oe.actions,ue=de.setCurrentLead,me=de.clearCurrentLead,pe=de.setLeadIdle,fe=de.setLeadLoading,ge=de.setPage,he=de.setSearchValue,ve=oe.reducer,be={status:"loading",token:localStorage.getItem("token"),isAuthenticated:!1,user:null,validatedResetPwToken:!1},ye=Object(g.b)("auth/authenticateUser",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,n=a.rejectWithValue,e.prev=1,l=t.email,i=t.password,s=l.toLowerCase(),c=JSON.stringify({email:s,password:i}),e.next=7,j.a.post("/api/auth",c,C);case 7:if(!(o=e.sent).data.token){e.next=10;break}return e.abrupt("return",o.data.token);case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),console.log(e.t0),r(x({title:"Login error",message:"Email & password combination aren't correct",alertType:"danger"})),e.abrupt("return",n(e.t0));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}()),xe=Object(g.b)("auth/clearNotification",function(){var e=Object(N.a)(k.a.mark((function e(t){var a,r,n,l,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.notificationId,r=t.userId,n=JSON.stringify({notificationId:a,userId:r}),e.next=4,j.a.post("/api/users/clear-notification",n,C);case 4:return l=e.sent,i=l.data,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ee=Object(g.b)("auth/getUserData",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,j.a.get("/api/auth");case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",r(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),we=Object(g.b)("auth/surrogateUser",function(){var e=Object(N.a)(k.a.mark((function e(t){var a,r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.stringify({id:t.id}),e.next=4,j.a.post("/api/auth/surrogate-user",a);case 4:return r=e.sent,n=r.data,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),ke=Object(g.b)("auth/updatePassword",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s,c,o,d;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.dispatch,n=a.rejectWithValue,e.prev=1,l=t.email,i=t.password,s=t.redirect,l&&i){e.next=6;break}return r(x({title:"Error",message:"Required information is missing",alertType:"danger"})),e.abrupt("return",n("Required information is missing"));case 6:return c=l.toLowerCase(),o=JSON.stringify({email:c,password:i}),e.next=10,j.a.put("/api/auth/update-password",o,C);case 10:if(d=e.sent,"Password was successfully updated"!==d.data){e.next=22;break}if(r(x({title:"Reset success",message:"Your password was successfully updated",alertType:"success"})),localStorage.removeItem("resetPwToken"),localStorage.removeItem("email"),!s){e.next=20;break}return e.next=19,r(ye({email:l,password:i}));case 19:return e.abrupt("return",r(Ee()));case 20:e.next=23;break;case 22:return e.abrupt("return",r(x({title:"Error resetting password",message:"Please contact support",alertType:"danger"})));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.log(e.t0);case 28:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(t,a){return e.apply(this,arguments)}}()),Ne=Object(g.b)("auth/validateResetPwToken",function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.dispatch,n=a.rejectWithValue,e.prev=1,l=JSON.stringify({resetPwToken:t.resetPwToken}),e.next=5,j.a.post("/api/auth/reset-password-validation",l,C);case 5:if(i=e.sent,"Password reset link was validated"!==(s=i.data).message){e.next=12;break}return localStorage.setItem("email",s.user),e.abrupt("return");case 12:return r(x({title:"Password couldn't be reset",message:"Please request a new email link or contact support.",alertType:"danger"})),e.abrupt("return",n(s.message));case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,a){return e.apply(this,arguments)}}()),Oe=Object(g.c)({name:"auth",initialState:be,reducers:{removeUserData:function(e){localStorage.removeItem("token"),e.token=null,e.status="idle",e.isAuthenticated=!1,e.user=null,e.validatedResetPwToken=!1}},extraReducers:function(e){e.addCase(te.fulfilled,(function(e,t){e.user&&(e.user.comments=t.payload)})).addCase(ye.pending,(function(e){e.status="loading"})).addCase(ye.fulfilled,(function(e,t){e.status="idle",e.token=t.payload,e.isAuthenticated=!0})).addCase(ye.rejected,(function(e){e.status="idle",e.token=null,e.isAuthenticated=!1,e.user=null,e.validatedResetPwToken=!1})).addCase(xe.fulfilled,(function(e,t){var a;(null===(a=e.user)||void 0===a?void 0:a.notifications)&&(e.user.notifications=t.payload)})).addCase(Ee.pending,(function(e){e.status="loading"})).addCase(Ee.fulfilled,(function(e,t){e.status="idle",e.isAuthenticated=!0,e.user=t.payload})).addCase(Ee.rejected,(function(e){e.status="idle",e.token=null,e.isAuthenticated=!1,e.user=null,e.validatedResetPwToken=!1})).addCase(ce.fulfilled,(function(e,t){var a;e.user.likedLeads=null===(a=t.payload)||void 0===a?void 0:a.leads})).addCase(se.fulfilled,(function(e,t){var a;e.user.archivedLeads=null===(a=t.payload)||void 0===a?void 0:a.leads})).addCase(we.fulfilled,(function(e,t){var a=t.payload,r=a.token,n=a.user;e.token=r,e.user=n})).addCase(ke.fulfilled,(function(e){e.validatedResetPwToken=!1})).addCase(Ne.pending,(function(e){e.status="loading"})).addCase(Ne.fulfilled,(function(e){e.status="idle",e.validatedResetPwToken=!0})).addCase(Ne.rejected,(function(e,t){e.status="idle",e.validatedResetPwToken=!1}))}}),je=Oe.actions.removeUserData,Le=Oe.reducer,Ce=a(67),Se=Object(g.c)({name:"users",initialState:{allUsers:[],loading:!1,pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null}},reducers:{}});Object(Ce.a)(Se.actions);var Pe,Ie,Me,ze,Te,Be=Se.reducer,We=Object(g.a)({reducer:{alert:E,auth:Le,filters:ee,leads:ve,users:Be},middleware:function(e){return e({serializableCheck:!1})}}),Re=a(30),He=a(5),Ve=function(){return Object(f.b)()},Ae=f.c,De=function(){var e=Object(r.useState)(localStorage.getItem("theme")||"light"),t=Object(o.a)(e,2),a=t[0],n=t[1],l="light"===a?"dark":"light";return Object(r.useEffect)((function(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[a,l]),[l,n]},Fe=function(e){var t=e.text,a=e.onClick,r=e.width,l=e.margin,i=e.size,s=e.cta,c=e.path,o=e.conditional,d=e.conditionalDisplay,u=e.lightOnly;return n.a.createElement("button",{onClick:a,className:"".concat(r||"w-auto"," ").concat(l?"ml-4":""," flex items-center relative py-2 px-3 rounded-main shadow-sm hover:shadow-md border border-300 ").concat("sm"===i?"text-sm":"text-xs"," font-semibold ").concat(s?u?"cs-purple-light":"cs-purple":"text-100 group hover:text-purple-500 dark:hover:text-purple-300 dark:bg-darkGray-300 dark:hover:bg-darkGray-200"," transition-main ring-purple")},c&&n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"svg-sm"},c),n.a.createElement("span",{className:"".concat(c?"ml-2":""," ").concat(s?"":"text-100 group-hover:text-purple-500 dark:group-hover:text-purple-300"," mx-auto")},t),o&&d)},_e=a(17),Ge=[{title:"danger",path:n.a.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})},{title:"warning",path:n.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})},{title:"success",path:n.a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}],qe=function(){var e=Ve(),t=Ae((function(e){return e.alert})),a=t.id,l=t.title,i=t.message,s=t.alertType,c=Object(r.useState)(!1),d=Object(o.a)(c,2),u=d[0],m=d[1];Object(r.useEffect)((function(){t.id&&m(!0)}),[t.id]);var p=function(){if(u)return u&&m(!1),e(y())};Object(r.useEffect)((function(){if(u){var e=window.setTimeout((function(){p()}),4e3);return function(){window.clearTimeout(e)}}}));var f=Object(_e.useSpring)({transform:u?"translateY(-40%) translateX(-50%)":"translateY(200%) translateX(-50%)",config:{duration:200}});return n.a.createElement(_e.animated.div,{key:a,style:f,className:"fixed bottom-0 left-1/2 z-40 w-full max-w-3xl py-4 px-6 rounded-main shadow-lg bg-gray-900 dark:bg-darkGray-200 border border-gray-700 dark:border-darkGray-100"},n.a.createElement("div",{className:"w-full flex items-center justify-between"},n.a.createElement("div",{className:"flex item-center"},n.a.createElement("div",{className:"".concat("success"===s?"text-teal-300":"warning"===s?"text-purple-300":"danger"===s?"text-red-300":"text-gray-700"," flex items-center")},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor"},s&&function(e){var t=Ge.find((function(t){return t.title===e}));return t?t.path:n.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}(s))),n.a.createElement("div",{className:"ml-2 flex items-center text-white"},n.a.createElement("p",{className:"font-semibold flex-none"},l),n.a.createElement("p",{className:"ml-2 pl-4 mr-8 text-gray-200 truncate"},i))),n.a.createElement("button",{onClick:function(){return p()},className:"ml-6 p-1 hover:bg-gray-800 rounded-md text-gray-300 ring-gray"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-base",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))))},Ue=function(){return n.a.createElement("footer",{className:"mt-6 xl:mt-0 mb-6 container"},n.a.createElement("span",{className:"bg-white"},"\xa9 2020 - ",(new Date).getFullYear()," Leadgeek. All rights reserved."))};function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ke(e,t){var a=e.title,n=e.titleId,l=Ye(e,["title","titleId"]);return r.createElement("svg",Je({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 397",fill:"currentColor",ref:t,"aria-labelledby":n},l),a?r.createElement("title",{id:n},a):null,Pe||(Pe=r.createElement("polygon",{className:"cls-1",points:"800 198 832 198 832 166 864 166 864 134 832 134 800 134 800 166 768 166 768 198 768 230 800 230 800 198"})),Ie||(Ie=r.createElement("path",{className:"cls-1",d:"M416,134V70H384V38H352V6H128V38H96V70H64v96H32V134H0v64H32v64H64v64H96v32h32v32H352V358h32V326h32V230h32V166H416Zm-64,32V294H320v32H160V294H128V102h32V70H320v32h32v64Z"})),Me||(Me=r.createElement("path",{className:"cls-1",d:"M992,134v32H960V70H928V38H896V6H672V38H640V70H608v96H576v64h32v96h32v32h32v32H896V358h32V326h32V262h32V198h32V134ZM672,294V102h32V70H864v32h32V294H864v32H672Z"})),ze||(ze=r.createElement("polygon",{className:"cls-1",points:"192 102 192 134 160 134 160 166 160 198 192 198 192 166 224 166 224 134 256 134 256 102 224 102 192 102"})),Te||(Te=r.createElement("polygon",{className:"cls-1",points:"576 102 544 102 512 102 480 102 448 102 448 134 448 166 480 166 512 166 544 166 576 166 576 134 576 102"})))}var $e,Ze,Xe=r.forwardRef(Ke),Qe=(a.p,function(e){var t=e.children;return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"flex flex-col justify-between h-screen bg-splatter"},n.a.createElement("div",{className:"fixed z-10 inset-x-0 top-0 h-3 bg-gray-900"}),n.a.createElement("header",{className:"mt-8 hidden md:block container"},n.a.createElement(d.c,{to:"/"},n.a.createElement(Xe,{className:"default-logo-lg text-purple-500"}))),n.a.createElement("main",{className:"relative h-full"},t),n.a.createElement(Ue,null)),n.a.createElement(qe,null))}),et=function(e){var t=e.label,a=e.type,r=e.name,l=e.placeholder,i=e.value,s=e.onChange,c=e.required,o=e.styles,d=e.lightOnly;return n.a.createElement("div",{className:"pt-4 ".concat(o||""," flex-col items-center")},n.a.createElement("label",{htmlFor:r,className:d?"form-field-label-light":"form-field-label"},t),n.a.createElement("input",{id:r,name:r,type:a,value:i,placeholder:l,required:c,onChange:s,className:"mt-1 ".concat(d?"form-field-light":"form-field")}))};function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function rt(e,t){var a=e.title,n=e.titleId,l=at(e,["title","titleId"]);return r.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},l),a?r.createElement("title",{id:n},a):null,$e||($e=r.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"})),Ze||(Ze=r.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})))}var nt,lt,it=r.forwardRef(rt);a.p;function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ot(e,t){var a=e.title,n=e.titleId,l=ct(e,["title","titleId"]);return r.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":n},l),a?r.createElement("title",{id:n},a):null,nt||(nt=r.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"})),lt||(lt=r.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})))}var dt,ut=r.forwardRef(ot),mt=(a.p,function(e){var t=e.label,a=e.placeholder,l=e.name,i=e.value,s=e.onChange,c=e.required,d=e.styles,u=e.lightOnly,m=Object(r.useState)(!1),p=Object(o.a)(m,2),f=p[0],g=p[1];return n.a.createElement("div",{className:"pt-4 ".concat(d||""," flex-col items-center")},n.a.createElement("label",{htmlFor:l,className:u?"form-field-label-light":"form-field-label"},t),n.a.createElement("div",{className:"relative"},n.a.createElement("input",{id:l,name:l,type:f?"text":"password",value:i,placeholder:a,required:c,onChange:s,className:"mt-1 ".concat(u?"form-field-light":"form-field")}),n.a.createElement("button",{onClick:function(){g(!f)},type:"button",className:"mt-3 mr-4 absolute right-0 rounded-md text-gray-400 focus:outline-none focus:shadow-outline"},f?n.a.createElement(ut,{className:"mt-2 h-4"}):n.a.createElement(it,{className:"mt-2 h-4"}))))}),pt=function(e){e?(j.a.defaults.headers.common["x-auth-token"]=e,localStorage.setItem("token",e)):(delete j.a.defaults.headers.common["x-auth-token"],localStorage.removeItem("token"))},ft={card:"max-w-md w-full mt-12 md:mt-0 mx-auto card-200 card-padding-y bg-white",content:"h-full w-full md:flex md:flex-col md:justify-center container",contentHeader:"mt-8 hidden md:block container",logoLg:"default-logo-lg text-purple-500",logoSm:"default-logo-sm",signup:"flex items-center mt-4 card-padding-x text-sm",subheaderLink:"block md:inline-block ml-2 link-light",title:"card-padding-x font-bold text-xl text-gray-900"},gt=function(){var e=Ve(),t=Ae((function(e){return e.auth.status})),a=Ae((function(e){return e.auth.isAuthenticated})),l=Ae((function(e){return e.auth.token})),i=Object(r.useState)({email:"",password:""}),s=Object(o.a)(i,2),c=s[0],m=s[1],p=c.email,f=c.password,g=function(e){return m(Object(He.a)(Object(He.a)({},c),{},Object(Re.a)({},e.target.name,e.target.value)))},h=function(){var a=Object(N.a)(k.a.mark((function a(r){var n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.next=3,e(ye({email:p,password:f}));case 3:if("rejected"===(n=a.sent).meta.requestStatus||"idle"!==t){a.next=8;break}return pt(n.payload),e(y()),a.abrupt("return",e(Ee()));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return a&&l?n.a.createElement(u.a,{to:"/leads"}):n.a.createElement(Qe,null,n.a.createElement("section",{className:ft.content},n.a.createElement("article",{className:ft.card},n.a.createElement("header",{className:"pb-4 border-b border-gray-200"},n.a.createElement("h1",{className:ft.title},"Log in")),n.a.createElement("form",{className:"card-padding-x"},n.a.createElement(et,{label:"Email",type:"email",name:"email",placeholder:"dsaunders@gmail.com",value:p,onChange:g,required:!0,styles:null,lightOnly:!0}),n.a.createElement(mt,{label:"Password",name:"password",placeholder:"Enter your password...",value:f,onChange:g,required:!0,styles:null,lightOnly:!0}),n.a.createElement("div",{className:"mt-4"},n.a.createElement(d.b,{to:"/reset/forgot-password/",className:"link-light"},"Forgot password?")),n.a.createElement("div",{className:"mt-4"},n.a.createElement(Fe,{text:"Log in",onClick:h,width:"w-full",margin:!1,path:null,conditional:null,conditionalDisplay:null,size:"sm",cta:!0,lightOnly:!0}))),n.a.createElement("aside",{className:ft.signup},n.a.createElement("p",{className:"inline-block"},"Need a LeadGeek account?"),n.a.createElement("a",{href:"https://leadgeek.io/pricing/",className:ft.subheaderLink},"Join now")))))},ht=a(48),vt=function(e){var t=e.divWidth,a=e.center,r=e.spinnerWidth,l=e.margin,i=e.text,s=De(),c=Object(o.a)(s,1)[0];return n.a.createElement("div",{className:"".concat(t||""," ").concat(a?"absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2":""," flex flex-col items-center justify-center ").concat(l?"mt-16 mb-8":"")},n.a.createElement(ht.Preloader,{use:ht.Oval,size:"sm"===r?20:"md"===r?35:45,strokeWidth:6,strokeColor:"dark"===c?"#5d55fa":"#A2A5FC",duration:500}),i&&n.a.createElement("div",{className:"mt-8 font-semibold text-100"},i||"Loading results..."))},bt={card:"max-w-md w-full mt-12 md:mt-0 mx-auto card-200 card-padding-y bg-white",content:"h-full w-full md:flex md:flex-col md:justify-center container",contentHeader:"mt-8 hidden md:block container",logoLg:"default-logo-lg text-purple-500",logoSm:"default-logo-sm",signup:"flex items-center mt-4 card-padding-x text-sm",subheaderLink:"block md:inline-block ml-2 link",title:"card-padding-x font-bold text-xl text-gray-900"},yt=function(){var e=Ve(),t=Object(r.useState)({email:""}),a=Object(o.a)(t,2),l=a[0],i=a[1],s=Object(r.useState)("idle"),c=Object(o.a)(s,2),u=c[0],m=c[1],p=l.email,f=function(){var t=Object(N.a)(k.a.mark((function t(a){var r,n,l,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m("loading"),r=a.toLowerCase(),n=JSON.stringify({email:r}),t.prev=3,t.next=6,j.a.post("/api/auth/forgot-password",n,C);case 6:if(l=t.sent,"Password recovery email sent successfully"!==(i=l.data).message){t.next=14;break}return m("idle"),e(x({title:"Success",message:"Email sent to ".concat(a," if an account is associated."),alertType:"success"})),t.abrupt("return",void((s=i.token)?(j.a.defaults.headers.common["x-auth-token"]=s,localStorage.setItem("resetPwToken",s)):(delete j.a.defaults.headers.common["x-auth-token"],localStorage.removeItem("resetPwToken"))));case 14:return m("idle"),t.abrupt("return",e(x({title:"Email send failure",message:i.message,alertType:"danger"})));case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),"Email not found in database"===(null===t.t0||void 0===t.t0?void 0:t.t0.response.data)?(m("idle"),e(x({title:"Success",message:"An email has been sent to ".concat(a," if an account is associated."),alertType:"success"}))):(m("idle"),e(x({title:"Error sending email",message:"Please contact support",alertType:"danger"})));case 22:case"end":return t.stop()}var s}),t,null,[[3,18]])})));return function(e){return t.apply(this,arguments)}}(),g=function(t){t.preventDefault(),""===p?e(x({title:"Required field missing",message:"Please enter your email",alertType:"danger"})):f(p)};return n.a.createElement(Qe,null,n.a.createElement("section",{className:bt.content},n.a.createElement("article",{className:"mt-12 md:mt-0 mx-auto w-full max-w-md card-300 bg-white card-padding-y"},n.a.createElement("header",{className:"pb-4 border-b border-gray-200"},n.a.createElement("h1",{className:"card-padding-x font-bold text-xl text-gray-900"},"Reset password")),n.a.createElement("div",{className:"card-padding-x"},n.a.createElement("div",{className:"mt-4"},n.a.createElement("p",{className:"inline-block"},"Don't worry, it happens to the best of us."),n.a.createElement("p",{className:"mt-2 inline-block"},"Receive password reset instructions to the email below.")),n.a.createElement("form",{onSubmit:function(e){return g(e)}},n.a.createElement(et,{label:"Email",type:"email",placeholder:"dsaunders@gmail.com",name:"email",value:p,onChange:function(e){return i(Object(He.a)(Object(He.a)({},l),{},Object(Re.a)({},e.target.name,e.target.value)))},required:!0,styles:null,lightOnly:!0}),n.a.createElement("div",{className:"mt-4"},"idle"===u?n.a.createElement(Fe,{text:"Send email",onClick:g,width:"w-full",margin:!1,size:"sm",path:null,cta:!0,conditional:null,conditionalDisplay:null,lightOnly:!0}):n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:"sm",margin:!1,text:null})),n.a.createElement("div",{className:"mt-4 text-sm text-gray-400"},n.a.createElement(d.c,{exact:!0,to:"/login",className:"link-light"},"Back to log in")))))))},xt={card:"max-w-md w-full mt-12 md:mt-0 mx-auto card-200 card-padding-y bg-white",content:"h-full w-full md:flex md:flex-col md:justify-center container",title:"card-padding-x font-bold text-xl text-gray-900"},Et=function(){var e=Ve(),t=Ae((function(e){return e.auth.status})),a=Ae((function(e){return e.auth.isAuthenticated})),l=Ae((function(e){return e.auth.validatedResetPwToken})),i=Object(r.useState)(localStorage.getItem("email")),s=Object(o.a)(i,2),c=s[0],m=s[1],p=Object(r.useState)(localStorage.resetPwToken),f=Object(o.a)(p,1)[0],g=Object(r.useState)({password_1:"",password_2:""}),h=Object(o.a)(g,2),v=h[0],b=h[1],E=v.password_1,w=v.password_2;Object(r.useEffect)((function(){e(Ne({resetPwToken:f}))}),[]);var k=function(e){b(Object(He.a)(Object(He.a)({},v),{},Object(Re.a)({},e.target.name,e.target.value)))};return a?n.a.createElement(u.a,{to:"/leads"}):"idle"===t?n.a.createElement(Qe,null,f&&l?n.a.createElement("section",{className:xt.content},n.a.createElement("article",{className:xt.card},n.a.createElement("header",{className:"pb-4 border-b border-gray-200"},n.a.createElement("h1",{className:xt.title},"Reset Password")),n.a.createElement("form",{className:"card-padding-x"},n.a.createElement(mt,{label:"New Password",placeholder:"Create a new password",name:"password_1",value:E,onChange:function(e){return k(e)},required:!0,styles:null,lightOnly:!0}),n.a.createElement(mt,{label:"Confirm Password",placeholder:"Enter the password again",name:"password_2",value:w,onChange:function(e){return k(e)},required:!0,styles:null,lightOnly:!0})),n.a.createElement("div",{className:"mt-4 card-padding-x"},n.a.createElement(Fe,{text:"Reset password",onClick:function(){m(localStorage.getItem("email")),c&&function(t,a,r){if(!t)return e(x({title:"Required information missing",message:"",alertType:"danger"}));if(!a||!r)return e(x({title:"Required field missing",message:"Password field can't be empty",alertType:"danger"}));if(a!==r)return e(x({title:"Passwords don't match",message:"Check spelling or case sensitivity",alertType:"danger"}));if(a.length<7)return e(x({title:"Password is too short",message:"Password must be at least 7 characters",alertType:"danger"}));var n=t.split("@")[0];a.includes(n)?e(x({title:"Password is too similar to your email",message:"Please choose another password",alertType:"danger"})):F.includes(a)?e(x({title:"Password is too common",message:"Please pick a more unique password",alertType:"danger"})):(e(y()),e(ke({email:t,password:a,redirect:!0})))}(c,E,w)},width:"w-full",margin:!1,size:"sm",cta:!0,path:null,conditional:null,conditionalDisplay:null,lightOnly:!0})))):n.a.createElement("section",{className:xt.content},n.a.createElement("article",{className:xt.card},n.a.createElement("header",{className:"pb-4 border-b border-gray-200"},n.a.createElement("h1",{className:xt.title},"Uh-oh!")),n.a.createElement("div",{className:"mt-4 card-padding-x"},"Your password could not be reset. Please request a"," ",n.a.createElement(d.c,{to:"/reset/forgot-password/",className:"link-light"},"new password reset link")," ","or"," ",n.a.createElement("a",{href:"https://leadgeek.io/contact/",className:"link-light"},"contact support"),".",n.a.createElement(d.c,{to:"/login",className:"block bg-purple-500 mt-4 py-2 w-full rounded-md text-white text-center shadow-md hover:bg-purple-600 transition-colors-main ring-purple"},"Return to log in"))))):n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:null})},wt=a(18),kt=function(e){var t=e.placeholder,a=Ve(),l=Object(u.g)(),i=Ae((function(e){return e.leads.search.searchValue})),s=Object(r.useState)(!1),c=Object(o.a)(s,2),d=c[0],m=c[1],p=Object(r.useState)(""),f=Object(o.a)(p,2),g=f[0],h=f[1],v=function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!g){e.next=10;break}if("/search"!==l.pathname&&m(!0),g!==i){e.next=5;break}return e.abrupt("return",a(x({title:"Already showing results",message:"Results for this query are already showing.",alertType:"danger"})));case 5:return a(y()),a(fe()),e.abrupt("return",a(he(g)));case 10:a(x({title:"No value was entered",message:"Please enter a search value and try again.",alertType:"danger"}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?n.a.createElement(u.a,{to:{pathname:"/search"}}):n.a.createElement("div",{className:"flex items-center justify-end"},n.a.createElement("div",{className:"w-72 relative z-0"},n.a.createElement("form",{action:"/search/",method:"POST",onSubmit:function(e){return v(e)}},n.a.createElement("input",{type:"text",name:"q",placeholder:t||"Enter a search...",onChange:function(e){return function(e){h(e.target.value)}(e)},className:"py-2 pl-10 w-full rounded-main border border-300 input text-sm placeholder-gray-700 text-300 transition-main ring-purple"}),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mt-2.5 ml-4 absolute top-0 left-0 svg-sm text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})))))},Nt=function(){var e=Ve(),t=Object(u.g)(),a=Ae((function(e){return e.auth.user})),l=Object(r.useState)(!1),i=Object(o.a)(l,2),s=i[0],c=i[1],m=Object(r.useState)([]),p=Object(o.a)(m,2),f=p[0],g=p[1],h=Object(r.useState)(!1),v=Object(o.a)(h,2),b=v[0],y=v[1],x=Object(r.useState)("idle"),E=Object(o.a)(x,2),w=E[0],O=E[1],L=Object(r.useRef)(null);W(L,c,null);var S=Object(r.useRef)(null);W(S,y,null),Object(wt.a)("Escape",(function(){y(!1),c(!1)}),{keyup:!0});var P=Object(r.useMemo)((function(){if(null===a||void 0===a?void 0:a.name)return null===a||void 0===a?void 0:a.name.split(" ").map((function(e){return e[0]}))[0]}),[null===a||void 0===a?void 0:a.name]),I=Object(r.useCallback)(function(){var e=Object(N.a)(k.a.mark((function e(t){var a,r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("loading"),a=JSON.stringify({ids:t}),e.next=4,j.a.post("/api/users/notifications",a,C);case 4:return r=e.sent,n=r.data,O("idle"),console.log(n.notifications),e.abrupt("return",g(n.notifications));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);Object(r.useEffect)((function(){(null===a||void 0===a?void 0:a.notifications)&&(null===a||void 0===a?void 0:a.notifications.length)>0&&I(a.notifications)}),[]);var M=De(),z=Object(o.a)(M,1)[0];return n.a.createElement("header",{className:"w-full cs-light-400 text-300 shadow-sm border-b border-300"},n.a.createElement("nav",{className:"container"},n.a.createElement("div",{className:"center-between py-1.5"},n.a.createElement(d.c,{to:"/leads/",onClick:function(){"/leads/"!==t.pathname&&e(fe()),e(me())}},n.a.createElement(Xe,{className:"h-6 ".concat("dark"===z?"text-purple-500":"text-purple-300")})),n.a.createElement(kt,{placeholder:"Enter a search..."}),n.a.createElement("aside",{className:"flex items-center"},n.a.createElement("div",{className:"relative text-gray-400"},n.a.createElement("button",{className:"relative p-1 rounded-lg group text-gray-500 hover:text-gray-600 dark:text-gray-700 dark:hover:text-gray-300 transition-main ring-gray",onClick:function(){y(!1),c(!s)}},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})),(null===a||void 0===a?void 0:a.notifications)&&(null===a||void 0===a?void 0:a.notifications.length)>0&&n.a.createElement("div",{className:"absolute top-0 right-0 h-2.5 w-2.5 bg-pink-600 dark:bg-pink-100 rounded-full  border-2 border-white dark:border-darkGray-400 transform translate-y-1 -translate-x-0.5"})),s&&n.a.createElement("article",{ref:L,className:"absolute top-0 right-0 z-30 w-80 pt-4 pb-2 cs-light-400 card-200 text-300 break-words transform translate-y-12"},n.a.createElement("header",{className:"pb-2 px-4 border-b border-200"},n.a.createElement("h4",{className:"font-bold text-lg"},"Notifications")),"loading"===w?n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:"md",margin:!0,text:null}):f.length>0?n.a.createElement("ul",{className:"w-full text-sm text-200"},f.slice(0,4).map((function(e,t){return n.a.createElement(jt,{key:t,item:e,userId:null===a||void 0===a?void 0:a._id,setNotifications:g})}))):n.a.createElement("div",{className:"py-6 px-4 font-semibold text-sm text-gray-700 dark:text-gray-400"},n.a.createElement("p",null,"Notifications for your account will show up here, but you're all caught up for now!"," ",n.a.createElement("span",{role:"img","aria-label":"Party emoji"},"\ud83c\udf89"))))),n.a.createElement("div",{className:"relative ml-4 text-gray-400"},n.a.createElement("button",{onClick:function(){c(!1),y(!b)},className:"p-2 h-8 w-8 all-center cs-purple rounded-full shadow-sm transition-main ring-purple"},n.a.createElement("span",{className:"text-lg font-bold"},P)),b&&n.a.createElement("div",{className:"relative"},n.a.createElement("article",{ref:S,className:"absolute top-0 right-0 z-30 w-64 pt-4 pb-2 rounded-main cs-light-400 card-200 text-300 transform translate-y-4"},n.a.createElement("div",{className:"relative"},n.a.createElement("header",{className:"pb-2 px-4 flex items-center justify-between border-b border-200"},n.a.createElement("div",null,n.a.createElement("h5",{className:"inline-block font-bold text-lg"},n.a.createElement("span",{role:"img","aria-label":"Waving emoji",className:"mr-1"},"\ud83d\udc4b"),"Hi, ",(null===a||void 0===a?void 0:a.name.split(" ")[0])||"Account"))),n.a.createElement("nav",null,Lt.dropdownItems.map((function(e,t){return n.a.createElement(Ot,{key:t,item:e})})),("admin"===(null===a||void 0===a?void 0:a.role)||"master"===(null===a||void 0===a?void 0:a.role))&&Lt.adminLinks.map((function(e,t){return n.a.createElement(Ot,{key:t,item:e})})),n.a.createElement("button",{key:"logout",onClick:function(){return e(je()),void y(!1)},className:"w-full py-2 px-4 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-darkGray-100 group transition-colors-main focus:outline-none"},n.a.createElement("span",{className:"font-semibold text-sm text-200"},"Logout")))))))))))},Ot=function(e){e.key;var t=e.item;return n.a.createElement(d.c,{to:"/".concat(t.link,"/"),className:"w-full py-2 px-4 flex items-center justify-between hover:bg-gray-100 dark:hover:bg-darkGray-100 transition-main focus:outline-none"},n.a.createElement("span",{className:"font-semibold text-sm text-200"},t.title))},jt=function(e){var t=e.item,a=e.userId,l=e.setNotifications,i=Ve(),s=Object(r.useState)(!1),c=Object(o.a)(s,2),u=c[0],m=c[1],p=Object(r.useState)(!1),f=Object(o.a)(p,2),g=f[0],h=f[1];return n.a.createElement("li",{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},className:"py-2 pl-4 pr-3 hover:bg-gray-100 dark:hover:bg-darkGray-100 transition-main focus:outline-none border-b border-100 last:border-none"},n.a.createElement("div",{className:"center-between mb-1"},n.a.createElement("header",{className:"flex items-center"},n.a.createElement("h5",{className:"mr-4 font-semibold text-base"},t.title)),u&&t.clearable&&n.a.createElement("button",{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onClick:function(){l((function(e){return e.filter((function(e){return e._id!==t._id}))})),a&&i(xe({notificationId:t._id,userId:a}))},className:"relative icon-button"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-sm",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})),g&&n.a.createElement("div",{className:"absolute top-0 right-0 z-10 min-w-max p-2 rounded-md shadow-md bg-gray-900 text-left text-white text-xs transform -translate-y-1 -translate-x-8"},"Clear notification"))),n.a.createElement("time",{dateTime:L.DateTime.fromSeconds(t.date).toFormat("yyyy-LL-d")},L.DateTime.fromSeconds(t.date).toFormat("LLL dd @ t")),n.a.createElement("p",{className:"pt-2 text-100"},t.description),t.externalLink&&n.a.createElement("a",{href:t.externalLink,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 link transition-main"},n.a.createElement("span",{className:"flex items-center"},n.a.createElement("span",null,"View"),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 svg-sm",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),n.a.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})))),t.internalLink&&n.a.createElement(d.c,{to:"/".concat(t.internalLink,"/"),className:"flex items-center mt-2 link transition-main"},"View",n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-2 svg-sm",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),n.a.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))))},Lt={primaryLinks:[{title:"Leads",link:"leads"}],secondaryLinks:[],adminLinks:[{title:"Admin",link:"admin"}],dropdownItems:[{title:"Settings",link:"settings/account"}]},Ct=n.a.memo(Nt),St=function(e){var t=e.children,a=Ae((function(e){return e.auth.status})),l=Ae((function(e){return e.auth.isAuthenticated})),i=Ae((function(e){return e.auth.user}));return n.a.createElement(r.Fragment,null,n.a.createElement(qe,null),"idle"===a&&l&&i?n.a.createElement("div",{className:"min-h-screen w-full relative cs-bg overflow-hidden"},n.a.createElement(Ct,null),n.a.createElement("main",{className:"h-full w-full "},t)):n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading account..."}))},Pt=a(33),It=function(e){var t=e.type,a=e.date,l=e.setDate,i=e.dateCreated,s=e.lastUpdated,c=Ve(),o=Object(r.useRef)(null);B(o,l,null),Object(wt.a)("Escape",(function(){a&&l(!1)}),{keyup:!0});var d=Pt.DateTime.fromISO(s||Pt.DateTime.now()),u=d.minusBusiness({days:1}),m=d.minusBusiness({days:5}),p=d.minusBusiness({days:10}),f=d.minusBusiness({days:30}),g=Pt.DateTime.fromISO(i),h=[{title:d.startOf("day")>=Pt.DateTime.now().startOf("day")?"Today":"Most recent day",dateString:d.toFormat("LLL dd"),min:d,onClick:function(){c(Q({min:d.startOf("day"),max:d.endOf("day"),selected:d.toFormat("LLL dd, yyyy")}))}},{title:u.startOf("day")<=Pt.DateTime.now().minusBusiness({days:1}).startOf("day")?"Previous day":"Yesterday",dateString:u.toFormat("LLL dd"),min:u,onClick:function(){c(Q({min:u.startOf("day"),max:u.endOf("day"),selected:u.toFormat("LLL dd, yyyy")}))}},{title:"Last 7 days",dateString:"".concat(m.toFormat("LLL dd")," - ").concat(d.toFormat("LLL dd")),min:m,onClick:function(){c(Q({min:m.startOf("day"),max:d.endOf("day"),selected:"".concat(m.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd"))}))}},{title:"Last 14 days",dateString:"".concat(p.toFormat("LLL dd")," - ").concat(d.toFormat("LLL dd")),min:p,onClick:function(){c(Q({min:p.startOf("day"),max:d.endOf("day"),selected:"".concat(p.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd"))}))}},{title:"Last 30 days",dateString:"".concat(f.toFormat("LLL dd")," - ").concat(d.toFormat("LLL dd")),min:f,onClick:function(){c(Q({min:f.startOf("day"),max:d.endOf("day"),selected:"".concat(f.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd"))}))}},{title:"All time",dateString:"".concat(g.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd")),min:g,onClick:function(){c(Q({min:g.startOf("day"),max:d.endOf("day"),selected:"".concat(g.toFormat("LLL dd, yyyy")," - ").concat(d.toFormat("LLL dd"))}))}}],v=function(e,t){return Pt.DateTime.fromISO(e).startOf("day")<=Pt.DateTime.fromISO(t).startOf("day")};return n.a.createElement("article",{ref:o,className:"absolute top-0 right-0 z-10 w-64 pt-4 pb-2 cs-light-400 card-200 text-300 transform translate-y-12 -translate-x-56"},n.a.createElement("div",{className:"relative"},n.a.createElement("header",{className:"pb-2 px-4 center-between border-b border-200"},n.a.createElement("div",null,n.a.createElement("h5",{className:"inline-block font-bold text-lg"},"Date picker"))),n.a.createElement("ul",null,h.map((function(e,a){return n.a.createElement("li",{key:a,className:"list-none"},n.a.createElement("button",{onClick:function(){!function(e,a,r){if(v(e,a))return r(),c(ge({page:1,type:t})),l(!1);c(x({title:"Invalid date range",message:"This date range is older than your Leadgeek account. Please select a valid date range.",alertType:"danger"}))}(i,e.min,e.onClick)},className:"".concat(v(i,e.min)?"hover:bg-gray-100 dark:hover:bg-darkGray-100":"opacity-25 cursor-default"," w-full py-2 px-4 center-between transition-colors-main focus:outline-none")},n.a.createElement("span",{className:"font-semibold text-sm text-200"},e.title),n.a.createElement("span",{className:"text-sm text-100"},e.dateString)))})))))},Mt=a(73),zt=function(e){var t=e.title,a=e.description,r=e.alignment,l=e.edge;return n.a.createElement("div",{className:"absolute z-40 ".concat("left"===l?"left-0":"right"===l?"right-0":"left-1/2"," flex items-center p-2 cs-darkGray rounded-main shadow-md text-xs whitespace-nowrap transform ").concat("top"===r?"":"bottom"===r?" translate-y-3":""," ").concat(null===l?"-translate-x-1/2":"")},n.a.createElement("span",null,t),a&&n.a.createElement("span",{className:"ml-2 py-0.5 px-1 bg-gray-100 rounded-md font-semibold text-gray-600 text-xs"},a))},Tt=function(e){var t=e.title,a=e.value,r=e.utility;return n.a.createElement("div",{className:"relative flex items-center pb-2 last:pb-0 border-b border-100 last:border-none card-padding-x"},n.a.createElement("dt",{className:"w-2/5 text-100"},t),n.a.createElement("div",{className:"flex items-center w-3/5 text-300"},n.a.createElement("dd",null,a),r&&r))},Bt=function(e){var t=e.activePath,a=e.inactivePath,l=e.disabled,i=e.onClick,s=e.state,c=e.title,d=e.description,u=e.edge,m=Object(r.useState)(!1),p=Object(o.a)(m,2),f=p[0],g=p[1];return n.a.createElement("button",{onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},onClick:function(){return!l&&i()},disabled:!!l,className:"relative ml-2 first:ml-0 p-1 hover:bg-gray-100 dark:hover:bg-darkGray-100 rounded-main ".concat(s&&"text-purple-500"," ").concat(l?"pointer-events-none bg-gray-200 dark:bg-gray-900 opacity-50":""," text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 ring-gray transition-main")},s||!a?n.a.createElement("div",{className:"flex items-center justify-center"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",stroke:s?"currentColor":"",className:"svg-base"},t)):n.a.createElement("div",{className:"flex items-center justify-center"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",stroke:"currentColor",className:"svg-base"},a)),f&&n.a.createElement(zt,{title:c,description:d,alignment:"bottom",edge:u}))},Wt=function(e){var t=e.title,a=e.value;return n.a.createElement("div",{className:"first:mt-0 mt-2 flex items-end justify-between"},n.a.createElement("dt",{className:"text-sm text-100"},t),n.a.createElement("dd",{className:"py-1 px-2 cs-darkGray rounded-main font-semibold text-xs transition-main"},a))},Rt=function(e){var t=e.text,a=e.path,l=e.link,i=e.handleClick,s=e.disabled,c=Object(r.useState)(!1),d=Object(o.a)(c,2),u=d[0],m=d[1];return s?null:n.a.createElement("div",{className:"relative ml-0.5"},l?n.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},className:"inline-block ml-2 button-gray-100 rounded-sm transition-main ring-gray"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},a)):n.a.createElement("button",{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},onClick:function(){i&&i(),m(!1)},className:"ml-2 button-gray-100 rounded-sm transition-main ring-gray"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},a)),u&&n.a.createElement(zt,{title:t,alignment:"bottom",edge:null}))},Ht=function(e){var t=e.currentValue,a=e.compareValue,l=e.scale,i=e.lowerIsBetter,s=e.type,c=e.value,d=Object(r.useState)(!1),u=Object(o.a)(d,2),m=u[0],p=u[1],f=Object(r.useState)(!1),g=Object(o.a)(f,2),h=g[0],v=g[1],b=Object(r.useState)(null),y=Object(o.a)(b,2),x=y[0],E=y[1],w=!!(a&&t>a);Object(r.useEffect)((function(){t===a?E("same"):w?(E("up"),v(!i)):(E("down"),v(!!i))}));var k={up:n.a.createElement("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"}),down:n.a.createElement("path",{fillRule:"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z",clipRule:"evenodd"}),same:n.a.createElement("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})};if(!a)return null;var N=(100*+Math.abs(1-t/a)).toFixed(0);return n.a.createElement("div",{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},className:"relative flex items-center ml-2 py-0.5 pl-2 pr-1 ".concat(h?"cs-teal":"bg-gray-100 dark:bg-gray-900 text-200"," text-xs font-semibold rounded-main")},n.a.createElement("span",null,l," day"),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-0.5",viewBox:"0 0 20 20",fill:"currentColor"},null!==x&&k[x]),n.a.createElement("span",{className:"ml-1"},N,"%"),m&&n.a.createElement("div",{className:"absolute z-40 left-1/2 flex items-center p-2 shadow-md cs-darkGray rounded-main text-xs whitespace-nowrap transform -translate-y-8 -translate-x-1/2"},"The ".concat(s," ").concat(c," is ").concat(N,"% ").concat(w?"higher":"lower"," than the ").concat(l," day average")))},Vt=function(e){var t=e.currentValue,a=e.compareData,r=e.lowerIsBetter,l=e.type,i=e.value;return n.a.createElement("div",{className:"ml-2 flex items-center"},a.map((function(e,a){return n.a.createElement(Ht,{key:a,currentValue:t,compareValue:e.value,scale:e.scale,lowerIsBetter:r,type:l,value:i})})))},At=function(e){var t=e.user,a=e.type,l=e.currentLead,i=e.showDetails,s=e.setShowDetails,c=e.animationStyle,d=Ve(),u=Ae((function(e){return e.leads[a].pageByIds})),m=Ae((function(e){return e.leads.currentLeadStatus})),p=Ae((function(e){return e.filters.itemLimit})),f=Ae((function(e){return e.filters.prep.unit})),g=Ae((function(e){return e.filters.prep.lb})),h=Ae((function(e){return e.leads[a].pagination.page})),v=Ae((function(e){return e.leads[a].pagination.lastPage})),b=Object(r.useState)(""),y=Object(o.a)(b,2),x=y[0],E=y[1],w=Object(r.useState)(!1),k=Object(o.a)(w,2),N=k[0],O=k[1],j=Object(r.useState)(!1),C=Object(o.a)(j,2),S=C[0],W=C[1],R=Object(r.useState)(""),H=Object(o.a)(R,2),V=H[0],A=H[1],D=Object(r.useState)(!1),F=Object(o.a)(D,2),_=F[0],G=F[1],q=Object(r.useState)(0),U=Object(o.a)(q,2),J=U[0],Y=U[1],K=Object(r.useState)(!1),$=Object(o.a)(K,2),Z=$[0],X=$[1];Object(r.useEffect)((function(){s(!!l)}),[l]);var Q=l.data,ee=L.DateTime.fromISO(Q.date).toFormat("LLL dd @ H:mm"),ae=Object(r.useRef)(null);B(ae,X,null);var re=Object(r.useState)(!!t.likedLeads.some((function(e){return e._id===l._id}))),ne=Object(o.a)(re,2),le=ne[0],ie=ne[1];Object(r.useEffect)((function(){t.likedLeads.some((function(e){return e._id===l._id}))?ie(!0):ie(!1)}),[t.likedLeads,l._id]);var oe=Object(r.useState)(!!t.archivedLeads.some((function(e){return e._id===l._id}))),de=Object(o.a)(oe,2),pe=de[0],fe=de[1];Object(r.useEffect)((function(){t.archivedLeads.some((function(e){return e._id===l._id}))?fe(!0):fe(!1)}),[t.archivedLeads,l._id]),Object(r.useEffect)((function(){var e=t.comments.filter((function(e){return e.leadId===l._id}));e.length>0?E(e[0].comment):E("")}),[l]);var he=function(e){var t=u.indexOf(l)+e;return d(t===p||-1===t?ge({page:h+e,type:a}):ue(u[t]))};Object(r.useEffect)((function(){return 0===u.indexOf(l)&&1===h?O(!0):u.indexOf(l)===u.length-1&&h===v?G(!0):(O(!1),G(!1))}),[u,l,h,v]),Object(wt.a)("Escape",(function(){i&&ve()}),{keyup:!0}),Object(wt.a)("s",(function(){d(ce({userId:t._id,leadId:l._id}))}),{keyup:!0},[l]),Object(wt.a)("a",(function(){d(se({userId:t._id,leadId:l._id}))}),{keyup:!0},[l]),Object(wt.a)("t",(function(){T(Q.retailerLink,Q.amzLink)}),{keyup:!0},[l]),Object(wt.a)("d",(function(){"idle"===m&&!N&&he(-1)}),{keyup:!0},[l,m,N]),Object(wt.a)("f",(function(){"idle"===m&&!_&&he(1)}),{keyup:!0},[l,m,_]);var ve=function(){return s(!1),setTimeout((function(){d(me())}),251)},be=[{activePath:n.a.createElement("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"}),inactivePath:null,disabled:1===h&&0===u.indexOf(l)||"loading"===m,onClick:function(){return he(-1)},state:!1,title:"Previous lead",description:"D",edge:"left"},{activePath:n.a.createElement("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}),inactivePath:null,disabled:h===v&&u.indexOf(l)===u.length-1||"loading"===m,onClick:function(){return he(1)},state:!1,title:"Next lead",description:"F",edge:null}],ye=[{activePath:n.a.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}),inactivePath:n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}),disabled:!1,onClick:function(){return d(ce({userId:t._id,leadId:l._id}))},state:le,title:le?"Unlike lead":"Like lead",description:"S",edge:null},{activePath:n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}),inactivePath:n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}),disabled:!1,onClick:function(){return d(se({userId:t._id,leadId:l._id}))},state:pe,title:pe?"Unarchive lead":"Archive lead",description:"A",edge:null},{activePath:n.a.createElement("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"}),disabled:!1,inactivePath:null,onClick:function(){return T(Q.retailerLink,Q.amzLink)},state:null,title:"Open links",description:"T",edge:null},{activePath:n.a.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}),inactivePath:null,onClick:function(){ve()},disabled:!1,state:null,title:"Close details",description:"Esc",edge:"right"}],xe=[{title:"Net profit",value:"$".concat((Q.netProfit-(f||(g?g*Q.weight:0))).toFixed(2))},{title:"Return on investment",value:"".concat(((+Q.netProfit.toFixed(2)-(f||(g?g*Q.weight:0)))/+Q.buyPrice.toFixed(2)*100).toFixed(0),"%")},{title:"Estimated sales / mo.",value:"".concat(I(Q.monthlySales))}],Ee=[{text:Q.cashback,path:n.a.createElement("path",{fillRule:"evenodd",d:"M5 2a2 2 0 00-2 2v14l3.5-2 3.5 2 3.5-2 3.5 2V4a2 2 0 00-2-2H5zm2.5 3a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm6.207.293a1 1 0 00-1.414 0l-6 6a1 1 0 101.414 1.414l6-6a1 1 0 000-1.414zM12.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3z",clipRule:"evenodd"}),link:"https://www.rakuten.com/".concat(M(Q.retailerLink)),handleClick:null,disabled:!Q.cashback},{text:"Copy promo code: ".concat(Q.promo),path:n.a.createElement("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}),link:null,handleClick:function(){navigator.clipboard.writeText(Q.promo)},disabled:!Q.promo}],we=[{text:"Copy text",path:n.a.createElement("g",null,n.a.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),n.a.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})),link:null,handleClick:function(){navigator.clipboard.writeText(Q.asin)},disabled:!1},{text:"Open Seller Central",path:n.a.createElement("g",null,n.a.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),n.a.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})),link:"https://sellercentral.amazon.com/product-search/search?q=".concat(Q.asin),handleClick:null,disabled:!1}],ke=[{title:"Source",value:n.a.createElement("a",{href:Q.retailerLink,target:"_blank",rel:"noopener noreferrer",className:"link"},Q.source||"-"),utility:n.a.createElement("div",{className:"flex items-center"},Ee.map((function(e,t){return n.a.createElement(Rt,{key:t,text:e.text,path:e.path,link:e.link,handleClick:e.handleClick,disabled:e.disabled})})))},{title:V,value:n.a.createElement("a",{href:"https://amazon.com/gp/product/".concat(Q.asin),target:"_blank",rel:"noopener noreferrer",className:"link"},Q.asin),utility:n.a.createElement("div",{className:"flex items-center"},we.map((function(e,t){return n.a.createElement(Rt,{key:t,text:e.text,path:e.path,link:e.link,handleClick:e.handleClick,disabled:e.disabled})})))},{title:"Buy price",value:n.a.createElement("div",null,"$".concat(Q.buyPrice.toFixed(2)||"-"))},{title:"Sell price",value:n.a.createElement("div",null,"$".concat(Q.sellPrice.toFixed(2)||"-")),utility:n.a.createElement(Vt,{currentValue:Q.sellPrice,compareData:[{value:Q.price30,scale:"30"},{value:Q.price90,scale:"90"}],lowerIsBetter:!1,type:"recommended",value:"sell price"})},{title:"Current BSR",value:n.a.createElement("div",null,I(Q.bsrCurrent)||"-"),utility:n.a.createElement(Vt,{currentValue:Q.bsrCurrent,compareData:[{value:Q.bsr30,scale:"30"},{value:Q.bsr90,scale:"90"}],lowerIsBetter:!0,type:"current",value:"BSR"})},{title:"BSR %",value:n.a.createElement("div",null,Q.bsrCurrent&&Q.category&&n.a.createElement("span",null,z(Q.bsrCurrent,Q.category),"%"))},{title:"Competition",value:n.a.createElement("div",null,Q.competitorCount>0&&n.a.createElement("span",{className:"text-100"},"(".concat(Q.competitorCount,")")),n.a.createElement("span",{className:Q.competitorCount>0?"ml-1":""},Q.competitorType||"-"))},{title:"Weight",value:n.a.createElement("div",null,Q.weight?n.a.createElement("span",null,Q.weight.toFixed(2),n.a.createElement("span",{className:"ml-1 text-100"},"lb")):n.a.createElement("span",null,"-"))}],Ne=[{title:"Shipping notes",value:n.a.createElement("div",null,Q.shipping?Q.shipping:"None")},{title:"Seller notes",value:n.a.createElement("div",null,Q.notes?Q.notes:"None")},{title:"Variation notes",value:n.a.createElement("div",null,Q.variations?Q.variations:"None")}],Oe=[Q.variations,Q.notes,Q.shipping];Object(r.useEffect)((function(){l&&Y(Oe.filter((function(e){return""!==e})).length)}),[l]),Object(r.useEffect)((function(){Q.asin.startsWith("B",0)?A("ASIN"):A("ISBN")}),[Q.asin]);var je=Object(_e.useSpring)({height:Z?"8rem":"4rem"}),Le=Object(_e.useSpring)({opacity:Z?1:0});return n.a.createElement(r.Fragment,null,n.a.createElement(_e.animated.section,{style:c,className:"fixed top-0 bottom-0 right-0 z-20 w-full max-w-3xl"},n.a.createElement("div",{className:"relative cs-bg border-l border-300 shadow-2xl"},n.a.createElement("header",{className:"pr-2 cs-light-400 border-b border-300 shadow-sm"},n.a.createElement("div",{className:"center-between py-3 px-6 text-100"},n.a.createElement("div",{className:"flex items-center"},be.map((function(e,t){return n.a.createElement(Bt,{key:t,activePath:e.activePath,inactivePath:e.inactivePath,disabled:e.disabled,onClick:e.onClick,state:e.state,title:e.title,description:e.description,edge:e.edge})}))),n.a.createElement("div",{className:"flex items-center"},ye.map((function(e,t){return n.a.createElement(Bt,{key:t,activePath:e.activePath,inactivePath:e.inactivePath,disabled:e.disabled,onClick:e.onClick,state:e.state,title:e.title,description:e.description,edge:e.edge})}))))),n.a.createElement("div",{className:"h-screen overflow-x-hidden overflow-y-scroll minimal-scrollbar"},n.a.createElement("section",{className:"mb-48 pl-6 pr-8"},n.a.createElement("article",{className:"flex justify-between mt-4 py-4 card-padding-x cs-light-300 card-200"},n.a.createElement("div",{className:"w-2/5 h-56 z-10"},n.a.createElement(Mt.a,{smallImage:{alt:Q.title,isFluidWidth:!1,src:Q.img,width:225,height:225},largeImage:{alt:Q.title,src:Q.img,width:600,height:600},enlargedImageContainerDimensions:{width:"200%",height:"200%"},className:"bg-white bg-contain",enlargedImageContainerClassName:"bg-white card-400"})),n.a.createElement("header",{className:"relative w-3/5 ml-8"},n.a.createElement("h3",{onMouseEnter:function(){return W(!0)},onMouseLeave:function(){return W(!1)},className:"inline-block font-bold text-lg text-gray-900 dark:text-white"},P(Q.title,35)),S&&n.a.createElement("div",{className:"absolute top-0 mt-2 mr-6 p-2 rounded-md shadow-md cs-darkGray text-xs transform translate-y-6"},Q.title),n.a.createElement("aside",{className:"flex items-center mt-2 text-sm text-200"},n.a.createElement("div",null,ee),n.a.createElement("span",{className:"h-1 w-1 ml-2 rounded-full bg-gray-400 dark:bg-gray-700"}),n.a.createElement("div",{className:"ml-2"},Q.category)),n.a.createElement("article",{className:"mt-6"},n.a.createElement("header",{className:"mt-4 pb-2 border-b border-200"},n.a.createElement("h4",{className:"font-semibold text-300"},"Primary metrics")),xe.map((function(e,t){return n.a.createElement(Wt,{key:t,title:e.title,value:e.value})}))))),n.a.createElement("article",{className:"mt-4 py-4 cs-light-300 card-200"},n.a.createElement("header",{className:"card-padding-x pb-4 border-b border-200"},n.a.createElement("h4",{className:"font-semibold text-gray-900 dark:text-white"},"Detailed information")),n.a.createElement("dl",{className:"grid grid-cols-1 grid-rows-4 gap-y-2 gap-x-6 mt-4 text-sm text-gray-800"},ke.map((function(e,t){return n.a.createElement(Tt,{key:t,title:e.title,value:e.value,utility:e.utility&&e.utility})})))),n.a.createElement("article",{className:"my-4 py-4 cs-light-300 card-200"},n.a.createElement("header",{className:"flex items-center pb-4 card-padding-x border-b border-200"},n.a.createElement("h4",{className:"font-semibold text-300"},"Notes")," ",n.a.createElement("span",{className:"ml-2 py-1 px-2 bg-gray-100 dark:bg-gray-900 text-300 rounded-main text-xs font-semibold"},J)),n.a.createElement("dl",{className:"grid grid-cols-1 grid-rows-3 gap-y-2 gap-x-6 mt-4 text-sm text-200"},Ne.map((function(e,t){return n.a.createElement(Tt,{key:t,title:e.title,value:e.value})}))))),n.a.createElement("article",{className:"fixed bottom-0 w-full max-w-3xl text-300 cs-light-400 border-t border-300"},n.a.createElement("div",{className:"pt-1 pb-4 pl-4 pr-12"},n.a.createElement("form",{ref:ae,className:"relative mt-3 text-sm"},n.a.createElement(_e.animated.textarea,{name:"comment",placeholder:"Add a comment to this lead...",onChange:function(e){E(e.target.value)},onClick:function(){return!Z&&X((function(e){return!e}))},value:x,className:"w-full input rounded-main border border-300 text-sm placeholder-gray-700 ring-purple resize-none",style:je}),Z&&n.a.createElement(_e.animated.div,{className:"absolute bottom-0 right-0 transform -translate-y-4 -translate-x-4",style:Le},n.a.createElement(Fe,{text:x?"Save comment":"Add comment",onClick:function(e){e.preventDefault(),x&&d(te({comment:x,userId:t._id,leadId:l._id})),X(!1)},width:null,margin:!1,size:null,cta:!0,path:null,conditional:null,conditionalDisplay:null})))))))))},Dt=a(72),Ft=function(e){var t=e.user,a=e.leads,r=e.setExportLeads,l=L.DateTime.now().setLocale("el").toLocaleString();return n.a.createElement(Dt.CSVLink,{data:a,headers:[{label:"Source",key:"data.source"},{label:"Title",key:"data.title"},{label:"Brand",key:"data.brand"},{label:"Category",key:"data.category"},{label:"Retailer Source",key:"data.retailerLink"},{label:"Amazon Link",key:"data.amzLink"},{label:"Promo Code",key:"data.promo"},{label:"Buy Price",key:"data.buyPrice"},{label:"Sell Price",key:"data.sellPrice"},{label:"Profit",key:"data.netProfit"},{label:"ROI",key:"data.roi"},{label:"Current BSR",key:"data.bsrCurrent"},{label:"Avg Mo. Sales",key:"data.monthlySales"},{label:"30 Day BSR",key:"data.bsr30"},{label:"90 Day BSR",key:"data.bsr90"},{label:"Seller competition",key:"data.competitorType"},{label:"Seller count",key:"data.competitorCount"},{label:"30 Day Price",key:"data.price30"},{label:"90 Day Price",key:"data.price90"},{label:"Variation Suggestions",key:"data.variations"},{label:"Cashback Discounts",key:"data.cashback"},{label:"Item Weight (lb)",key:"data.weight"},{label:"ASIN",key:"data.asin"},{label:"Shipping Notes",key:"data.shipping"},{label:"Seller Notes",key:"data.notes"},{label:"Date",key:"data.date"}],onClick:function(){return r(!1)},filename:"".concat(t.role||"leadgeek","_plan_leads_").concat(l,".csv"),target:"_blank",className:"ml-4 py-2 px-3 flex items-center rounded-main cs-purple shadow-sm hover:shadow-md text-sm font-semibold transition-main ring-purple"},n.a.createElement("span",null,n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-4 w-4"},n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))),n.a.createElement("span",{className:"ml-2"},"Confirm"))},_t=function(e){var t=e.title,a=e.options,l=e.selectedOption,i=e.openState,s=e.setOpenState,c=e.handleClick,o=Object(r.useRef)(null);return B(o,s,null),n.a.createElement("div",{ref:o,className:"relative flex items-center shadow-sm rounded-main text-sm"},n.a.createElement("div",{className:"w-16 flex-none p-2 cs-bg-light rounded-l-lg text-sm font-semibold text-center text-100 border border-200"},t),n.a.createElement("button",{type:"button",className:"overflow-x-hidden relative w-full pl-2 pr-10 py-2 cs-light-500 border-t border-b border-r border-200 rounded-r-lg text-left cursor-default ring-purple ring-inset","aria-haspopup":"listbox","aria-expanded":"true","aria-labelledby":"listbox-label",onClick:function(){return s(!i)}},n.a.createElement("span",{className:"flex items-center"},n.a.createElement("span",{className:"ml-2 block truncate"},l)),n.a.createElement("span",{className:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none border-l border-200 pl-2"},n.a.createElement("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},n.a.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})))),i&&n.a.createElement("ul",{className:"absolute top-0 right-0 z-10 max-h-56 w-full mt-1 py-1 cs-light-300 card-200 text-sm overflow-auto focus:outline-none transform translate-y-10 minimal-scrollbar",tabIndex:-1,role:"listbox","aria-labelledby":"listbox-label","aria-activedescendant":"listbox-option-3"},a.map((function(e,t){return n.a.createElement("li",{key:t,className:"py-2 pl-3 pr-9 cursor-default select-none relative ".concat(l===e.title?"cs-purple":"hover:bg-gray-100 dark:hover:bg-darkGray-100 text-300"),id:"listbox-option-".concat(t),role:"option","aria-selected":"true",onClick:function(){c(e),s(!1)}},e.title)}))))},Gt=function(e){var t,a=e.filter,l=Ve(),i=Object(r.useState)(!1),s=Object(o.a)(i,2),c=s[0],d=s[1];return n.a.createElement("li",{className:"first:mt-0 mt-2 w-full py-2 pl-4 pr-3 center-between cs-bg-light border border-200 shadow-sm rounded-main text-200 transition-colors-main focus:outline-none"},n.a.createElement("div",{className:"flex items-center truncate mr-2"},n.a.createElement("span",{className:"flex-none"},a.title),n.a.createElement("span",{className:"ml-1"},"gte"===a.operator?">":"lte"===a.operator?"<":"eq"===a.operator?"=":"is"),n.a.createElement("span",{className:"ml-1 overflow-ellipsis"},"".concat((t=a.type,"netProfit"===t||"buyPrice"===t||"sellPrice"===t?"$":"")).concat(function(e,t){return"roi"===e?I(100*+t):"bsrCurrent"===e?I(+t):t}(a.type,a.value)).concat(function(e){return"roi"===e?"%":"weight"===e?" lb":""}(a.type)))),n.a.createElement("button",{onClick:function(){return l($({id:a.id}))},onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},className:"relative icon-button"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"svg-sm"},n.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})),c&&n.a.createElement("div",{className:"absolute top-0 right-0 z-10 min-w-max p-2 rounded-md shadow-md bg-gray-900 text-left text-white text-xs transform -translate-y-1 -translate-x-8"},"Clear filter")))},qt=[{type:"numeric",title:"Profit",value:"netProfit"},{type:"numeric",title:"Buy price",value:"buyPrice"},{type:"numeric",title:"Sell price",value:"sellPrice"},{type:"numeric",title:"Return on investment",value:"roi"},{type:"numeric",title:"Best seller's rank",value:"bsrCurrent"},{type:"numeric",title:"Monthly sales",value:"monthlySales"},{type:"numeric",title:"Weight",value:"weight"},{type:"text",title:"Category",value:"category"},{type:"text",title:"Source",value:"source"}],Ut=[{type:"numeric",title:"Greater than",value:"gte"},{type:"numeric",title:"Less than",value:"lte"}],Jt=[{type:"text",title:"Equals",value:"eq"}],Yt=[{title:"Appliances"},{title:"Arts, Crafts, & Sewing"},{title:"Automotive Parts & Accessories"},{title:"Baby"},{title:"Beauty & Personal Care"},{title:"Books"},{title:"CDs & Vinyl"},{title:"Cell Phones & Accessories"},{title:"Clothing, Shoes & Jewelry"},{title:"Computers"},{title:"Electronics"},{title:"Garden & Outdoor"},{title:"Grocery & Gourmet Food"},{title:"Handmade"},{title:"Health, Household & Baby Care"},{title:"Home & Kitchen"},{title:"Industrial & Scientific"},{title:"Luggage & Travel Gear"},{title:"Movies & TV"},{title:"Musical Instruments"},{title:"Office Products"},{title:"Pet Supplies"},{title:"Sports & Outdoors"},{title:"Tools & Home Improvement"},{title:"Toys & Games"},{title:"Video Games"}],Kt=[{title:"511 Tactical"},{title:"6 PM"},{title:"Academy"},{title:"Ace Hardware"},{title:"American Eagle"},{title:"Albee Baby"},{title:"Amazon"},{title:"American Apparel"},{title:"Art Supply Warehouse"},{title:"Backcountry"},{title:"Barnes and Noble"},{title:"Bath and Body Works"},{title:"BB Toy Store"},{title:"Beall's Florida"},{title:"Beauty Brands"},{title:"Bed, Bath, and Beyond"},{title:"Belk"},{title:"Belkin"},{title:"Bergner's"},{title:"Best Buy"},{title:"Big 5 Sporting Goods"},{title:"Big Bad Toy Store"},{title:"Big Lots"},{title:"Bits and Pieces"},{title:"BJ's"},{title:"Bloomingdale's"},{title:"Body Building"},{title:"Books-a-Million"},{title:"Boscov's"},{title:"Buy Buy Baby"},{title:"Century 21"},{title:"Camping World"},{title:"Carter's"},{title:"Chewy"},{title:"Christian Book"},{title:"Claire's"},{title:"Columbia"},{title:"Costco"},{title:"Crayola"},{title:"DC Shoes"},{title:"Dickies"},{title:"Dick's Sporting Goods"},{title:"Dillard's"},{title:"Dollar General"},{title:"Dollar Tree"},{title:"Drug Supply Store"},{title:"DSW"},{title:"Easton"},{title:"Element Outfitters"},{title:"Eastern Mountain Sports"},{title:"Entirely Pets"},{title:"Everything Kitchens"},{title:"eVitamins"},{title:"Fat Brain Toys"},{title:"Fleet Farm"},{title:"FootSmart"},{title:"Forbidden Planet"},{title:"Fun"},{title:"FYE"},{title:"Game Nerdz"},{title:"Gamestop"},{title:"GNC"},{title:"Guitar Center"},{title:"Hasbro Pulse"},{title:"Healthy Pets"},{title:"Herberger's"},{title:"Hobby Lobby"},{title:"Home Depot"},{title:"Hot Topic"},{title:"iHerb"},{title:"JCPenney"},{title:"Journey's"},{title:"KatVonD Beauty"},{title:"Keurig"},{title:"Kmart"},{title:"Kohl's"},{title:"Lakeside"},{title:"LEGO"},{title:"Logitech"},{title:"Lowe's"},{title:"LTD Commodities"},{title:"Lucky Brand"},{title:"Macy's"},{title:"Marvel"},{title:"Mattel"},{title:"Mernards"},{title:"Merrell"},{title:"Michaels"},{title:"Michaels Kids"},{title:"Micro Center"},{title:"Miniature Market"},{title:"Moosejaw"},{title:"NBC Store"},{title:"Netrition"},{title:"Newegg"},{title:"Nike"},{title:"Nordstrom Rack"},{title:"Office Depot"},{title:"Office Supply"},{title:"Oriental Trading"},{title:"OshKosh"},{title:"Overstock"},{title:"Pampered Chef"},{title:"Party City"},{title:"PishPosh Baby"},{title:"Puma"},{title:"Quiksilver"},{title:"RadioShack"},{title:"REI"},{title:"Restaurant Supply"},{title:"Rogan's Shoes"},{title:"Sally Beauty"},{title:"Sam's Club"},{title:"Saucony"},{title:"Sears"},{title:"Sears Outlet"},{title:"Sephora"},{title:"Shoe Carnival"},{title:"Shop Bop"},{title:"Shop Disney"},{title:"Sierra"},{title:"Spencer's"},{title:"Sperry"},{title:"Staples"},{title:"Steep and Cheap"},{title:"Sun & Ski"},{title:"Sur La Table"},{title:"Target"},{title:"Tin Toy Arcade"},{title:"Too Faced"},{title:"Tower Hobbies"},{title:"Toy Tokyo"},{title:"Toy Wiz"},{title:"True Value"},{title:"Uncle Dan's"},{title:"Ulta"},{title:"US Toy"},{title:"Vitacost"},{title:"Vitamin Shoppe"},{title:"Vitamin World"},{title:"Walgreens"},{title:"Walmart"},{title:"Williams-Sonoma"},{title:"World Market"},{title:"Zappos"},{title:"Zumiez"}],$t=function(e){var t=e.filterActive,a=e.setFilterActive,l=Ve(),i=Ae((function(e){return e.alert})),s=Ae((function(e){return e.auth.user})),c=Ae((function(e){return e.filters})),d=Object(r.useState)(!1),u=Object(o.a)(d,2),m=u[0],p=u[1],f=Object(r.useState)(!1),g=Object(o.a)(f,2),h=g[0],v=g[1],b=Object(r.useState)(!1),E=Object(o.a)(b,2),w=E[0],k=E[1],N=Object(r.useState)({typeIs:{type:qt[0].type,title:qt[0].title,value:qt[0].value},valueIs:{type:"",title:"numeric"===qt[0].type?Ut[0].title:Jt[0].title,value:"numeric"===qt[0].type?Ut[0].value:Jt[0].value},value:""}),O=Object(o.a)(N,2),j=O[0],L=O[1],C=Object(r.useState)(!1),S=Object(o.a)(C,2),P=S[0],I=S[1],M=Object(r.useState)(!1),z=Object(o.a)(M,2),T=z[0],W=z[1],R=Object(r.useState)(!1),H=Object(o.a)(R,2),V=H[0],A=H[1],D=Object(r.useRef)(null);B(D,a,null),Object(wt.a)("Escape",(function(){t&&a(!1)}),{keyup:!0});return s?n.a.createElement("article",{ref:D,className:"absolute top-0 right-0 z-30 w-80 pt-4 pb-1 cs-light-400 card-200 text-300 transform translate-y-12 -translate-x-32"},n.a.createElement("div",{className:"relative"},n.a.createElement("header",{className:"pb-2 px-4 center-between border-b border-200"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement("h5",{className:"inline-block font-bold text-lg"},"Filters"),c.count>0&&n.a.createElement("div",{className:"ml-4 py-1 px-2 cs-teal rounded-main text-xs font-semibold"},n.a.createElement("span",null,c.count),n.a.createElement("span",{className:"ml-1"},"active"))),n.a.createElement("button",{onClick:function(e){e.stopPropagation(),p(!0)},onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},className:"relative icon-button"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4"},n.a.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})),P&&n.a.createElement("div",{className:"absolute top-0 right-0 z-10 min-w-max p-2 transform -translate-y-1.5 -translate-x-8 rounded-md shadow-md bg-gray-900 text-left text-white text-xs"},"Add filter"))),c.filters.length>0||m?n.a.createElement("div",null,m&&n.a.createElement("div",{className:"pt-6 pb-2 px-4"},n.a.createElement("div",null,n.a.createElement(_t,{title:"Type",options:qt,selectedOption:j.typeIs.title,openState:T,setOpenState:W,handleClick:function(e){return L(Object(He.a)(Object(He.a)({},j),{},{typeIs:{type:e.type,title:e.title,value:e.value},valueIs:{type:e.type,title:"numeric"===e.type?Ut[0].title:Jt[0].title,value:"numeric"===e.type?Ut[0].value:Jt[0].value},value:"category"===e.value?"Appliances":"source"===e.value?"511 Tactical":"number"===typeof j.value?j.value:""}))}})),n.a.createElement("div",{className:"mt-2"},n.a.createElement(_t,{title:"Value",options:"numeric"===j.typeIs.type?Ut:Jt,selectedOption:j.valueIs.title,openState:V,setOpenState:A,handleClick:function(e){return L(Object(He.a)(Object(He.a)({},j),{},{valueIs:{type:e.type,title:e.title,value:e.value}}))}})),"category"===j.typeIs.value?n.a.createElement("div",{className:"mt-2"},n.a.createElement(_t,{title:"Item",options:Yt,selectedOption:j.value,openState:h,setOpenState:v,handleClick:function(e){return L(Object(He.a)(Object(He.a)({},j),{},{value:e.title}))}})):"source"===j.typeIs.value?n.a.createElement("div",{className:"mt-2"},n.a.createElement(_t,{title:"Item",options:Kt,selectedOption:j.value,openState:w,setOpenState:k,handleClick:function(e){return L(Object(He.a)(Object(He.a)({},j),{},{value:e.title}))}})):n.a.createElement("input",{type:"text",className:"mt-2 form-field input",onChange:function(e){return L(Object(He.a)(Object(He.a)({},j),{},{value:+e.target.value}))},placeholder:"Enter an amount..."}),n.a.createElement("div",{className:"flex items-center justify-end"},n.a.createElement("div",{className:"mt-2"},n.a.createElement(Fe,{text:"Cancel",onClick:function(){p(!1)},width:"w-20",margin:!1,path:null,conditional:null,conditionalDisplay:null,size:"xs",cta:!1})),n.a.createElement("div",{className:"mt-2 ml-4"},n.a.createElement(Fe,{text:"Apply",onClick:function(){!function(e){if(!j.value)return l(x({title:"Error creating filter",message:"Please enter a valid number",alertType:"danger"}));var t=function(e,t){var a=c.filters.filter((function(a){return a.type===e&&a.operator===t}))[0];return a?a.value:null};if("numeric"===j.typeIs.type)if("lte"===j.valueIs.value){var a=t(j.typeIs.value,"gte");if(a&&a>=j.value)return l(x({title:"Error creating filter",message:"The max value must be larger than the min value",alertType:"danger"}))}else{var r=t(j.typeIs.value,"lte");if(r&&r<=j.value)return l(x({title:"Error creating filter",message:"The minimum filter can't be larger than the current maximum filter",alertType:"danger"}))}i&&l(y()),l(X(j.typeIs.type,j.typeIs.value,j.typeIs.title,j.valueIs.value,j.value)),L(Object(He.a)(Object(He.a)({},j),{},{typeIs:{type:qt[0].type,title:qt[0].title,value:qt[0].value},valueIs:{type:"",title:"numeric"===qt[0].type?Ut[0].title:Jt[0].title,value:"numeric"===qt[0].type?Ut[0].value:Jt[0].value}})),ne({user:{id:e._id,role:e.role},page:1,filters:c})}(s)},width:"w-20",margin:!1,path:null,conditional:null,conditionalDisplay:null,size:"xs",cta:!0})))),c.filters.length>0&&n.a.createElement("div",{className:"font-semibold text-sm text-gray-700"},n.a.createElement("ul",{className:"py-2 px-4"},c.filters.map((function(e,t){return n.a.createElement(Gt,{key:t,filter:e})})))),n.a.createElement("div",{className:"border-t border-200"},n.a.createElement("div",{className:"flex justify-end py-2 px-4"},n.a.createElement("button",{onClick:function(){["netProfitMin","netProfitMax","buyPriceMin","buyPriceMax","sellPriceMin","sellPriceMax","roiMin","roiMax","bsrMin","bsrMax","monthlySalesMin","monthlySalesMax","weightMin","weightMax","filterCount"].forEach((function(e){return localStorage.removeItem(e)})),l(Z()),a(!1),s&&l(ne({user:{id:s._id,role:s.role},page:1,filters:Object(He.a)(Object(He.a)({},c),{},{count:0,filters:[]})})),l(x({title:"All filters were removed",message:"Unfiltered leads are now showing.",alertType:"success"}))},className:"py-1 px-2 font-semibold text-sm hover:bg-red-100 dark:hover:bg-red-400 text-red-500 dark:text-red-300 hover:text-red-600 dark:hover:text-white rounded-main transition-main ring-red"},"Clear all")))):n.a.createElement("div",{className:"py-6 px-4 font-semibold text-sm text-gray-700 dark:text-gray-400"},'You haven\'t added any filters. Click the "+" in the top right corner to get started.'))):n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:null,margin:!1,text:""})},Zt=a(44),Xt=a(31),Qt={heart:n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}),image:n.a.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"}),competition:n.a.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}),dots:n.a.createElement("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}),eye:n.a.createElement("g",null,n.a.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})),link:n.a.createElement("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})},ea=function(e){var t,a,l=e.lead,i=e.user,s=e.liked,c=e.archived,d=e.setShowDetails,u=Ve(),m=Ae((function(e){return e.leads.currentLead})),p=Object(r.useState)(!1),f=Object(o.a)(p,2),g=f[0],h=f[1],v=Object(r.useState)(!1),b=Object(o.a)(v,2),y=b[0],x=b[1],E=Object(r.useState)(!1),w=Object(o.a)(E,2),k=w[0],N=w[1],O=Object(r.useState)(!1),j=Object(o.a)(O,2),C=j[0],S=j[1],M=Object(r.useState)(!1),W=Object(o.a)(M,2),R=W[0],H=W[1],V=Object(r.useState)(!1),A=Object(o.a)(V,2),D=A[0],F=A[1],_=Object(r.useState)(!1),G=Object(o.a)(_,2),q=G[0],U=G[1],J=l.data,Y=Object(r.useRef)(null);B(Y,H,h);var K=Object(r.useState)(!!s.some((function(e){return e._id===l._id}))),$=Object(o.a)(K,2),Z=$[0],X=$[1];Object(r.useEffect)((function(){for(var e=0;e<i.likedLeads.length;e++)if(i.likedLeads[e]._id===l._id){X(!0);break}}),[i,l._id]),Object(r.useEffect)((function(){s.some((function(e){return e._id===l._id}))?X(!0):X(!1)}),[s,l._id]);var Q=Object(r.useState)(!!c.some((function(e){return e._id===l._id}))),ee=Object(o.a)(Q,2),te=ee[0],ae=ee[1];Object(r.useEffect)((function(){c.some((function(e){return e._id===l._id}))?ae(!0):ae(!1)}),[c,l._id]);var re=L.DateTime.fromISO(J.date).toFormat("LLL dd"),ne=function(){m?(d(!0),u(ue(l))):(d((function(e){return!e})),u(ue(l))),H(!1),h(!1)},le=function(e){e.stopPropagation(),X((function(e){return!e})),u(ce({userId:i._id,leadId:l._id}))},ie=Object(_e.useSpring)({opacity:q?1:0}),oe=Object(_e.useSpring)({x:g?1:0}),de=Object(_e.useSpring)({opacity:R?1:0}),me={bsrCellWrapper:"p-4 lg:p-3 xl:p-2 w-24",categoryCellWrapper:"p-2 w-56 truncate",competitorCount:"font-semibold",competitionRow:"center-between",competitorType:"font-semibold text-purple-300",competitionWrapper:"w-36 absolute bottom-0 z-10 p-2 rounded-md shadow-md bg-gray-900 dark:bg-darkGray-100 text-white text-sm transform -translate-y-12 translate-x-8",dateCellWrapper:"p-2 w-24 whitespace-nowrap",defaultCellWrapper:"p-2",defaultSvg:"svg-base",detailsCellButton:"p-1 rounded-md text-gray-500 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 transition-main ring-gray",detailsCellSvg:"svg-base",detailsCellImage:"max-h-56 max-w-xs",detailsCellImageWrapper:"absolute z-10 p-2 bg-white shadow-xl rounded-main border border-300 transform lg:-translate-y-1/2 translate-x-16",detailsCellWrapper:"hidden xl:table-cell relative w-20 p-2",expandedViewMenuBottom:"py-2",expandedViewMenuButton:"py-2 px-3 w-full text-left font-semibold text-purple-500 dark:text-purple-300 hover:bg-gray-100 dark:hover:bg-darkGray-100 hover:text-gray-800 transition-colors-main ring-gray ring-inset",expandedViewMenuButtonSvg:function(){return this.expandedViewMenuButton+" flex items-center"},expandedViewMenuSvg:"ml-2 svg-sm",expandedViewWrapper:"absolute right-0 z-20 w-48 mr-3 mt-1 py-2 cs-light-400 card-200",eyeIconWrapper:"relative p-2 rounded-l-lg border-r border-200 ring-gray ring-inset",likeCellActive:"svg-base hover:text-purple-400 transition-colors-main",likeCellButton:"p-1 rounded-md ring-purple align-middle",likeCellNull:"p-2 px-4 svg-base",likeCellWrapper:"pl-6 pr-2 w-9 text-center text-gray-400",linkIconWrapper:"relative p-2 border-r border-200 ring-gray ring-inset",monthlySalesCellWrapper:"p-2 w-24",profitCellWrapper:"w-36 p-2 uppercase",quickViewCellWrapper:R?"py-4 pl-4 pr-12":"py-2 pl-2 pr-10 w-12",quickViewExpandedWrapper:"absolute transform -translate-x-14 rounded-l-lg border-l border-t border-b border-300 cs-light-400 text-100",quickViewMenu:R?"absolute z-10 p-2 cs-light-400 shadow-sm rounded-r-lg border-r border-t border-b border-300 ring-gray ring-inset":"rounded-main ring-gray",quickViewMenuHover:"w-24 mt-2 p-2 absolute top-0 left-1/2 z-20 bg-gray-900 rounded-main shadow-md text-white text-sm transform -translate-y-12 -translate-x-1/2",quickViewNull:"p-2 svg-base",quickViewWrapper:"all-center rounded-r-lg text-100 hover:text-gray-700 dark:hover-text-gray-200",roiCellWrapper:"p-2 w-24",rowWrapper:"relative px-1 border-b last:border-none border-100 dark:border-darkGray-200 hover:bg-gray-100 dark:hover:bg-darkGray-300 cursor-pointer",titleCellWrapper:"p-2 pr-12 w-32 md:w-48 lg:w-64 xl:w-112 font-semibold truncate",titleHover:"absolute z-10 left-0 p-2 transform -translate-y-10 lg:translate-x-12 rounded-md shadow-md bg-gray-900 text-white text-sm",valueIndicator:"ml-1 text-100"},pe=De(),fe=Object(o.a)(pe,1)[0];return n.a.createElement("tr",{className:me.rowWrapper,onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)},onClick:function(e){e.stopPropagation(),ne()},id:"lead-row"},n.a.createElement("td",{className:me.likeCellWrapper},C||Z?n.a.createElement("button",{onClick:function(e){le(e)},className:me.likeCellButton},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"".concat(Z?"dark"===fe?"#7069FA":"#A2A5FC":"none"),viewBox:"0 0 24 24",stroke:"".concat(Z?"dark"===fe?"#7069FA":"#A2A5FC":"currentColor"),className:me.likeCellActive},Qt.heart)):n.a.createElement("div",{className:me.likeCellNull})),n.a.createElement("td",{className:me.titleCellWrapper},n.a.createElement("div",null,P(J.title,60))),n.a.createElement("td",{className:me.categoryCellWrapper},P(J.category,28)),n.a.createElement("td",{className:me.detailsCellWrapper},n.a.createElement("button",{onMouseEnter:function(){return U(!0)},onMouseLeave:function(){return U(!1)},onClick:function(e){e.stopPropagation(),U((function(e){return!e}))},className:me.detailsCellButton},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:me.detailsCellSvg,viewBox:"0 0 20 20",fill:"currentColor"},Qt.image)),n.a.createElement("button",{onMouseEnter:function(){return F(!0)},onMouseLeave:function(){return F(!1)},onClick:function(e){e.stopPropagation(),F((function(e){return!e}))},className:me.detailsCellButton},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:me.detailsCellSvg,viewBox:"0 0 20 20",fill:"currentColor"},Qt.competition)),q&&n.a.createElement(_e.animated.div,{className:me.detailsCellImageWrapper,style:ie},n.a.createElement("img",{src:J.img,alt:J.title,className:me.detailsCellImage})),D&&n.a.createElement("div",{className:me.competitionWrapper},n.a.createElement("div",{className:me.competitionRow},n.a.createElement("span",null,"Buy box"),n.a.createElement("span",{className:me.competitorType},J.competitorType)),J.competitorCount>0&&n.a.createElement("div",{className:me.competitionRow},n.a.createElement("span",null,"# Competitors"),n.a.createElement("span",{className:me.competitorCount},J.competitorCount)))),n.a.createElement("td",{className:me.profitCellWrapper},n.a.createElement("span",null,"$"),J.netProfit.toFixed(2),n.a.createElement("span",{className:me.valueIndicator},"USD")),n.a.createElement("td",{className:me.roiCellWrapper},(+(null===(t=J.netProfit)||void 0===t?void 0:t.toFixed(2))/+(null===(a=J.buyPrice)||void 0===a?void 0:a.toFixed(2))*100).toFixed(0),n.a.createElement("span",{className:me.valueIndicator},"%")),n.a.createElement("td",{className:me.bsrCellWrapper},I(J.bsrCurrent),n.a.createElement("span",{className:me.valueIndicator},"(",z(J.bsrCurrent,J.category),")",n.a.createElement("span",{className:me.valueIndicator},"%"))),n.a.createElement("td",{className:me.monthlySalesCellWrapper},I(J.monthlySales)),n.a.createElement("td",{className:me.dateCellWrapper},re),n.a.createElement("td",{className:me.quickViewCellWrapper},n.a.createElement("div",{ref:Y},C||g?n.a.createElement("div",{onMouseEnter:function(){return H(!0)},onMouseLeave:function(){return!g&&H(!1)},className:me.quickViewWrapper},n.a.createElement("button",{onClick:function(e){e.stopPropagation(),h(!g)},className:me.quickViewMenu},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:me.defaultSvg},Qt.dots)),R&&n.a.createElement(_e.animated.div,{className:me.quickViewExpandedWrapper,style:de},n.a.createElement("div",{className:"all-center"},n.a.createElement("button",{onClick:function(e){e.stopPropagation(),ne(),S(!1)},onMouseEnter:function(){return x(!0)},onMouseLeave:function(){return x(!1)},className:me.eyeIconWrapper},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:me.defaultSvg},Qt.eye),y&&n.a.createElement("div",{className:me.quickViewMenuHover},"View details")),n.a.createElement("button",{onClick:function(e){e.stopPropagation(),T(J.retailerLink,J.amzLink),h(!1)},onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return N(!1)},className:me.linkIconWrapper},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:me.defaultSvg},Qt.link),k&&n.a.createElement("div",{className:me.quickViewMenuHover},"Open links"))))):n.a.createElement("div",{className:me.quickViewNull}),g&&n.a.createElement(_e.animated.div,{className:me.expandedViewWrapper,style:{transform:oe.x.to({range:[0,.35,.75,1],output:[1,.98,1.02,1]}).to((function(e){return"scale(".concat(e,")")})),translateY:"1.5rem",translateX:"-1.25rem"}},n.a.createElement("button",{onClick:function(e){le(e)},className:me.expandedViewMenuButton},Z?"Unlike lead":"Like lead"),n.a.createElement("button",{onClick:function(e){!function(e){e.stopPropagation(),ae((function(e){return!e})),u(se({userId:i._id,leadId:l._id}))}(e)},className:me.expandedViewMenuButton},te?"Unarchive lead":"Archive lead"),n.a.createElement("button",{onClick:function(){return T(J.retailerLink,J.amzLink)},className:me.expandedViewMenuButtonSvg()},n.a.createElement("span",null,"Open links"),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:me.expandedViewMenuSvg},Qt.link)),n.a.createElement("button",{onClick:function(e){e.stopPropagation(),ne(),S(!1)},className:me.expandedViewMenuButtonSvg()},n.a.createElement("span",null,"View details"),n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:me.expandedViewMenuSvg},Qt.eye))))))},ta={nullStateWrapper:"w-96 card-padding card-200 cs-light-400",svgWrapper:"h-10 w-10",svg:"p-2 bg-gray-900 rounded-lg text-teal-300 shadow-sm"},aa=function(e){var t=e.header,a=e.text,r=e.path,l=e.link,i=e.linkText;return n.a.createElement("div",{className:ta.nullStateWrapper},n.a.createElement("div",{className:ta.svgWrapper},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:ta.svg},r)),n.a.createElement("h3",{className:"mt-2 font-bold text-lg text-200"},t),n.a.createElement("p",{className:"text-100"},a),l?n.a.createElement(d.b,{to:l,className:"mt-4 inline-block py-2 px-3 rounded-main shadow-sm hover:shadow-md text-sm font-semibold bg-purple-500 hover:bg-purple-600 text-white transition-main ring-purple"},i):n.a.createElement("div",{className:"mt-4"},n.a.createElement(Fe,{text:"Reload the page",onClick:function(){return window.location.reload()},width:null,margin:!1,size:"sm",cta:!0,path:null,conditional:null,conditionalDisplay:null})))},ra=function(e){var t=e.colorTheme,a=Object(Zt.a)(e,["colorTheme"]),r=25,l="dark"===t?"#F0F4F8":"#1C2936",i="dark"===t?"#E6EBF0":"#1E2C3C";return n.a.createElement("tr",{className:"w-full py-16 border-b last:border-none border-100"},n.a.createElement("td",{className:"w-16 pt-6 pb-5"}),n.a.createElement("td",{className:"w-32 md:w-64 xl:w-112 pl-2"},n.a.createElement(Xt.a,Object.assign({speed:2,height:35,width:"80%",backgroundColor:l,foregroundColor:i},a),n.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"100%",height:r}))),n.a.createElement("td",{className:"px-2 lg:w-40 xl:w-56"},n.a.createElement(Xt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:l,foregroundColor:i},a),n.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"70%",height:r}))),n.a.createElement("td",{className:"hidden xl:table-cell w-20 px-2"},n.a.createElement(Xt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:l,foregroundColor:i},a),n.a.createElement("rect",{x:"4",y:"7.5",rx:"8",ry:"8",width:"22",height:r}),n.a.createElement("rect",{x:"36",y:"7.5",rx:"8",ry:"8",width:"22",height:r}))),n.a.createElement("td",{className:"w-40 px-2"},n.a.createElement(Xt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:l,foregroundColor:i},a),n.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"80",height:r}))),n.a.createElement("td",{className:"px-2 w-24"},n.a.createElement(Xt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:l,foregroundColor:i},a),n.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"40px",height:r}))),n.a.createElement("td",{className:"px-2 w-32"},n.a.createElement(Xt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:l,foregroundColor:i},a),n.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"90",height:r}))),n.a.createElement("td",{className:"px-2 w-24"},n.a.createElement(Xt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:l,foregroundColor:i},a),n.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"40",height:r}))),n.a.createElement("td",{className:"px-2"},n.a.createElement(Xt.a,Object.assign({speed:2,height:35,width:"100%",backgroundColor:l,foregroundColor:i},a),n.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"60",height:r}))),n.a.createElement("td",{className:"px-2"}))},na={feed:n.a.createElement("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"}),liked:n.a.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}),archived:n.a.createElement("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}),search:n.a.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})},la={sectionWrapper:"relative mt-12",tableWrapper:"pb-1 cs-light-400 card-300 overflow-x-auto overflow-y-visible xl:overflow-visible",table:"w-full",tableHeadWrapper:"border-b border-100",tableHead:"text-left font-semibold text-xs cs-bg text-100 uppercase tracking-widest",tableHeadCell:"p-4 lg:p-3 xl:p-2",tableBody:"mx-4 text-sm text-200"},ia=function(e){var t=e.leads,a=e.user,r=e.liked,l=e.archived,i=e.status,s=(e.showDetails,e.setShowDetails),c=e.type,d=e.currentSearchValue,u=De(),m=Object(o.a)(u,1)[0],p=Ae((function(e){return e.filters})),f=p.dateLimits.min&&L.DateTime.fromISO(p.dateLimits.min).endOf("day"),g=p.dateLimits.max&&L.DateTime.fromISO(p.dateLimits.max).endOf("day");return n.a.createElement("section",{className:la.sectionWrapper},"failed"===i?n.a.createElement("div",{className:"mt-6 container cs-light-300"},"There was an error making that request. If this issue persists, please"," ",n.a.createElement("a",{href:"mailto:support@leadgeek.io",target:"_blank",rel:"noopener noreferrer",className:"link text-purple-500 hover:text-purple-600 rounded-lg transition-main ring-gray"},"contact Leadgeek support"),"."):"loading"===i&&0===t.length?n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:null,margin:!0,text:"Loading leads..."}):t.length>0?n.a.createElement("div",{className:la.tableWrapper},n.a.createElement("table",{className:la.table,id:"leads"},n.a.createElement("thead",{className:la.tableHeadWrapper},n.a.createElement("tr",{className:la.tableHead},n.a.createElement("th",{className:"p-2 rounded-tl-lg"}),n.a.createElement("th",{className:la.tableHeadCell},"Title"),n.a.createElement("th",{className:la.tableHeadCell},"Category"),n.a.createElement("th",{className:"p-2 hidden xl:table-cell"},"Details"),n.a.createElement("th",{className:la.tableHeadCell},"Profit"),n.a.createElement("th",{className:la.tableHeadCell},"ROI"),n.a.createElement("th",{className:la.tableHeadCell},"BSR"),n.a.createElement("th",{className:la.tableHeadCell},"Sales"),n.a.createElement("th",{className:la.tableHeadCell},"Date"),n.a.createElement("th",{className:"p-2 rounded-tr-lg"}))),n.a.createElement("tbody",{className:la.tableBody},"loading"===i?Object(_.a)(Array(p.itemLimit)).map((function(e,t){return n.a.createElement(ra,{key:t,colorTheme:m})})):t.map((function(e,t){return n.a.createElement(ea,{key:e._id,lead:e,user:a,liked:r,archived:l,setShowDetails:s})}))))):"feed"===c?n.a.createElement(aa,{header:"".concat(p.filters.length>0?"Your filters are too strict":"Your Feed is empty"),text:"".concat(p.filters.length>0?"No leads match your applied filters. Maybe try loosening your criteria.":"No leads were found, try refreshing the page."),path:na.feed,link:"",linkText:""}):"liked"===c?n.a.createElement(aa,{header:"".concat(p.filters.length>0?"Your filters are too strict":"No liked leads were found"),text:"".concat(p.filters.length>0?"No leads match your applied filters. Maybe try loosening your criteria.":"You haven't liked any leads yet, but you can go to the Feed to check some products out."),path:na.liked,link:"/leads",linkText:"Go to the Feed"}):"archived"===c?n.a.createElement(aa,{header:"".concat(p.filters.length>0?"Your filters are too strict":"No archived leads were found"),text:"".concat(p.filters.length>0?"No leads match your applied filters. Maybe try loosening your criteria.":"You haven't archived any leads yet, but you can go to the Feed to check some products out."),path:na.archived,link:"/leads",linkText:"Go to the Feed"}):"search"!==c||d?n.a.createElement(aa,{header:"No results were found",text:"There were no results that match these criteria".concat(f&&g?f!==g?" between ".concat(f.toFormat("LLL dd")," - ").concat(g.toFormat("LLL dd")):"today":f?" on ".concat(f.toFormat("LLL dd")):""),path:na.search,link:"",linkText:""}):n.a.createElement(aa,{header:"No search results found",text:"Please try a different search query",path:na.search,link:"/leads",linkText:"Go to the Feed"}))},sa=[10,20,50,100],ca={button:"py-2 px-3 rounded-lg dark:bg-darkGray-200 dark:hover:bg-darkGray-100 shadow-sm text-sm font-semibold border border-gray-200 dark:border-darkGray-100 text-gray-600 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-400 transition duration-100 ease-in-out ring-purple"},oa=function(e){var t=e.pagination,a=e.type,l=e.itemLimit,i=e.status,s=e.setPage,c=Ve(),d=De(),u=Object(o.a)(d,1)[0],m=Object(r.useState)(!1),p=Object(o.a)(m,2),f=p[0],g=p[1],h=Object(r.useState)(l||15),v=Object(o.a)(h,2),b=v[0],y=v[1],x=Object(r.useState)(!1),E=Object(o.a)(x,2),w=E[0],k=E[1],N=t.page,O=t.hasNextPage,j=t.hasPreviousPage,L=t.nextPage,C=t.previousPage,S=t.totalItems,P=t.filteredItems,M=Object(r.useRef)(null);B(M,g,null),Object(wt.a)("Escape",(function(){f&&g(!1)}),{keyup:!0});var z=null!==C?C*(l||15)+1:C&&C+1,T=P&&P<N*(l||15)?P:N*(l||15),W="dark"===u?"#F0F4F8":"#1C2936",R="dark"===u?"#E6EBF0":"#1E2C3C";return n.a.createElement("article",{className:"mt-8"},n.a.createElement("div",{className:"center-between py-2 px-4 cs-light-400 rounded-main shadow-md text-100 border border-300"},S&&S>0?n.a.createElement("div",{className:"relative flex items-center text-sm",ref:M},n.a.createElement("button",{type:"button",className:"overflow-x-hidden relative w-full pl-2 pr-10 py-2 input border border-300 rounded-main text-left cursor-pointer transition-main ring-purple ring-inset","aria-haspopup":"listbox","aria-expanded":"true","aria-labelledby":"listbox-label",onClick:function(){return g(!f)}},n.a.createElement("span",{className:"flex items-center"},n.a.createElement("span",{className:"ml-2 block truncate"},b)),n.a.createElement("span",{className:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},n.a.createElement("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},n.a.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})))),f&&n.a.createElement("ul",{className:"absolute top-0 right-0 z-10 max-h-56 w-full mt-1 py-1 cs-light-300 card-200 text-sm overflow-auto focus:outline-none transform -translate-y-40",tabIndex:-1,role:"listbox","aria-labelledby":"listbox-label","aria-activedescendant":"listbox-option-3"},sa.map((function(e,t){return n.a.createElement("li",{key:t,className:"py-2 pl-3 pr-9 cursor-pointer select-none relative ".concat(b===e?"cs-purple":"hover:bg-gray-100 dark:hover:bg-darkGray-100 text-300"),id:"listbox-option-".concat(t),role:"option","aria-selected":"true",onClick:function(){c(U({type:a,itemLimit:e})),y(e),g(!1)}},e)})))):n.a.createElement("div",null),n.a.createElement("div",{className:"flex items-center justify-between text-sm"},P?n.a.createElement("div",{className:"relative flex items-center"},P>0&&S&&S>P&&n.a.createElement("button",{onClick:function(){return k((function(e){return!e}))},onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},className:"mr-2 rounded-md text-gray-400 hover:text-gray-600 transition-main ring-gray"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})),w&&S&&n.a.createElement("div",{className:"absolute z-10 bottom-0 py-2 px-4 transform -translate-y-8 rounded-md shadow-md bg-gray-900 text-left text-white text-sm"},n.a.createElement("p",null,n.a.createElement("span",{className:"font-semibold text-purple-300"},I(S-P))," ","leads aren't showing because of applied filters."))),"idle"===i?P&&n.a.createElement("span",null,"Showing ",z," to ",T," of ",P," results"):n.a.createElement("div",{className:"flex justify-end"},n.a.createElement(Xt.a,{speed:2,height:35,width:"70%",backgroundColor:W,foregroundColor:R},n.a.createElement("rect",{x:"0",y:"7.5",rx:"8",ry:"8",width:"100%",height:25})))):n.a.createElement("div",null),(j||O)&&n.a.createElement("nav",null,n.a.createElement("button",{onClick:function(){return c(s({page:C,type:a}))},className:"".concat(j?"hover:shadow-md hover:text-gray-700 border border-300":"pointer-events-none bg-gray-200 opacity-50"," ").concat(ca.button," ml-8")},"Previous"),n.a.createElement("button",{onClick:function(){return c(s({page:L,type:a}))},className:"".concat(O?"hover:shadow-md hover:text-gray-700 border border-300":"pointer-events-none bg-gray-200 opacity-50"," ").concat(ca.button," ml-4")},"Next")))))},da={calendar:n.a.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"}),filters:n.a.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"}),prep:n.a.createElement("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}),export:n.a.createElement("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})},ua={leadsWrapper:"relative pb-28",navWrapper:"pt-3 pb-2 px-4 lg:px-8 cs-light-400 border-b border-300 shadow-sm",nav:"relative flex items-end justify-between container",navLink:"relative first:ml-0 ml-8 pb-2 font-semibold text-gray-700 dark:text-gray-400 hover:text-purple-500 dark:hover:text-purple-300 hover:border-b-2 hover:border-purple-500 dark:border-purple-200 group transition-colors-main",navLinkActive:"text-purple-500 dark:text-purple-300 border-b-2 border-purple-500 dark:border-purple-200",navLinkCounter:"h-4 w-4 absolute top-0 right-0 all-center py-2.5 px-3 rounded-full cs-purple group-hover:bg-purple-600 dark:group-hover:bg-purple-300 text-xs transform -translate-y-4 translate-x-7",navToolsWrapper:"flex items-center"},ma=function(e){var t=e.leads,a=e.allLeads,l=e.pagination,i=e.type,s=e.itemLimit,c=(e.headerTitle,e.user),u=e.status,m=e.currentSearchValue,p=Ve(),f=Ae((function(e){return e.leads.status})),g=Ae((function(e){return e.leads.currentLead})),h=Ae((function(e){return e.leads.lastUpdated})),v=Ae((function(e){return e.filters})),b=Object(r.useState)(!1),y=Object(o.a)(b,2),E=y[0],w=y[1],O=Object(r.useState)(!1),j=Object(o.a)(O,2),C=j[0],S=j[1],P=Object(r.useState)(!1),I=Object(o.a)(P,2),M=I[0],z=I[1],T=Object(r.useState)(!1),B=Object(o.a)(T,2),W=B[0],R=B[1],H=c._id,V=c.likedLeads,A=c.archivedLeads,D=(c.comments,v.count),F=v.dateLimits.selected,_=[{title:"Feed",link:"/",count:null},{title:"Liked",link:"/liked/",count:(null===V||void 0===V?void 0:V.length)>0&&V.length},{title:"Archived",link:"/archived/",count:(null===A||void 0===A?void 0:A.length)>0&&A.length}],G=[{text:"Filters",path:da.filters,onClick:function(){return z((function(e){return!e}))},conditional:D>0,conditionalDisplay:n.a.createElement("span",{className:"svg-sm absolute top-0 right-0 all-center py-2.5 px-3 rounded-full cs-purple transform -translate-y-2 translate-x-3"},D)}],q=function(){var e=Object(N.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.length>0?(p(x({title:"Exporting leads",message:"Hold tight while the data is accumulated.",alertType:"warning"})),p(ae({userId:H,filters:v,type:i,query:m})),S(!0)):p(x({title:"There are no leads to export",message:"Please adjust your export settings and try again",alertType:"danger"}))}catch(a){console.log(a),p(x({title:"Error exporting leads",message:"Please try again or refresh the page.",alertType:"danger"}))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(C){var e=setTimeout((function(){0===a.length&&S(!1)}),18e3);return function(){return clearTimeout(e)}}}),[a,C,S]);var U=Object(_e.useSpring)({transform:W?"translateX(0%)":"translateX(100%)",config:{duration:250}});return"idle"===u&&c?n.a.createElement(r.Fragment,null,n.a.createElement("section",{className:ua.leadsWrapper},n.a.createElement("nav",{className:ua.navWrapper},n.a.createElement("div",{className:ua.nav},n.a.createElement("div",null,_.map((function(e,t){return n.a.createElement(d.c,{key:t,exact:!0,to:"/leads".concat(e.link),onClick:function(){p(fe()),g&&p(me())},className:ua.navLink,activeClassName:ua.navLinkActive},n.a.createElement("span",null,e.title),e.count&&n.a.createElement("span",{className:ua.navLinkCounter},e.count))}))),n.a.createElement("div",{className:ua.navToolsWrapper},n.a.createElement(Fe,{text:F||("".concat(L.DateTime.fromISO(null===c||void 0===c?void 0:c.dateCreated).toFormat("LLL dd, yyyy")||"Jan 1, 2021"," - ").concat(L.DateTime.now().toFormat("LLL dd, yyyy"))||"All leads"),onClick:function(){return w((function(e){return!e}))},width:null,margin:!1,size:null,cta:!1,path:da.calendar,conditional:null,conditionalDisplay:null}),G.map((function(e,t){return n.a.createElement(Fe,{key:t,text:e.text,onClick:e.onClick,width:null,margin:!0,size:null,cta:!1,path:e.path,conditional:e.conditional,conditionalDisplay:e.conditionalDisplay})})),!C&&n.a.createElement(Fe,{text:"Export",onClick:q,width:null,margin:!0,size:null,cta:!1,path:da.export,conditional:null,conditionalDisplay:null}),E&&n.a.createElement(It,{type:i,date:E,setDate:w,dateCreated:c.dateCreated,lastUpdated:h}),M&&n.a.createElement($t,{filterActive:M,setFilterActive:z}),C&&(a.length>0?n.a.createElement(Ft,{user:c,leads:a,setExportLeads:S}):n.a.createElement(vt,{divWidth:"w-24 ml-1",center:!1,spinnerWidth:"sm",margin:!1,text:null}))))),n.a.createElement("div",{className:"container"},"failed"===f?n.a.createElement("div",{className:"mt-6 container"},"There was an error making that request. If this issue persists, please"," ",n.a.createElement("a",{href:"mailto:support@leadgeek.io",target:"_blank",rel:"noopener noreferrer",className:"link text-purple-500 hover:text-purple-600 rounded-lg transition-main ring-gray"},"contact Leadgeek support"),"."):n.a.createElement(ia,{leads:t,user:c,liked:V,archived:A,status:f,showDetails:W,setShowDetails:R,type:i,currentSearchValue:m}),t.length>0&&l&&n.a.createElement(oa,{status:f,pagination:l,type:i,itemLimit:s,setPage:ge}))),g&&n.a.createElement(At,{type:i,user:c,currentLead:g,showDetails:W,setShowDetails:R,animationStyle:U})):"loading"===u?n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading leads..."}):n.a.createElement("div",{className:"mt-6 container"},"There was an error making that request. If this issue persists, please"," ",n.a.createElement("a",{href:"mailto:support@leadgeek.io",target:"_blank",rel:"noopener noreferrer",className:"link text-purple-500 hover:text-purple-600 rounded-lg transition-main ring-gray"},"contact Leadgeek support"),".")},pa=function(){var e=Ve(),t=Ae((function(e){return e.auth.status})),a=Ae((function(e){return e.auth.isAuthenticated})),l=Ae((function(e){return e.auth.user})),i=Ae((function(e){return e.leads.feed})),s=Ae((function(e){return e.filters})),c=i.pagination.page,o=s.itemLimit;return Object(r.useEffect)((function(){"idle"===t&&a&&(null===l||void 0===l?void 0:l._id)&&e(ne({user:{id:l._id,role:l.role},page:c,filters:s}))}),[t,a,null===l||void 0===l?void 0:l._id,null===l||void 0===l?void 0:l.role,c,s,e]),"idle"===t&&l?n.a.createElement(St,null,n.a.createElement(ma,{leads:i.pageByIds,allLeads:i.totalByIds,pagination:i.pagination,type:"feed",itemLimit:o,headerTitle:null,user:l,status:t,search:!1,currentSearchValue:null})):n.a.createElement("div",{className:"h-screen dark:bg-darkGray-400"},n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},fa=function(){var e=Ve(),t=Ae((function(e){return e.auth.status})),a=Ae((function(e){return e.auth.isAuthenticated})),l=Ae((function(e){return e.auth.user})),i=Ae((function(e){return e.leads.liked})),s=Ae((function(e){return e.filters})),c=i.pagination.page;return Object(r.useEffect)((function(){"idle"===t&&a&&l&&e(le({leads:l.likedLeads,page:c,filters:s}))}),[t,a,l,c,s,e]),"idle"===t&&l?n.a.createElement(St,null,n.a.createElement(ma,{leads:i.pageByIds,allLeads:i.totalByIds,pagination:i.pagination,type:"liked",itemLimit:s.itemLimit,headerTitle:null,user:l,status:t,search:!1,currentSearchValue:null})):n.a.createElement("div",{className:"h-screen"},n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},ga=function(){var e=Ve(),t=Ae((function(e){return e.auth.status})),a=Ae((function(e){return e.auth.isAuthenticated})),l=Ae((function(e){return e.auth.user})),i=Ae((function(e){return e.leads.archived})),s=Ae((function(e){return e.filters})),c=i.pagination.page;return Object(r.useEffect)((function(){"idle"===t&&a&&l&&e(re({leads:l.archivedLeads,page:c,filters:s}))}),[t,a,l,c,s,e]),"idle"===t&&l?n.a.createElement(St,null,n.a.createElement(ma,{leads:i.pageByIds,allLeads:i.totalByIds,pagination:i.pagination,type:"archived",itemLimit:s.itemLimit,headerTitle:null,user:l,status:t,search:!1,currentSearchValue:null})):n.a.createElement("div",{className:"h-screen"},n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},ha=function(){var e=Ve(),t=Ae((function(e){return e.auth.status})),a=Ae((function(e){return e.auth.user})),l=Ae((function(e){return e.leads.search})),i=Ae((function(e){return e.filters})),s=l.pagination.page,c=l.searchValue,o=l.newSearch;return Object(r.useEffect)((function(){"idle"===t&&(null===a||void 0===a?void 0:a._id)&&c?e(ie({userId:a._id,query:c,page:o?1:s,filters:i})):"idle"===t&&e(pe())}),[t,null===a||void 0===a?void 0:a._id,c,o,s,i,e]),"idle"===t&&a?n.a.createElement(St,null,n.a.createElement(ma,{leads:l.pageByIds,allLeads:l.totalByIds,pagination:l.pagination,type:"search",itemLimit:i.itemLimit,user:a,status:t,headerTitle:"Search results",search:!0,currentSearchValue:c})):n.a.createElement("div",{className:"h-screen"},n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))};function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ba(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ya(e,t){var a=e.title,n=e.titleId,l=ba(e,["title","titleId"]);return r.createElement("svg",va({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},l),a?r.createElement("title",{id:n},a):null,dt||(dt=r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})))}var xa,Ea=r.forwardRef(ya);a.p;function wa(){return(wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ka(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Na(e,t){var a=e.title,n=e.titleId,l=ka(e,["title","titleId"]);return r.createElement("svg",wa({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":n},l),a?r.createElement("title",{id:n},a):null,xa||(xa=r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))}var Oa=r.forwardRef(Na),ja=(a.p,function(){var e=Ve(),t=Ae((function(e){return e.auth.status})),a=Ae((function(e){return e.auth.user})),l=Object(r.useState)({allUsers:[],status:"loading",pagination:{page:1,hasNextPage:null,hasPreviousPage:!1,nextPage:null,previousPage:null,lastPage:null,totalItems:null,filteredItems:null}}),i=Object(o.a)(l,2),s=i[0],c=i[1],d=Object(r.useCallback)(function(){var t=Object(N.a)(k.a.mark((function t(a,r){var n,l,i,o,d,u,m,p,f,g;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=JSON.stringify({page:a,itemLimit:r}),t.next=4,j.a.post("/api/users/get-all-users",n,C);case 4:if(l=t.sent,!((i=l.data).users.length>0)){t.next=11;break}return o=i.users,d=i.page,u=i.hasNextPage,m=i.hasPreviousPage,p=i.nextPage,f=i.previousPage,g=i.totalItems,t.abrupt("return",c(Object(He.a)(Object(He.a)({},s),{},{status:"idle",allUsers:o,pagination:Object(He.a)(Object(He.a)({},s.pagination),{},{page:d,hasNextPage:u,hasPreviousPage:m,nextPage:p,previousPage:f,totalItems:g})})));case 11:return c(Object(He.a)(Object(He.a)({},s),{},{status:"idle"})),t.abrupt("return",e(x({title:"Something went wrong",message:"There was an error retreiving users.",alertType:"danger"})));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,a){return t.apply(this,arguments)}}(),[s,e]);Object(r.useEffect)((function(){"idle"===t&&d(s.pagination.page,20)}),[t,s.pagination.page,d]);return a&&"master"!==(null===a||void 0===a?void 0:a.role)&&"admin"!==(null===a||void 0===a?void 0:a.role)?n.a.createElement(u.a,{to:{pathname:"/leads/"}}):n.a.createElement(St,null,"idle"===t&&a?n.a.createElement("section",{className:"my-6 container text-300"},n.a.createElement("div",{className:"mt-12 flex items-center"},n.a.createElement("div",{className:"w-1/5"}),n.a.createElement("div",{className:"w-4/5 ml-12 text-300"},n.a.createElement("header",null,n.a.createElement("h2",{className:"text-2xl font-black text-300"},"Admin resources"),n.a.createElement("p",{className:"mt-2 text-200"},"Keep stuff from catching fire, bruh"," ",n.a.createElement("span",{role:"img","aria-label":"Fire emoji"},"\ud83d\udd25"))),n.a.createElement("article",{className:"mt-4 py-2 md:py-4 lg:py-6 cs-light-300 card-200"},n.a.createElement("div",{className:"pb-4 border-b border-200"},n.a.createElement("header",{className:"card-padding-x"},n.a.createElement("h2",{className:"font-bold text-lg text-300"},"Users"))),n.a.createElement("div",{className:"mt-4"},"idle"===t?n.a.createElement("table",{className:"w-full mt-4 table-auto"},n.a.createElement("thead",{className:"border-b border-200"},n.a.createElement("tr",{className:"text-left font-semibold text-xs text-gray-600 uppercase tracking-widest whitespace-no-wrap"},n.a.createElement("th",{className:"p-2"},"Name"),n.a.createElement("th",{className:"p-2"},"Email"),n.a.createElement("th",{className:"p-2"},"Plan"),n.a.createElement("th",{className:"p-2"},"Status"),n.a.createElement("th",{className:"p-2"},"Stripe"),n.a.createElement("th",{className:"p-2"},"Surrogate"))),n.a.createElement("tbody",{className:"mt-4 text-100"},s.allUsers.map((function(t){return n.a.createElement("tr",{key:t._id,className:"text-sm border-b last:border-none border-100 dark:border-darkGray-200 hover:bg-gray-100 dark:hover:bg-darkGray-300"},n.a.createElement("td",{className:"py-1 px-2"},t.name),n.a.createElement("td",{className:"py-1 px-2"},n.a.createElement("a",{href:"mailto:".concat(t.email),target:"_blank",rel:"noopener noreferrer",className:"link text-purple-500 hover:text-purple-600"},t.email)),n.a.createElement("td",{className:"py-1 px-2"},S(t.role)),n.a.createElement("td",{className:"py-1 px-2"},t.subscription.subIds[0]&&t.subscription.subIds[0].active?n.a.createElement(Ea,{className:"inline-block h-4 w-4 text-teal-500 bg-teal-200 rounded-full"}):n.a.createElement(Oa,{className:"inline-block h-4 w-4 text-red-500 bg-red-200 rounded-full"})),n.a.createElement("td",{className:"py-1 px-2"},n.a.createElement("a",{href:"https://dashboard.stripe.com/customers/".concat(t.subscription.cusId),target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-600 transition-colors duration-100 ease-in-out"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})))),n.a.createElement("td",{className:"py-1 px-2"},t.lastLoggedIn?L.DateTime.fromISO(t.lastLoggedIn).toFormat("LLL dd, t"):"-",n.a.createElement(Fe,{width:null,margin:!1,size:null,text:"Login",onClick:function(){return"master"===(null===t||void 0===t?void 0:t.role)&&e(we({id:t._id}))},path:null,cta:!0,conditional:null,conditionalDisplay:null})))})))):n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:null,margin:!1,text:"Loading users..."})))))):n.a.createElement("div",{className:"h-screen"},n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading admin settings..."})))}),La=function(e){var t=e.link;return n.a.createElement(d.c,{className:"mb-2 -ml-0.5 pl-4 relative flex items-center group font-semibold text-gray-800 dark:text-gray-200 hover:text-purple-500 dark:hover:text-purple-300 border-l-2 border-gray-200 dark:border-darkGray-100 hover:border-purple-500 dark:hover:border-purple-200 transition-main",activeClassName:"border-l-2 border-purple-500 dark:border-purple-300 text-purple-500 dark:text-purple-300",to:"/settings/".concat(t.link,"/")},n.a.createElement("span",{className:"text-base"},t.title),t.new&&n.a.createElement("span",{className:"ml-6 py-0.5 px-1 rounded-main cs-purple text-xs"},"New"))},Ca=function(){return n.a.createElement("nav",{className:"w-1/5 flex flex-col text-100 text-sm"},n.a.createElement("h3",{className:"text-lg font-bold text-300"},"Settings"),n.a.createElement("ol",{className:"mt-4 pb-1 border-l-2 border-200"},[{title:"Account",link:"account",new:!1},{title:"Plan & billing",link:"billing",new:!1}].map((function(e,t){return n.a.createElement("li",{key:t},n.a.createElement(La,{link:e}))}))))},Sa=function(e){var t=e.children,a=e.title,r=e.description;return n.a.createElement("div",{className:"flex flex-row container mt-12"},n.a.createElement(Ca,null),n.a.createElement("section",{className:"w-4/5 max-w-4xl ml-12 text-300"},n.a.createElement("header",null,n.a.createElement("h2",{className:"text-2xl font-black text-300"},a),n.a.createElement("p",{className:"mt-2 text-200"},r)),n.a.createElement("div",null,t)))},Pa=function(){var e=Ve(),t=Ae((function(e){return e.auth.status})),a=Ae((function(e){return e.auth.user})),l=De(),i=Object(o.a)(l,2),s=i[0],c=i[1],d=Object(r.useState)("dark"!==s),u=Object(o.a)(d,2),m=u[0],p=u[1],f=Object(r.useState)({password_1:"",password_2:""}),g=Object(o.a)(f,2),h=g[0],v=g[1],b=h.password_1,E=h.password_2,w=function(e){v(Object(He.a)(Object(He.a)({},h),{},Object(Re.a)({},e.target.name,e.target.value)))};return a&&n.a.createElement(St,null,n.a.createElement(Sa,{title:"Account",description:"Change your account preferences"},n.a.createElement("section",null,"loading"===t?n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:"sm",margin:!1,text:null}):n.a.createElement(n.a.Fragment,null,n.a.createElement("article",{className:"mt-4 pt-2 md:pt-4 lg:pt-6 cs-light-300 card-200"},n.a.createElement("div",{className:"pb-4 border-b border-200"},n.a.createElement("header",{className:"card-padding-x"},n.a.createElement("h2",{className:"font-bold text-lg text-300"},"Security"))),n.a.createElement("form",{className:"flex items-center card-padding-x"},n.a.createElement(mt,{label:"New Password",placeholder:"Create a new password",name:"password_1",value:b,onChange:function(e){return w(e)},required:!0,styles:"w-1/2"}),n.a.createElement(mt,{label:"Confirm Password",placeholder:"Enter the password again",name:"password_2",value:E,onChange:function(e){return w(e)},required:!0,styles:"w-1/2 ml-16"})),n.a.createElement("div",{className:"flex justify-end mt-4 py-2 card-padding-x cs-bg rounded-b-lg border-t border-300"},n.a.createElement(Fe,{text:"Save",onClick:function(){return(null===a||void 0===a?void 0:a.email)&&function(t,a,r){if(t){if(!a||!r)return e(x({title:"Required field missing",message:"Password field can't be empty",alertType:"danger"}));if(a!==r)return e(x({title:"Passwords don't match",message:"Check spelling or case sensitivity",alertType:"danger"}));if(a.length<7&&r.length<7)return e(x({title:"Password is too short",message:"Password must be at least 7 characters",alertType:"danger"}));var n=t.split("@")[0];return a.includes(n)||r.includes(n)?e(x({title:"Password is too similar to your email",message:"Please choose another password",alertType:"danger"})):F.includes(a)||F.includes(r)?e(x({title:"Password is too common",message:"Please pick a more unique password",alertType:"danger"})):(e(y()),e(ke({email:t,password:a,redirect:!1})))}}(null===a||void 0===a?void 0:a.email,b,E)},width:null,margin:!1,size:"sm",cta:!0,path:null,conditional:null,conditionalDisplay:null}))),n.a.createElement("article",{className:"mt-4 py-2 md:py-4 lg:py-6 cs-light-300 card-200"},n.a.createElement("div",{className:"pb-4 border-b border-200"},n.a.createElement("header",{className:"card-padding-x"},n.a.createElement("h2",{className:"font-bold text-lg text-300"},"Appearance"))),n.a.createElement("div",{className:"mt-4 card-padding-x"},n.a.createElement("div",{className:"center-between text-200"},n.a.createElement("div",null,"Theme"),n.a.createElement("label",{htmlFor:"colorTheme",className:"flex items-center cursor-pointer text-sm font-semibold text-100"},n.a.createElement("span",{"aria-label":"light"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-base",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"}))),n.a.createElement("div",{className:"relative mx-2"},n.a.createElement("input",{type:"checkbox",defaultChecked:"dark"===s,onChange:function(){p((function(e){return!e})),localStorage.setItem("theme",s),c(s)},id:"colorTheme",className:"sr-only"}),n.a.createElement("div",{className:"block bg-gray-300 dark:bg-darkGray-200 w-12 h-6 rounded-full border border-300"}),n.a.createElement("div",{className:"absolute left-0.5 top-0.5 w-5 h-5 rounded-full transition transform ".concat(m?"bg-purple-300 translate-x-6":"bg-white"," shadow-md")})),n.a.createElement("span",{"aria-label":"dark"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-base",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})))))))))))},Ia={payment:n.a.createElement("g",null,n.a.createElement("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})),affiliate:n.a.createElement("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})},Ma={tableWrapper:"w-full relative",table:"w-full table-auto",tableHeadWrapper:"border-t border-b border-200",tableHead:"text-left font-semibold text-xs text-100 uppercase tracking-widest whitespace-no-wrap cs-bg",tableHeadCell:"p-3",tableBody:"text-sm text-200",rowWrapper:"relative px-1 border-b border-100 last:border-none",defaultCellWrapper:"p-3",defaultSvg:"svg-base",valueIndicator:"ml-1 text-gray-400 font-semibold"},za=function(){var e=Ae((function(e){return e.auth.status})),t=Ae((function(e){return e.auth.isAuthenticated})),a=Ae((function(e){return e.auth.user})),l=Object(r.useState)({plan:{status:"loading",id:null,created:null,cancelAt:null,cancelAtPeriod:null,currentPeriodEnd:null,plan:{id:null,amount:null}}}),i=Object(o.a)(l,2),s=i[0],c=i[1],d=Object(r.useState)({paymentHistory:{status:"loading",payments:[],pagination:{page:1,itemLimit:10}}}),u=Object(o.a)(d,2),m=u[0],p=u[1],f=Object(r.useCallback)(function(){var e=Object(N.a)(k.a.mark((function e(t){var a,r,n,l,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.stringify({subId:t}),e.next=4,j.a.post("/api/users/active-plan-details",a,C);case 4:if(r=e.sent,n=r.data,l=n.message,i=n.subscription,"Subscription data found"!==l){e.next=12;break}return e.abrupt("return",c(Object(He.a)(Object(He.a)({},s),{},{plan:Object(He.a)(Object(He.a)({},s.plan),{},{status:"idle",id:i.id,created:i.created,cancelAt:i.cancelAt,cancelAtPeriod:i.cancelAtPeriod,currentPeriodEnd:i.currentPeriodEnd,plan:Object(He.a)(Object(He.a)({},s.plan.plan),{},{id:i.plan.id,amount:i.plan.amount})})})));case 12:return e.abrupt("return",c(Object(He.a)(Object(He.a)({},s),{},{plan:Object(He.a)(Object(He.a)({},s.plan),{},{status:"idle"})})));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),[s]);Object(r.useEffect)((function(){var r=null===a||void 0===a?void 0:a.subscription.subIds.filter((function(e){return!0===e.active}))[0];t&&"idle"===e&&"loading"===s.plan.status&&(null===r||void 0===r?void 0:r.id)&&f(r.id)}),[t,e,s.plan.status,null===a||void 0===a?void 0:a.subscription.subIds,f]);var g=Object(r.useCallback)(function(){var e=Object(N.a)(k.a.mark((function e(t){var a,r,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.stringify({cusId:t}),e.next=4,j.a.post("/api/users/successful-payments/",a,C);case 4:return r=e.sent,n=r.data,e.abrupt("return",p(Object(He.a)(Object(He.a)({},m),{},{paymentHistory:Object(He.a)(Object(He.a)({},m.paymentHistory),{},{status:"idle",payments:n.payments})})));case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),[m]);Object(r.useEffect)((function(){t&&"idle"===e&&"loading"===m.paymentHistory.status&&(null===a||void 0===a?void 0:a.subscription.cusId)&&g(a.subscription.cusId)}),[t,e,m.paymentHistory.status,null===a||void 0===a?void 0:a.subscription.cusId,g]);var h=[{title:"Leadgeek member since",value:n.a.createElement("div",null,t&&(null===a||void 0===a?void 0:a.dateCreated)&&L.DateTime.fromISO(a.dateCreated).toFormat("LLL dd, yyyy"))},{title:"Current subscription active since",value:n.a.createElement("div",null,s.plan.created&&V(+s.plan.created,!0))},{title:"Current subscription",value:n.a.createElement("div",null,s.plan.plan.amount&&R(s.plan.plan.amount)," ","plan")},{title:"Est. charge for\n           ".concat(!s.plan.cancelAtPeriod&&s.plan.currentPeriodEnd&&V(+s.plan.currentPeriodEnd,!1)),value:n.a.createElement("div",null,s.plan.plan.amount&&n.a.createElement("div",{className:"font-bold"},"$",s.plan.plan.amount/100))},{title:"Default payment method",value:n.a.createElement("div",null,(null===a||void 0===a?void 0:a.billing.brand)&&S(a.billing.brand)," ","\u2022\u2022\u2022\u2022 ",null===a||void 0===a?void 0:a.billing.last4)},{title:"Update subscription",value:n.a.createElement("div",null,n.a.createElement("a",{href:"mailto:support@leadgeek.io",target:"_blank",rel:"noopener noreferrer",className:"link"},"Contact support"))}];return"idle"===e&&a&&n.a.createElement(St,null,n.a.createElement(Sa,{title:"Plan & billing",description:"Update your plan and view past invoices"},n.a.createElement("section",{className:"my-6"},(null===a||void 0===a?void 0:a.subscription.cusId)?n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"mt-4 pt-2 md:pt-4 lg:pt-6 pb-5 cs-light-300 card-200"},n.a.createElement("div",{className:"pb-4 border-b border-200"},n.a.createElement("header",{className:"card-padding-x"},n.a.createElement("h2",{className:"font-bold text-lg text-300"},"Subscription information"))),"loading"===s.plan.status?n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:null,margin:!0,text:"Loading subscription information..."}):s.plan.id?n.a.createElement("dl",{className:"grid grid-flow-row grid-cols-1 gap-y-3 gap-x-8 mt-4 text-200"},h.map((function(e,t){return n.a.createElement(Tt,{key:t,title:e.title,value:e.value})}))):n.a.createElement("div",{className:"mt-4"},"There are no active plans")),n.a.createElement("section",{className:"mt-4 pt-2 md:pt-4 lg:pt-6 pb-4 cs-light-300 card-200"},n.a.createElement("header",{className:"pb-4 card-padding-x border-b border-200"},n.a.createElement("h2",{className:"font-bold text-lg text-300"},"Billing history")),"loading"===m.paymentHistory.status?n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:null,margin:!0,text:"Loading historical payments..."}):m.paymentHistory.payments.length>0?n.a.createElement("div",{className:Ma.tableWrapper},n.a.createElement("table",{className:Ma.table,id:"payments"},n.a.createElement("thead",{className:Ma.tableHeadWrapper},n.a.createElement("tr",{className:Ma.tableHead},n.a.createElement("th",{className:"pl-4 md:pl-6 lg:pl-8 pr-2"},"Invoice ID"),n.a.createElement("th",{className:Ma.tableHeadCell},"Plan"),n.a.createElement("th",{className:Ma.tableHeadCell},"Amount"),n.a.createElement("th",{className:Ma.tableHeadCell},"Payment method"),n.a.createElement("th",{className:"pl-2 pr-4 md:pr-6 lg:pr-8 text-right"},"Date"))),n.a.createElement("tbody",{className:Ma.tableBody},m.paymentHistory.payments.map((function(e,t){return n.a.createElement("tr",{key:t,className:Ma.rowWrapper},n.a.createElement("td",{className:"pl-4 md:pl-6 lg:pl-8 pr-2"},n.a.createElement("a",{href:e.invoice.pdf,className:"link rounded-sm ring-purple"},P(e.invoice.id,31))),n.a.createElement("td",{className:Ma.defaultCellWrapper},R(e.amount)),n.a.createElement("td",{className:Ma.defaultCellWrapper},n.a.createElement("span",null,"$"),e.amount/100,n.a.createElement("span",{className:Ma.valueIndicator},e.currency.toUpperCase())),n.a.createElement("td",{className:Ma.defaultCellWrapper},(null===a||void 0===a?void 0:a.billing.brand)&&S(a.billing.brand)," ","\u2022\u2022\u2022\u2022"," ","\u2022\u2022\u2022\u2022"," ","\u2022\u2022\u2022\u2022"," ",e.paymentMethod.last4),n.a.createElement("td",{className:"pl-2 pr-4 md:pr-6 lg:pr-8 text-right"},V(e.created,!0)))}))))):n.a.createElement("section",{className:"mt-4"},n.a.createElement(aa,{header:"No subscription payments found",text:"No payments have been found for your account.",path:Ia.payment,link:"",linkText:""})))):n.a.createElement("section",{className:"mt-4 card-padding-x"},n.a.createElement(aa,{header:"No subscription found",text:"There isn't a subscription associated with this account.",path:Ia.affiliate,link:"",linkText:""})))))},Ta=function(e){var t=e.title,a=e.value,l=e.isInteractable,i=e.t,s=e.size,c=Object(r.useState)(!1),d=Object(o.a)(c,2),u=d[0],m=d[1];return n.a.createElement("li",{className:"flex justify-between text-200 ".concat(s?"".concat(s," items-start"):"items-center")},n.a.createElement("header",{className:"flex items-center"},n.a.createElement("h3",{className:"align-bottom"},t),i&&n.a.createElement("div",{className:"relative z-0 flex items-end mt-1 ml-2"},n.a.createElement("div",{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},className:"text-gray-400 rounded-full ring-gray cursor-pointer"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))),u&&n.a.createElement("div",{className:"absolute left-0 flex items-center p-2 rounded-main shadow-md bg-gray-900 text-white text-xs whitespace-nowrap transform translate-x-6 translate-y-1"},i))),l?a:n.a.createElement("div",null,a))},Ba=function(e){var t=e.title,a=e.code,l=e.clipboard,i=Object(r.useState)(!1),s=Object(o.a)(i,2),c=s[0],d=s[1],u=Object(r.useState)("Copy code"),m=Object(o.a)(u,2),p=m[0],f=m[1];return n.a.createElement("div",{className:"mt-6"},n.a.createElement("header",{className:"relative pb-1 border-b border-200"},n.a.createElement("h4",{className:"text-lg font-bold text-300"},t),c&&n.a.createElement("div",{className:"absolute left-1/2 transform -translate-x-1/2 -translate-y-8 p-2 rounded-lg shadow-md bg-gray-900 text-white text-xs whitespace-nowrap"},p)),n.a.createElement("button",{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return"Copy code"===p&&d(!1)},onClick:function(){navigator.clipboard.writeText(l||""),f("Code copied"),d(!0),setTimeout((function(){f("Copy code"),d(!1)}),2e3)},className:"w-full mt-2 rounded-main text-left ring-gray transition-main"},n.a.createElement("pre",{className:"p-4 bg-gray-900 dark:bg-darkGray-100 card-200 text-gray-300 whitespace-pre"},a)))},Wa={payment:n.a.createElement("g",null,n.a.createElement("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),n.a.createElement("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})),affiliate:n.a.createElement("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})},Ra={tableWrapper:"w-full relative mt-4 card-padding-x",table:"w-full table-auto",tableHeadWrapper:"border-b border-gray-200",tableHead:"text-left font-semibold text-xs text-gray-600 uppercase tracking-widest whitespace-no-wrap",tableHeadCell:"p-2",tableBody:"text-sm text-gray-800",rowWrapper:"relative px-1 border-b border-gray-200 hover:bg-gray-100",defaultCellWrapper:"p-2",defaultSvg:"svg-base",valueIndicator:"ml-1 text-gray-400 font-semibold"},Ha=function(){var e=Ae((function(e){return e.auth.status})),t=Ae((function(e){return e.auth.isAuthenticated})),a=Ae((function(e){return e.auth.user})),l=Object(r.useState)({paypalEmail:"",paymentHistory:{status:"loading",payments:[]}}),i=Object(o.a)(l,2),s=i[0],c=i[1],d=Object(r.useState)(!1),u=Object(o.a)(d,2),m=u[0],p=u[1],f=Object(r.useState)(!1),g=Object(o.a)(f,2),h=g[0],v=g[1],b=Object(r.useState)("Copy LGID"),y=Object(o.a)(b,2),x=y[0],E=y[1],w=Object(r.useState)(t&&(null===a||void 0===a?void 0:a.referrals.referrer.isReferrer)),O=Object(o.a)(w,1)[0],L=Object(r.useState)(A(-1)),S=Object(o.a)(L,1)[0],P=Object(r.useState)(t&&(null===a||void 0===a?void 0:a.referrals.referrer.lgid)),I=Object(o.a)(P,1)[0],M=Object(r.useState)(!1),z=Object(o.a)(M,2),T=z[0],B=z[1],W=Object(r.useState)(A(1)),F=Object(o.a)(W,1)[0],_=s.paypalEmail,G=s.paymentHistory,q=G.status,U=G.payments;Object(r.useEffect)((function(){var r,n;t&&"idle"===e&&O&&(r=null===a||void 0===a?void 0:a.referrals.referrer.clients,n=null===a||void 0===a?void 0:a.referrals.referrer.dateCreated,r&&n?J(r,n):c(Object(He.a)(Object(He.a)({},s),{},{paymentHistory:Object(He.a)(Object(He.a)({},s.paymentHistory),{},{status:"idle",payments:[]})})))}),[t,e,O,null===a||void 0===a?void 0:a.referrals.referrer.clients,null===a||void 0===a?void 0:a.referrals.referrer.dateCreated]),Object(wt.a)("Escape",(function(){B(!1)}),{keyup:!0});var J=function(){var e=Object(N.a)(k.a.mark((function e(t,a){var r,n,l,i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.stringify({clients:t,affCreated:a}),e.next=4,j.a.post("/api/users/affiliate-payments",r,C);case 4:n=e.sent,l=n.data,i=l.msg,s=l.affPayments,"Referred clients with valid payments were found."===i&&console.log(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(e){var t=e.reduce((function(e,t){return e+t.amount}),0);return H(t)},K=[{title:n.a.createElement("span",null,"Unique link"),value:n.a.createElement("button",{onClick:function(){return B((function(e){return!e}))},className:"link rounded-main ring-gray transition-main"},"Generate affiliate link"),isInteractable:!0,t:'Generate & copy your unique link in the format "https://leadgeek.io/?lgid=YOUR_LGID"',size:""},{title:n.a.createElement("span",null,"PayPal email address"),value:m?n.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),p(!1)}(e)},className:"flex items-center"},n.a.createElement("input",{name:"paypalEmail",type:"email",placeholder:"Your new PayPal email",required:!0,onChange:function(e){c(Object(He.a)(Object(He.a)({},s),{},Object(Re.a)({},e.target.name,e.target.value)))},className:"w-full py-1 px-2 rounded-l-md input ring-purple focus:ring-inset"}),n.a.createElement("button",{className:"py-1 px-2 rounded-r-md cs-purple border-t border-r border-b border-purple-500 dark:border-purple-300 transition-main ring-purple"},"Update")):n.a.createElement("button",{onClick:function(){return p(!0)},className:"font-semibold ".concat(t&&((null===a||void 0===a?void 0:a.referrals.referrer.paypalEmail)||_)?"link":"text-red-400 hover:text-red-500"," hover:text-gray-700 ring-gray rounded-lg transition-main")},t&&((null===a||void 0===a?void 0:a.referrals.referrer.paypalEmail)||_)?_||(null===a||void 0===a?void 0:a.referrals.referrer.paypalEmail):"Add PayPal email for payout"),isInteractable:!0,t:"This is the PayPal email where your commission payments will be sent",size:""},{title:n.a.createElement("span",null,"Est. payout for"," ",n.a.createElement("span",{className:"font-bold"},F.toFormat("LLLL dd"))),value:"idle"===e?n.a.createElement("span",{className:"font-bold"},"$",function(e){var t=e.filter((function(e){return D(e.created)>=S&&D(e.created)<=F}));return Y(t)}(U)):n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:"sm",margin:!1,text:null}),isInteractable:!1,t:"On the 15th of each month for commissions > 60 days old",size:""},{title:n.a.createElement("span",null,"Total clients referred"),value:n.a.createElement("span",{className:"font-bold"},t&&(null===a||void 0===a?void 0:a.referrals.referrer.clients)&&a.referrals.referrer.clients.length),isInteractable:!1,t:"",size:""},{title:n.a.createElement("span",null,"Total referral value"),value:"idle"===e?n.a.createElement("span",{className:"font-bold"},"$",Y(U)):n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:"sm",margin:!1,text:null}),isInteractable:!1,t:"",size:""}],$=[{title:"Text link",code:n.a.createElement("code",null,"<",n.a.createElement("span",{className:"code-html-tag"},"a")," ",n.a.createElement("span",{className:"code-html-attribute"},"href"),'="https://leadgeek.io/?lgid=',I||"YOUR_LGID",'"'," ",n.a.createElement("span",{className:"code-html-attribute"},"rel"),'="sponsored">Join Leadgeek now</',n.a.createElement("span",{className:"code-html-tag"},"a"),">"),clipboard:'<a href="https://leadgeek.io/?lgid='.concat(I||"YOUR_LGID",'" rel="sponsored">Join Leadgeek now</a>')},{title:"Image link",code:n.a.createElement("code",null,"<",n.a.createElement("span",{className:"code-html-tag"},"a")," ",n.a.createElement("span",{className:"code-html-attribute"},"href"),'="https://leadgeek.io/?lgid=',I||"YOUR_LGID",'"'," ",n.a.createElement("span",{className:"code-html-attribute"},"rel"),'="sponsored">',n.a.createElement("br",null),"  ","<",n.a.createElement("span",{className:"code-html-tag"},"img")," ",n.a.createElement("span",{className:"code-html-attribute"},"src"),'="https://www.YOUR_WEBSITE.com/YOUR_GRAPHIC.png" />',n.a.createElement("br",null),"</",n.a.createElement("span",{className:"code-html-tag"},"a"),">"),clipboard:'<a href="https://leadgeek.io/?lgid='.concat(I||"YOUR_LGID",'" rel="sponsored"><img src="https://www.YOUR_WEBSITE.com/YOUR_GRAPHIC.png"/></a>')}];return"idle"===e&&a?n.a.createElement(St,null,n.a.createElement(Sa,{title:"Affiliates",description:"Generate your unique link and review payouts"},n.a.createElement("section",{className:"my-6"},O?n.a.createElement("div",{className:"w-full"},n.a.createElement("section",{className:"mt-4 pt-2 md:pt-4 lg:pt-6 pb-4 cs-light-300 card-200"},n.a.createElement("div",{className:"pb-4 border-b border-200"},n.a.createElement("header",{className:"flex items-end justify-between card-padding-x"},n.a.createElement("h2",{className:"font-bold text-lg text-300"},"Basic information"),I&&n.a.createElement("div",{className:"relative"},n.a.createElement("button",{onClick:function(){navigator.clipboard.writeText(I||""),E("LGID copied"),v(!0),setTimeout((function(){v(!1),E("Copy LGID")}),2e3)},onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},className:"py-1 px-2 bg-gray-100 dark:bg-gray-900 text-300 rounded-main text-xs font-semibold transition-main ring-gray"},"Leadgeek ID: ",I),h&&n.a.createElement("div",{className:"absolute top-0 right-0 flex items-center p-2 rounded-lg shadow-md bg-gray-900 text-white text-xs whitespace-nowrap transform -translate-y-10"},x||"Copy LGID")))),n.a.createElement("ul",{className:"grid grid-flow-col grid-rows-5 grid-cols-1 gap-y-3 gap-x-8 mt-4 card-padding-x"},K.map((function(e,t){return n.a.createElement(Ta,{key:t,title:e.title,value:e.value,isInteractable:e.isInteractable,t:e.t,size:e.size})})))),n.a.createElement("section",{className:"mt-4 pt-2 md:pt-4 lg:pt-6 pb-4 cs-light-300 card-200"},n.a.createElement("div",{className:"pb-4 border-b border-200"},n.a.createElement("header",{className:"card-padding-x"},n.a.createElement("h2",{className:"font-bold text-lg text-300"},"Commission history"))),"loading"===q?n.a.createElement(vt,{divWidth:null,center:!1,spinnerWidth:null,margin:!0,text:"Loading affiliate payments..."}):U.length>0?n.a.createElement("div",{className:Ra.tableWrapper},n.a.createElement("table",{className:Ra.table,id:"payments"},n.a.createElement("thead",{className:Ra.tableHeadWrapper},n.a.createElement("tr",{className:Ra.tableHead},n.a.createElement("th",null,"Transaction ID"),n.a.createElement("th",{className:Ra.tableHeadCell},"Plan"),n.a.createElement("th",{className:Ra.tableHeadCell},"Amount"),n.a.createElement("th",{className:"pl-2 text-right"},"Date created"),n.a.createElement("th",{className:"pl-2 text-right"},"Est. payout date"))),n.a.createElement("tbody",{className:Ra.tableBody},U.map((function(e,t){return n.a.createElement("tr",{key:t,className:Ra.rowWrapper},n.a.createElement("td",null,function(e,t){var a=e.slice(3);return a.length>t?a.substr(0,t-1)+"xxxx":e}(e.id,22)),n.a.createElement("td",{className:Ra.defaultCellWrapper},R(e.amount)),n.a.createElement("td",{className:Ra.defaultCellWrapper},n.a.createElement("span",null,"$"),H(e.amount),n.a.createElement("span",{className:Ra.valueIndicator},e.currency.toUpperCase())),n.a.createElement("td",{className:"pl-2 text-right"},V(e.created,!0)),n.a.createElement("td",{className:"pl-2 text-right"},D(e.created).toFormat("LLLL dd, yyyy")))}))))):n.a.createElement("section",{className:"mt-4 card-padding-x"},n.a.createElement(aa,{header:"No affiliate payments found",text:"No payments have been found for your account.",path:Wa.payment,link:"",linkText:""}))),T&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{onClick:function(){B((function(e){return!e}))},className:"absolute inset-0 z-10 h-full w-full bg-gray-900 opacity-25"}),n.a.createElement("div",{className:"absolute top-1/2 inset-x-0 z-20 max-h-screen max-w-4xl mx-auto pt-2 md:pt-4 lg:pt-6 pb-4 cs-light-200 card-200 transform -translate-y-1/2"},n.a.createElement("div",{className:"relative pb-1 border-b border-200"},n.a.createElement("header",{className:"card-padding-x"},n.a.createElement("h3",{className:"text-xl font-bold text-300"},"Generated affiliate links")),n.a.createElement("button",{onClick:function(){return B((function(e){return!e}))},className:"absolute top-0 right-3 md:right-5 lg:right-7 ml-2 p-1 hover:bg-gray-100 rounded-md hover:text-gray-700 ring-gray transition-main"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-base",viewBox:"0 0 20 20",fill:"currentColor"},n.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),n.a.createElement("div",{className:"card-padding-x"},$.map((function(e,t){return n.a.createElement(Ba,{key:t,title:e.title,code:e.code,clipboard:e.clipboard})})))))):n.a.createElement("section",{className:"mt-4"},n.a.createElement(aa,{header:"Become a Leadgeek affiliate",text:"Leadgeek offers 25% lifetime commissions for any new member you refer. Apply @ www.leadgeek.io/affiliates",path:Wa.affiliate,link:"",linkText:""}))))):n.a.createElement("div",{className:"h-screen"},n.a.createElement(vt,{divWidth:null,center:!0,spinnerWidth:null,margin:!1,text:"Loading your Leadgeek profile..."}))},Va=function(e){var t=e.component,a=Object(Zt.a)(e,["component"]),r=Ae((function(e){return e.auth.isAuthenticated})),l=Ae((function(e){return e.auth.status}));return n.a.createElement(u.b,Object.assign({},a,{render:function(e){return r||"idle"!==l?n.a.createElement(t,e):n.a.createElement(u.a,{to:"/login"})}}))},Aa=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(u.b,{exact:!0,path:"/login",component:gt}),n.a.createElement(u.b,{exact:!0,path:"/reset/forgot-password",component:yt}),n.a.createElement(u.b,{exact:!0,path:"/reset/reset-password/:token",component:Et}),n.a.createElement(Va,{exact:!0,path:"/",component:pa}),n.a.createElement(Va,{exact:!0,path:"/leads",component:pa}),n.a.createElement(Va,{exact:!0,path:"/leads/liked",component:fa}),n.a.createElement(Va,{exact:!0,path:"/leads/archived",component:ga}),n.a.createElement(Va,{exact:!0,path:"/search",component:ha}),n.a.createElement(Va,{exact:!0,path:"/settings/account",component:Pa}),n.a.createElement(Va,{exact:!0,path:"/settings/billing",component:za}),n.a.createElement(Va,{exact:!0,path:"/settings/affiliates",component:Ha}),n.a.createElement(Va,{exact:!0,path:"/admin",component:ja}))},Da=function(){Object(r.useEffect)((function(){localStorage.token&&pt(localStorage.token),We.dispatch(Ee()),window.addEventListener("storage",(function(){localStorage.token||We.dispatch(je())}))}),[]);var e=De(),t=(Object(o.a)(e,1)[0],Object(p.a)("pk_test_51HF2gpDdWoP4Ck9RZqPhljVm5WMH4cwsMNSeMuevI8lWugnJQryfuvzx6aExHTTVBGU8woKxosaCzH4VXsKAgfsQ00Y7QBWKlc"));return n.a.createElement(m.Elements,{stripe:t},n.a.createElement(f.a,{store:We},n.a.createElement(d.a,null,n.a.createElement(r.Fragment,null,n.a.createElement(u.d,null,n.a.createElement(Aa,null))))))};a(118);c.a.initialize({gtmId:"GTM-M4FPRGJ"}),i.a.render(n.a.createElement(Da,null),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.7f6ef1e7.chunk.js.map